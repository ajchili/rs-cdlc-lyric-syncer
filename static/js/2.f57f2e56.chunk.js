/*! For license information please see 2.f57f2e56.chunk.js.LICENSE.txt */
(this["webpackJsonprs-cdlc-lyric-syncer"]=this["webpackJsonprs-cdlc-lyric-syncer"]||[]).push([[2],[function(t,e,n){"use strict";t.exports=n(13)},function(t,e,n){"use strict";t.exports=n(14)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";function r(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}function i(t,e,n){return e&&r(t.prototype,e),n&&r(t,n),t}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function r(t){return(r=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function i(t){return(i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){return!e||"object"!==i(e)&&"function"!==typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function a(t){var e=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(t){return!1}}();return function(){var n,i=r(t);if(e){var a=r(this).constructor;n=Reflect.construct(i,arguments,a)}else n=i.apply(this,arguments);return o(this,n)}}n.d(e,"a",(function(){return a}))},function(t,e,n){"use strict";function r(t,e){return(r=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function i(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&r(t,e)}n.d(e,"a",(function(){return i}))},function(t,e,n){"use strict";function r(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}n.d(e,"a",(function(){return r}))},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(6);function i(t,e){if(t){if("string"===typeof t)return Object(r.a)(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Object(r.a)(t,e):void 0}}},function(t,e,n){"use strict";var r=Object.getOwnPropertySymbols,i=Object.prototype.hasOwnProperty,o=Object.prototype.propertyIsEnumerable;function a(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map((function(t){return e[t]})).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach((function(t){r[t]=t})),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(i){return!1}}()?Object.assign:function(t,e){for(var n,s,l=a(t),u=1;u<arguments.length;u++){for(var h in n=Object(arguments[u]))i.call(n,h)&&(l[h]=n[h]);if(r){s=r(n);for(var c=0;c<s.length;c++)o.call(n,s[c])&&(l[s[c]]=n[s[c]])}}return l}},function(t,e,n){"use strict";!function t(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}(),t.exports=n(15)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(7);function i(t,e){var n;if("undefined"===typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(n=Object(r.a)(t))||e&&t&&"number"===typeof t.length){n&&(t=n);var i=0,o=function(){};return{s:o,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:o}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,s=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return s=t.done,t},e:function(t){l=!0,a=t},f:function(){try{s||null==n.return||n.return()}finally{if(l)throw a}}}}},function(t,e,n){(function(e){t.exports=function(){function t(e,n,r){function i(a,s){if(!n[a]){if(!e[a]){if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[a]={exports:{}};e[a][0].call(u.exports,(function(t){return i(e[a][1][t]||t)}),u,u.exports,t,e,n,r)}return n[a].exports}for(var o=!1,a=0;a<r.length;a++)i(r[a]);return i}return t}()({1:[function(t,e,n){!function(){var t={aqua:"#7fdbff",blue:"#0074d9",lime:"#01ff70",navy:"#001f3f",teal:"#39cccc",olive:"#3d9970",green:"#2ecc40",red:"#ff4136",maroon:"#85144b",orange:"#ff851b",purple:"#b10dc9",yellow:"#ffdc00",fuchsia:"#f012be",gray:"#aaaaaa",white:"#ffffff",black:"#111111",silver:"#dddddd"};"undefined"!==typeof e&&"undefined"!==typeof e.exports?e.exports=t:window.colors=t}()},{}],2:[function(t,e,n){"use strict";var r=Object.prototype.hasOwnProperty,i="~";function o(){}function a(t,e,n){this.fn=t,this.context=e,this.once=n||!1}function s(t,e,n,r,o){if("function"!==typeof n)throw new TypeError("The listener must be a function");var s=new a(n,r||t,o),l=i?i+e:e;return t._events[l]?t._events[l].fn?t._events[l]=[t._events[l],s]:t._events[l].push(s):(t._events[l]=s,t._eventsCount++),t}function l(t,e){0===--t._eventsCount?t._events=new o:delete t._events[e]}function u(){this._events=new o,this._eventsCount=0}Object.create&&(o.prototype=Object.create(null),(new o).__proto__||(i=!1)),u.prototype.eventNames=function(){var t,e,n=[];if(0===this._eventsCount)return n;for(e in t=this._events)r.call(t,e)&&n.push(i?e.slice(1):e);return Object.getOwnPropertySymbols?n.concat(Object.getOwnPropertySymbols(t)):n},u.prototype.listeners=function(t){var e=i?i+t:t,n=this._events[e];if(!n)return[];if(n.fn)return[n.fn];for(var r=0,o=n.length,a=new Array(o);r<o;r++)a[r]=n[r].fn;return a},u.prototype.listenerCount=function(t){var e=i?i+t:t,n=this._events[e];return n?n.fn?1:n.length:0},u.prototype.emit=function(t,e,n,r,o,a){var s=i?i+t:t;if(!this._events[s])return!1;var l,u,h=this._events[s],c=arguments.length;if(h.fn){switch(h.once&&this.removeListener(t,h.fn,void 0,!0),c){case 1:return h.fn.call(h.context),!0;case 2:return h.fn.call(h.context,e),!0;case 3:return h.fn.call(h.context,e,n),!0;case 4:return h.fn.call(h.context,e,n,r),!0;case 5:return h.fn.call(h.context,e,n,r,o),!0;case 6:return h.fn.call(h.context,e,n,r,o,a),!0}for(u=1,l=new Array(c-1);u<c;u++)l[u-1]=arguments[u];h.fn.apply(h.context,l)}else{var d,f=h.length;for(u=0;u<f;u++)switch(h[u].once&&this.removeListener(t,h[u].fn,void 0,!0),c){case 1:h[u].fn.call(h[u].context);break;case 2:h[u].fn.call(h[u].context,e);break;case 3:h[u].fn.call(h[u].context,e,n);break;case 4:h[u].fn.call(h[u].context,e,n,r);break;default:if(!l)for(d=1,l=new Array(c-1);d<c;d++)l[d-1]=arguments[d];h[u].fn.apply(h[u].context,l)}}return!0},u.prototype.on=function(t,e,n){return s(this,t,e,n,!1)},u.prototype.once=function(t,e,n){return s(this,t,e,n,!0)},u.prototype.removeListener=function(t,e,n,r){var o=i?i+t:t;if(!this._events[o])return this;if(!e)return l(this,o),this;var a=this._events[o];if(a.fn)a.fn!==e||r&&!a.once||n&&a.context!==n||l(this,o);else{for(var s=0,u=[],h=a.length;s<h;s++)(a[s].fn!==e||r&&!a[s].once||n&&a[s].context!==n)&&u.push(a[s]);u.length?this._events[o]=1===u.length?u[0]:u:l(this,o)}return this},u.prototype.removeAllListeners=function(t){var e;return t?(e=i?i+t:t,this._events[e]&&l(this,e)):(this._events=new o,this._eventsCount=0),this},u.prototype.off=u.prototype.removeListener,u.prototype.addListener=u.prototype.on,u.prefixed=i,u.EventEmitter=u,"undefined"!==typeof e&&(e.exports=u)},{}],3:[function(t,n,r){(function(t){(function(){var e=!!(t===t.window&&t.URL&&t.Blob&&t.Worker);function r(n,r){var i,o=this;if(r=r||{},e)return i=n.toString().trim().match(/^function\s*\w*\s*\([\w\s,]*\)\s*{([\w\W]*?)}$/)[1],new t.Worker(t.URL.createObjectURL(new t.Blob([i],{type:"text/javascript"})));function a(t){setTimeout((function(){o.onmessage({data:t})}),0)}this.self=r,this.self.postMessage=a,setTimeout(n.bind(r,r),0)}r.prototype.postMessage=function(t){var e=this;setTimeout((function(){e.self.onmessage({data:t})}),0)},n.exports=r}).call(this)}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],4:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Global"),i=r.glob.performance&&r.glob.performance.now?function(){return r.glob.performance.now()}:function(){return(new Date).getTime()},o=function(){function t(e,n){this.id=t.animIdCounter++,this.frame={time:0,timeDiff:0,lastTime:i(),frameRate:0},this.func=e,this.setLayers(n)}return t.prototype.setLayers=function(t){var e=[];return e=t?t.length>0?t:[t]:[],this.layers=e,this},t.prototype.getLayers=function(){return this.layers},t.prototype.addLayer=function(t){var e,n=this.layers,r=n.length;for(e=0;e<r;e++)if(n[e]._id===t._id)return!1;return this.layers.push(t),!0},t.prototype.isRunning=function(){var e,n=t.animations,r=n.length;for(e=0;e<r;e++)if(n[e].id===this.id)return!0;return!1},t.prototype.start=function(){return this.stop(),this.frame.timeDiff=0,this.frame.lastTime=i(),t._addAnimation(this),this},t.prototype.stop=function(){return t._removeAnimation(this),this},t.prototype._updateFrameObject=function(t){this.frame.timeDiff=t-this.frame.lastTime,this.frame.lastTime=t,this.frame.time+=this.frame.timeDiff,this.frame.frameRate=1e3/this.frame.timeDiff},t._addAnimation=function(t){this.animations.push(t),this._handleAnimation()},t._removeAnimation=function(t){var e,n=t.id,r=this.animations,i=r.length;for(e=0;e<i;e++)if(r[e].id===n){this.animations.splice(e,1);break}},t._runFrames=function(){var t,e,n,r,o,a,s,l,u={},h=this.animations;for(r=0;r<h.length;r++)if(e=(t=h[r]).layers,n=t.func,t._updateFrameObject(i()),a=e.length,!n||!1!==n.call(t,t.frame))for(o=0;o<a;o++)void 0!==(s=e[o])._id&&(u[s._id]=s);for(l in u)u.hasOwnProperty(l)&&u[l].draw()},t._animationLoop=function(){var e=t;e.animations.length?(e._runFrames(),requestAnimationFrame(e._animationLoop)):e.animRunning=!1},t._handleAnimation=function(){this.animRunning||(this.animRunning=!0,requestAnimationFrame(this._animationLoop))},t.animations=[],t.animIdCounter=0,t.animRunning=!1,t}();n.Animation=o},{"./Global":11}],5:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i,o=t("./Util"),a=t("./Context"),s=t("./Global"),l=t("./Factory"),u=t("./Validators");function h(){if(i)return i;var t=o.Util.createCanvasElement().getContext("2d");return i=(s.Konva._global.devicePixelRatio||1)/(t.webkitBackingStorePixelRatio||t.mozBackingStorePixelRatio||t.msBackingStorePixelRatio||t.oBackingStorePixelRatio||t.backingStorePixelRatio||1)}var c=function(){function t(t){this.pixelRatio=1,this.width=0,this.height=0,this.isCache=!1;var e=(t||{}).pixelRatio||s.Konva.pixelRatio||h();this.pixelRatio=e,this._canvas=o.Util.createCanvasElement(),this._canvas.style.padding="0",this._canvas.style.margin="0",this._canvas.style.border="0",this._canvas.style.background="transparent",this._canvas.style.position="absolute",this._canvas.style.top="0",this._canvas.style.left="0"}return t.prototype.getContext=function(){return this.context},t.prototype.getPixelRatio=function(){return this.pixelRatio},t.prototype.setPixelRatio=function(t){var e=this.pixelRatio;this.pixelRatio=t,this.setSize(this.getWidth()/e,this.getHeight()/e)},t.prototype.setWidth=function(t){this.width=this._canvas.width=t*this.pixelRatio,this._canvas.style.width=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.setHeight=function(t){this.height=this._canvas.height=t*this.pixelRatio,this._canvas.style.height=t+"px";var e=this.pixelRatio;this.getContext()._context.scale(e,e)},t.prototype.getWidth=function(){return this.width},t.prototype.getHeight=function(){return this.height},t.prototype.setSize=function(t,e){this.setWidth(t||0),this.setHeight(e||0)},t.prototype.toDataURL=function(t,e){try{return this._canvas.toDataURL(t,e)}catch(n){try{return this._canvas.toDataURL()}catch(r){return o.Util.error("Unable to get data URL. "+r.message+" For more info read https://konvajs.org/docs/posts/Tainted_Canvas.html."),""}}},t}();n.Canvas=c,l.Factory.addGetterSetter(c,"pixelRatio",void 0,u.getNumberValidator());var d=function(t){function e(e){void 0===e&&(e={width:0,height:0});var n=t.call(this,e)||this;return n.context=new a.SceneContext(n),n.setSize(e.width,e.height),n}return r(e,t),e}(c);n.SceneCanvas=d;var f=function(t){function e(e){void 0===e&&(e={width:0,height:0});var n=t.call(this,e)||this;return n.hitCanvas=!0,n.context=new a.HitContext(n),n.setSize(e.width,e.height),n}return r(e,t),e}(c);n.HitCanvas=f},{"./Context":7,"./Factory":9,"./Global":11,"./Util":19,"./Validators":20}],6:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Util"),o=t("./Factory"),a=t("./Node"),s=t("./Validators"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.children=new i.Collection,e}return r(e,t),e.prototype.getChildren=function(t){if(!t)return this.children;var e=new i.Collection;return this.children.each((function(n){t(n)&&e.push(n)})),e},e.prototype.hasChildren=function(){return this.getChildren().length>0},e.prototype.removeChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.remove();return this.children=new i.Collection,this},e.prototype.destroyChildren=function(){for(var t,e=0;e<this.children.length;e++)(t=this.children[e]).parent=null,t.index=0,t.destroy();return this.children=new i.Collection,this},e.prototype.add=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}var r=t[0];if(r.getParent())return r.moveTo(this),this;var i=this.children;return this._validateAdd(r),r._clearCaches(),r.index=i.length,r.parent=this,i.push(r),this._fire("add",{child:r}),this},e.prototype.destroy=function(){return this.hasChildren()&&this.destroyChildren(),t.prototype.destroy.call(this),this},e.prototype.find=function(t){return this._generalFind(t,!1)},e.prototype.get=function(t){return i.Util.warn("collection.get() method is deprecated. Please use collection.find() instead."),this.find(t)},e.prototype.findOne=function(t){var e=this._generalFind(t,!0);return e.length>0?e[0]:void 0},e.prototype._generalFind=function(t,e){var n=[];return this._descendants((function(r){var i=r._isMatch(t);return i&&n.push(r),!(!i||!e)})),i.Collection.toCollection(n)},e.prototype._descendants=function(t){for(var e=0;e<this.children.length;e++){var n=this.children[e];if(t(n))return!0;if(n.hasChildren()&&n._descendants(t))return!0}return!1},e.prototype.toObject=function(){var t=a.Node.prototype.toObject.call(this);t.children=[];for(var e=this.getChildren(),n=e.length,r=0;r<n;r++){var i=e[r];t.children.push(i.toObject())}return t},e.prototype.isAncestorOf=function(t){for(var e=t.getParent();e;){if(e._id===this._id)return!0;e=e.getParent()}return!1},e.prototype.clone=function(t){var e=a.Node.prototype.clone.call(this,t);return this.getChildren().each((function(t){e.add(t.clone())})),e},e.prototype.getAllIntersections=function(t){var e=[];return this.find("Shape").each((function(n){n.isVisible()&&n.intersects(t)&&e.push(n)})),e},e.prototype._setChildrenIndices=function(){this.children.each((function(t,e){t.index=e}))},e.prototype.drawScene=function(t,e){var n=this.getLayer(),r=t||n&&n.getCanvas(),i=r&&r.getContext(),o=this._getCanvasCache(),a=o&&o.scene,s=r&&r.isCache;if(!this.isVisible()&&!s)return this;if(a){i.save();var l=this.getAbsoluteTransform(e).getMatrix();i.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this._drawCachedSceneCanvas(i),i.restore()}else this._drawChildren("drawScene",r,e);return this},e.prototype.drawHit=function(t,e){if(!this.shouldDrawHit(e))return this;var n=this.getLayer(),r=t||n&&n.hitCanvas,i=r&&r.getContext(),o=this._getCanvasCache();if(o&&o.hit){i.save();var a=this.getAbsoluteTransform(e).getMatrix();i.transform(a[0],a[1],a[2],a[3],a[4],a[5]),this._drawCachedHitCanvas(i),i.restore()}else this._drawChildren("drawHit",r,e);return this},e.prototype._drawChildren=function(t,e,n){var r=e&&e.getContext(),i=this.clipWidth(),o=this.clipHeight(),a=this.clipFunc(),s=i&&o||a,l=n===this;if(s){r.save();var u=this.getAbsoluteTransform(n),h=u.getMatrix();if(r.transform(h[0],h[1],h[2],h[3],h[4],h[5]),r.beginPath(),a)a.call(this,r,this);else{var c=this.clipX(),d=this.clipY();r.rect(c,d,i,o)}r.clip(),h=u.copy().invert().getMatrix(),r.transform(h[0],h[1],h[2],h[3],h[4],h[5])}var f=!l&&"source-over"!==this.globalCompositeOperation()&&"drawScene"===t;f&&(r.save(),r._applyGlobalCompositeOperation(this)),this.children.each((function(r){r[t](e,n)})),f&&r.restore(),s&&r.restore()},e.prototype.getClientRect=function(t){var e,n,r,i,o=(t=t||{}).skipTransform,a=t.relativeTo,s={x:1/0,y:1/0,width:0,height:0},l=this;this.children.each((function(o){if(o.visible()){var a=o.getClientRect({relativeTo:l,skipShadow:t.skipShadow,skipStroke:t.skipStroke});0===a.width&&0===a.height||(void 0===e?(e=a.x,n=a.y,r=a.x+a.width,i=a.y+a.height):(e=Math.min(e,a.x),n=Math.min(n,a.y),r=Math.max(r,a.x+a.width),i=Math.max(i,a.y+a.height)))}}));for(var u=this.find("Shape"),h=!1,c=0;c<u.length;c++)if(u[c]._isVisible(this)){h=!0;break}return s=h&&void 0!==e?{x:e,y:n,width:r-e,height:i-n}:{x:0,y:0,width:0,height:0},o?s:this._transformedRect(s,a)},e}(a.Node);n.Container=l,o.Factory.addComponentsGetterSetter(l,"clip",["x","y","width","height"]),o.Factory.addGetterSetter(l,"clipX",void 0,s.getNumberValidator()),o.Factory.addGetterSetter(l,"clipY",void 0,s.getNumberValidator()),o.Factory.addGetterSetter(l,"clipWidth",void 0,s.getNumberValidator()),o.Factory.addGetterSetter(l,"clipHeight",void 0,s.getNumberValidator()),o.Factory.addGetterSetter(l,"clipFunc"),i.Collection.mapMethods(l)},{"./Factory":9,"./Node":14,"./Util":19,"./Validators":20}],7:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Util"),o=t("./Global"),a=",",s="(",l=")",u="([",h="])",c=";",d="()",f="=",p=["arc","arcTo","beginPath","bezierCurveTo","clearRect","clip","closePath","createLinearGradient","createPattern","createRadialGradient","drawImage","ellipse","fill","fillText","getImageData","createImageData","lineTo","moveTo","putImageData","quadraticCurveTo","rect","restore","rotate","save","scale","setLineDash","setTransform","stroke","strokeText","transform","translate"],g=["fillStyle","strokeStyle","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","lineCap","lineDashOffset","lineJoin","lineWidth","miterLimit","font","textAlign","textBaseline","globalAlpha","globalCompositeOperation","imageSmoothingEnabled"],y=100,m=function(){function t(t){this.canvas=t,this._context=t._canvas.getContext("2d"),o.Konva.enableTrace&&(this.traceArr=[],this._enableTrace())}return t.prototype.fillShape=function(t){t.fillEnabled()&&this._fill(t)},t.prototype._fill=function(t){},t.prototype.strokeShape=function(t){t.hasStroke()&&this._stroke(t)},t.prototype._stroke=function(t){},t.prototype.fillStrokeShape=function(t){this.fillShape(t),this.strokeShape(t)},t.prototype.getTrace=function(t){var e,n,r,o,p=this.traceArr,g=p.length,y="";for(e=0;e<g;e++)(r=(n=p[e]).method)?(o=n.args,y+=r,t?y+=d:i.Util._isArray(o[0])?y+=u+o.join(a)+h:y+=s+o.join(a)+l):(y+=n.property,t||(y+=f+n.val)),y+=c;return y},t.prototype.clearTrace=function(){this.traceArr=[]},t.prototype._trace=function(t){var e=this.traceArr;e.push(t),e.length>=y&&e.shift()},t.prototype.reset=function(){var t=this.getCanvas().getPixelRatio();this.setTransform(1*t,0,0,1*t,0,0)},t.prototype.getCanvas=function(){return this.canvas},t.prototype.clear=function(t){var e=this.getCanvas();t?this.clearRect(t.x||0,t.y||0,t.width||0,t.height||0):this.clearRect(0,0,e.getWidth()/e.pixelRatio,e.getHeight()/e.pixelRatio)},t.prototype._applyLineCap=function(t){var e=t.getLineCap();e&&this.setAttr("lineCap",e)},t.prototype._applyOpacity=function(t){var e=t.getAbsoluteOpacity();1!==e&&this.setAttr("globalAlpha",e)},t.prototype._applyLineJoin=function(t){var e=t.attrs.lineJoin;e&&this.setAttr("lineJoin",e)},t.prototype.setAttr=function(t,e){this._context[t]=e},t.prototype.arc=function(t,e,n,r,i,o){this._context.arc(t,e,n,r,i,o)},t.prototype.arcTo=function(t,e,n,r,i){this._context.arcTo(t,e,n,r,i)},t.prototype.beginPath=function(){this._context.beginPath()},t.prototype.bezierCurveTo=function(t,e,n,r,i,o){this._context.bezierCurveTo(t,e,n,r,i,o)},t.prototype.clearRect=function(t,e,n,r){this._context.clearRect(t,e,n,r)},t.prototype.clip=function(){this._context.clip()},t.prototype.closePath=function(){this._context.closePath()},t.prototype.createImageData=function(t,e){var n=arguments;return 2===n.length?this._context.createImageData(t,e):1===n.length?this._context.createImageData(t):void 0},t.prototype.createLinearGradient=function(t,e,n,r){return this._context.createLinearGradient(t,e,n,r)},t.prototype.createPattern=function(t,e){return this._context.createPattern(t,e)},t.prototype.createRadialGradient=function(t,e,n,r,i,o){return this._context.createRadialGradient(t,e,n,r,i,o)},t.prototype.drawImage=function(t,e,n,r,i,o,a,s,l){var u=arguments,h=this._context;3===u.length?h.drawImage(t,e,n):5===u.length?h.drawImage(t,e,n,r,i):9===u.length&&h.drawImage(t,e,n,r,i,o,a,s,l)},t.prototype.ellipse=function(t,e,n,r,i,o,a,s){this._context.ellipse(t,e,n,r,i,o,a,s)},t.prototype.isPointInPath=function(t,e){return this._context.isPointInPath(t,e)},t.prototype.fill=function(){this._context.fill()},t.prototype.fillRect=function(t,e,n,r){this._context.fillRect(t,e,n,r)},t.prototype.strokeRect=function(t,e,n,r){this._context.strokeRect(t,e,n,r)},t.prototype.fillText=function(t,e,n){this._context.fillText(t,e,n)},t.prototype.measureText=function(t){return this._context.measureText(t)},t.prototype.getImageData=function(t,e,n,r){return this._context.getImageData(t,e,n,r)},t.prototype.lineTo=function(t,e){this._context.lineTo(t,e)},t.prototype.moveTo=function(t,e){this._context.moveTo(t,e)},t.prototype.rect=function(t,e,n,r){this._context.rect(t,e,n,r)},t.prototype.putImageData=function(t,e,n){this._context.putImageData(t,e,n)},t.prototype.quadraticCurveTo=function(t,e,n,r){this._context.quadraticCurveTo(t,e,n,r)},t.prototype.restore=function(){this._context.restore()},t.prototype.rotate=function(t){this._context.rotate(t)},t.prototype.save=function(){this._context.save()},t.prototype.scale=function(t,e){this._context.scale(t,e)},t.prototype.setLineDash=function(t){this._context.setLineDash?this._context.setLineDash(t):"mozDash"in this._context?this._context.mozDash=t:"webkitLineDash"in this._context&&(this._context.webkitLineDash=t)},t.prototype.getLineDash=function(){return this._context.getLineDash()},t.prototype.setTransform=function(t,e,n,r,i,o){this._context.setTransform(t,e,n,r,i,o)},t.prototype.stroke=function(){this._context.stroke()},t.prototype.strokeText=function(t,e,n,r){this._context.strokeText(t,e,n,r)},t.prototype.transform=function(t,e,n,r,i,o){this._context.transform(t,e,n,r,i,o)},t.prototype.translate=function(t,e){this._context.translate(t,e)},t.prototype._enableTrace=function(){var t,e,n=this,r=p.length,o=i.Util._simplifyArray,a=this.setAttr,s=function(t){var r,i=n[t];n[t]=function(){return e=o(Array.prototype.slice.call(arguments,0)),r=i.apply(n,arguments),n._trace({method:t,args:e}),r}};for(t=0;t<r;t++)s(p[t]);n.setAttr=function(){a.apply(n,arguments);var t=arguments[0],e=arguments[1];"shadowOffsetX"!==t&&"shadowOffsetY"!==t&&"shadowBlur"!==t||(e/=this.canvas.getPixelRatio()),n._trace({property:t,val:e})}},t.prototype._applyGlobalCompositeOperation=function(t){var e=t.getGlobalCompositeOperation();"source-over"!==e&&this.setAttr("globalCompositeOperation",e)},t}();n.Context=m,g.forEach((function(t){Object.defineProperty(m.prototype,t,{get:function(){return this._context[t]},set:function(e){this._context[t]=e}})}));var v=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._fillColor=function(t){var e=t.fill();this.setAttr("fillStyle",e),t._fillFunc(this)},e.prototype._fillPattern=function(t){var e=t.getFillPatternX(),n=t.getFillPatternY(),r=o.Konva.getAngle(t.getFillPatternRotation()),i=t.getFillPatternOffsetX(),a=t.getFillPatternOffsetY();t.getFillPatternScaleX(),t.getFillPatternScaleY(),(e||n)&&this.translate(e||0,n||0),r&&this.rotate(r),(i||a)&&this.translate(-1*i,-1*a),this.setAttr("fillStyle",t._getFillPattern()),t._fillFunc(this)},e.prototype._fillLinearGradient=function(t){var e=t._getLinearGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fillRadialGradient=function(t){var e=t._getRadialGradient();e&&(this.setAttr("fillStyle",e),t._fillFunc(this))},e.prototype._fill=function(t){var e=t.fill(),n=t.getFillPriority();if(e&&"color"===n)this._fillColor(t);else{var r=t.getFillPatternImage();if(r&&"pattern"===n)this._fillPattern(t);else{var i=t.getFillLinearGradientColorStops();if(i&&"linear-gradient"===n)this._fillLinearGradient(t);else{var o=t.getFillRadialGradientColorStops();o&&"radial-gradient"===n?this._fillRadialGradient(t):e?this._fillColor(t):r?this._fillPattern(t):i?this._fillLinearGradient(t):o&&this._fillRadialGradient(t)}}}},e.prototype._strokeLinearGradient=function(t){var e=t.getStrokeLinearGradientStartPoint(),n=t.getStrokeLinearGradientEndPoint(),r=t.getStrokeLinearGradientColorStops(),i=this.createLinearGradient(e.x,e.y,n.x,n.y);if(r){for(var o=0;o<r.length;o+=2)i.addColorStop(r[o],r[o+1]);this.setAttr("strokeStyle",i)}},e.prototype._stroke=function(t){var e=t.dash(),n=t.getStrokeScaleEnabled();if(t.hasStroke()){if(!n){this.save();var r=this.getCanvas().getPixelRatio();this.setTransform(r,0,0,r,0,0)}this._applyLineCap(t),e&&t.dashEnabled()&&(this.setLineDash(e),this.setAttr("lineDashOffset",t.dashOffset())),this.setAttr("lineWidth",t.strokeWidth()),t.getShadowForStrokeEnabled()||this.setAttr("shadowColor","rgba(0,0,0,0)"),t.getStrokeLinearGradientColorStops()?this._strokeLinearGradient(t):this.setAttr("strokeStyle",t.stroke()),t._strokeFunc(this),n||this.restore()}},e.prototype._applyShadow=function(t){var e=i.Util,n=e.get(t.getShadowRGBA(),"black"),r=e.get(t.getShadowBlur(),5),o=e.get(t.getShadowOffset(),{x:0,y:0}),a=t.getAbsoluteScale(),s=this.canvas.getPixelRatio(),l=a.x*s,u=a.y*s;this.setAttr("shadowColor",n),this.setAttr("shadowBlur",r*Math.min(Math.abs(l),Math.abs(u))),this.setAttr("shadowOffsetX",o.x*l),this.setAttr("shadowOffsetY",o.y*u)},e}(m);n.SceneContext=v;var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._fill=function(t){this.save(),this.setAttr("fillStyle",t.colorKey),t._fillFuncHit(this),this.restore()},e.prototype.strokeShape=function(t){t.hasHitStroke()&&this._stroke(t)},e.prototype._stroke=function(t){if(t.hasHitStroke()){var e=t.getStrokeScaleEnabled();if(!e){this.save();var n=this.getCanvas().getPixelRatio();this.setTransform(n,0,0,n,0,0)}this._applyLineCap(t);var r=t.hitStrokeWidth(),i="auto"===r?t.strokeWidth():r;this.setAttr("lineWidth",i),this.setAttr("strokeStyle",t.colorKey),t._strokeFuncHit(this),e||this.restore()}},e}(m);n.HitContext=_},{"./Global":11,"./Util":19}],8:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Global"),i=t("./Util");n.DD={get isDragging(){var t=!1;return n.DD._dragElements.forEach((function(e){"dragging"===e.dragStatus&&(t=!0)})),t},justDragged:!1,get node(){var t;return n.DD._dragElements.forEach((function(e){t=e.node})),t},_dragElements:new Map,_drag:function(t){var e=[];n.DD._dragElements.forEach((function(n,r){var o=n.node,a=o.getStage();a.setPointersPositions(t),void 0===n.pointerId&&(n.pointerId=i.Util._getFirstPointerId(t));var s=a._changedPointerPositions.find((function(t){return t.id===n.pointerId}));if(s){if("dragging"!==n.dragStatus){var l=o.dragDistance();if(Math.max(Math.abs(s.x-n.startPointerPos.x),Math.abs(s.y-n.startPointerPos.y))<l)return;if(o.startDrag({evt:t}),!o.isDragging())return}o._setDragPosition(t,n),e.push(o)}})),e.forEach((function(e){e.fire("dragmove",{type:"dragmove",target:e,evt:t},!0)}))},_endDragBefore:function(t){n.DD._dragElements.forEach((function(e,i){var o=e.node.getStage();if(t&&o.setPointersPositions(t),o._changedPointerPositions.find((function(t){return t.id===e.pointerId}))){"dragging"!==e.dragStatus&&"stopped"!==e.dragStatus||(n.DD.justDragged=!0,r.Konva.listenClickTap=!1,e.dragStatus="stopped");var a=e.node.getLayer()||e.node instanceof r.Konva.Stage&&e.node;a&&a.draw()}}))},_endDragAfter:function(t){n.DD._dragElements.forEach((function(e,r){"stopped"===e.dragStatus&&e.node.fire("dragend",{type:"dragend",target:e.node,evt:t},!0),"dragging"!==e.dragStatus&&n.DD._dragElements.delete(r)}))}},r.Konva.isBrowser&&(window.addEventListener("mouseup",n.DD._endDragBefore,!0),window.addEventListener("touchend",n.DD._endDragBefore,!0),window.addEventListener("mousemove",n.DD._drag),window.addEventListener("touchmove",n.DD._drag),window.addEventListener("mouseup",n.DD._endDragAfter,!1),window.addEventListener("touchend",n.DD._endDragAfter,!1))},{"./Global":11,"./Util":19}],9:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Util"),i=t("./Validators"),o="get",a="set";n.Factory={addGetterSetter:function(t,e,r,i,o){n.Factory.addGetter(t,e,r),n.Factory.addSetter(t,e,i,o),n.Factory.addOverloadedGetterSetter(t,e)},addGetter:function(t,e,n){var i=o+r.Util._capitalize(e);t.prototype[i]=t.prototype[i]||function(){var t=this.attrs[e];return void 0===t?n:t}},addSetter:function(t,e,i,o){var s=a+r.Util._capitalize(e);t.prototype[s]||n.Factory.overWriteSetter(t,e,i,o)},overWriteSetter:function(t,e,n,i){var o=a+r.Util._capitalize(e);t.prototype[o]=function(t){return n&&void 0!==t&&null!==t&&(t=n.call(this,t,e)),this._setAttr(e,t),i&&i.call(this),this}},addComponentsGetterSetter:function(t,e,s,l,u){var h,c,d=s.length,f=r.Util._capitalize,p=o+f(e),g=a+f(e);t.prototype[p]=function(){var t={};for(h=0;h<d;h++)t[c=s[h]]=this.getAttr(e+f(c));return t};var y=i.getComponentValidator(s);t.prototype[g]=function(t){var n,r=this.attrs[e];for(n in l&&(t=l.call(this,t)),y&&y.call(this,t,e),t)t.hasOwnProperty(n)&&this._setAttr(e+f(n),t[n]);return this._fireChangeEvent(e,r,t),u&&u.call(this),this},n.Factory.addOverloadedGetterSetter(t,e)},addOverloadedGetterSetter:function(t,e){var n=r.Util._capitalize(e),i=a+n,s=o+n;t.prototype[e]=function(){return arguments.length?(this[i](arguments[0]),this):this[s]()}},addDeprecatedGetterSetter:function(t,e,i,a){r.Util.error("Adding deprecated "+e);var s=o+r.Util._capitalize(e),l=e+" property is deprecated and will be removed soon. Look at Konva change log for more information.";t.prototype[s]=function(){r.Util.error(l);var t=this.attrs[e];return void 0===t?i:t},n.Factory.addSetter(t,e,a,(function(){r.Util.error(l)})),n.Factory.addOverloadedGetterSetter(t,e)},backCompat:function(t,e){r.Util.each(e,(function(e,n){var i=t.prototype[n],s=o+r.Util._capitalize(e),l=a+r.Util._capitalize(e);function u(){i.apply(this,arguments),r.Util.error('"'+e+'" method is deprecated and will be removed soon. Use ""'+n+'" instead.')}t.prototype[e]=u,t.prototype[s]=u,t.prototype[l]=u}))},afterSetFilter:function(){this._filterUpToDate=!1}}},{"./Util":19,"./Validators":20}],10:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Util"),o=t("./Layer"),a=t("./Global"),s=function(t){function e(e){var n=t.call(this,e)||this;return n.listening(!1),i.Util.warn('Konva.Fast layer is deprecated. Please use "new Konva.Layer({ listening: false })" instead.'),n}return r(e,t),e}(o.Layer);n.FastLayer=s,s.prototype.nodeType="FastLayer",a._registerNode(s),i.Collection.mapMethods(s)},{"./Global":11,"./Layer":13,"./Util":19}],11:[function(t,n,r){(function(t){(function(){"use strict";Object.defineProperty(r,"__esModule",{value:!0});var e=Math.PI/180;function n(){return"undefined"!==typeof window&&("[object Window]"==={}.toString.call(window)||"[object global]"==={}.toString.call(window))}var i=function(t){var e=t.indexOf("msie ");if(e>0)return parseInt(t.substring(e+5,t.indexOf(".",e)),10);if(t.indexOf("trident/")>0){var n=t.indexOf("rv:");return parseInt(t.substring(n+3,t.indexOf(".",n)),10)}var r=t.indexOf("edge/");return r>0&&parseInt(t.substring(r+5,t.indexOf(".",r)),10)};r._parseUA=function(t){var e=t.toLowerCase(),n=/(chrome)[ /]([\w.]+)/.exec(e)||/(webkit)[ /]([\w.]+)/.exec(e)||/(opera)(?:.*version|)[ /]([\w.]+)/.exec(e)||/(msie) ([\w.]+)/.exec(e)||e.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(e)||[],r=!!t.match(/Android|BlackBerry|iPhone|iPad|iPod|Opera Mini|IEMobile/i),o=!!t.match(/IEMobile/i);return{browser:n[1]||"",version:n[2]||"0",isIE:i(e),mobile:r,ieMobile:o}},r.glob="undefined"!==typeof t?t:"undefined"!==typeof window?window:"undefined"!==typeof WorkerGlobalScope?self:{},r.Konva={_global:r.glob,version:"7.1.4",isBrowser:n(),isUnminified:/param/.test(function(t){}.toString()),dblClickWindow:400,getAngle:function(t){return r.Konva.angleDeg?t*e:t},enableTrace:!1,_pointerEventsEnabled:!1,hitOnDragEnabled:!1,captureTouchEventsEnabled:!1,listenClickTap:!1,inDblClickWindow:!1,pixelRatio:void 0,dragDistance:3,angleDeg:!0,showWarnings:!0,dragButtons:[0,1],isDragging:function(){return r.Konva.DD.isDragging},isDragReady:function(){return!!r.Konva.DD.node},UA:r._parseUA(r.glob.navigator&&r.glob.navigator.userAgent||""),document:r.glob.document,_injectGlobal:function(t){r.glob.Konva=t},_parseUA:r._parseUA},r._NODES_REGISTRY={},r._registerNode=function(t){r._NODES_REGISTRY[t.prototype.getClassName()]=t,r.Konva[t.prototype.getClassName()]=t}}).call(this)}).call(this,"undefined"!==typeof e?e:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})},{}],12:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Util"),o=t("./Container"),a=t("./Global"),s=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&i.Util.throw("You may only add groups and shapes to groups.")},e}(o.Container);n.Group=s,s.prototype.nodeType="Group",a._registerNode(s),i.Collection.mapMethods(s)},{"./Container":6,"./Global":11,"./Util":19}],13:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Util"),o=t("./Container"),a=t("./Node"),s=t("./Factory"),l=t("./Canvas"),u=t("./Validators"),h=t("./Shape"),c=t("./Global"),d="#",f="beforeDraw",p="draw",g=[{x:0,y:0},{x:-1,y:-1},{x:1,y:-1},{x:1,y:1},{x:-1,y:1}],y=g.length,m=function(t){function e(e){var n=t.call(this,e)||this;return n.canvas=new l.SceneCanvas,n.hitCanvas=new l.HitCanvas({pixelRatio:1}),n._waitingForDraw=!1,n.on("visibleChange.konva",n._checkVisibility),n._checkVisibility(),n.on("imageSmoothingEnabledChange.konva",n._setSmoothEnabled),n._setSmoothEnabled(),n}return r(e,t),e.prototype.createPNGStream=function(){return this.canvas._canvas.createPNGStream()},e.prototype.getCanvas=function(){return this.canvas},e.prototype.getHitCanvas=function(){return this.hitCanvas},e.prototype.getContext=function(){return this.getCanvas().getContext()},e.prototype.clear=function(t){return this.getContext().clear(t),this.getHitCanvas().getContext().clear(t),this},e.prototype.setZIndex=function(e){t.prototype.setZIndex.call(this,e);var n=this.getStage();return n&&(n.content.removeChild(this.getCanvas()._canvas),e<n.children.length-1?n.content.insertBefore(this.getCanvas()._canvas,n.children[e+1].getCanvas()._canvas):n.content.appendChild(this.getCanvas()._canvas)),this},e.prototype.moveToTop=function(){a.Node.prototype.moveToTop.call(this);var t=this.getStage();return t&&(t.content.removeChild(this.getCanvas()._canvas),t.content.appendChild(this.getCanvas()._canvas)),!0},e.prototype.moveUp=function(){if(!a.Node.prototype.moveUp.call(this))return!1;var t=this.getStage();return!!t&&(t.content.removeChild(this.getCanvas()._canvas),this.index<t.children.length-1?t.content.insertBefore(this.getCanvas()._canvas,t.children[this.index+1].getCanvas()._canvas):t.content.appendChild(this.getCanvas()._canvas),!0)},e.prototype.moveDown=function(){if(a.Node.prototype.moveDown.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[this.index+1].getCanvas()._canvas)}return!0}return!1},e.prototype.moveToBottom=function(){if(a.Node.prototype.moveToBottom.call(this)){var t=this.getStage();if(t){var e=t.children;t.content.removeChild(this.getCanvas()._canvas),t.content.insertBefore(this.getCanvas()._canvas,e[1].getCanvas()._canvas)}return!0}return!1},e.prototype.getLayer=function(){return this},e.prototype.remove=function(){var t=this.getCanvas()._canvas;return a.Node.prototype.remove.call(this),t&&t.parentNode&&i.Util._isInDocument(t)&&t.parentNode.removeChild(t),this},e.prototype.getStage=function(){return this.parent},e.prototype.setSize=function(t){var e=t.width,n=t.height;return this.canvas.setSize(e,n),this.hitCanvas.setSize(e,n),this._setSmoothEnabled(),this},e.prototype._validateAdd=function(t){var e=t.getType();"Group"!==e&&"Shape"!==e&&i.Util.throw("You may only add groups and shapes to a layer.")},e.prototype._toKonvaCanvas=function(t){return(t=t||{}).width=t.width||this.getWidth(),t.height=t.height||this.getHeight(),t.x=void 0!==t.x?t.x:this.x(),t.y=void 0!==t.y?t.y:this.y(),a.Node.prototype._toKonvaCanvas.call(this,t)},e.prototype._checkVisibility=function(){var t=this.visible();this.canvas._canvas.style.display=t?"block":"none"},e.prototype._setSmoothEnabled=function(){this.getContext()._context.imageSmoothingEnabled=this.imageSmoothingEnabled()},e.prototype.getWidth=function(){if(this.parent)return this.parent.width()},e.prototype.setWidth=function(){i.Util.warn('Can not change width of layer. Use "stage.width(value)" function instead.')},e.prototype.getHeight=function(){if(this.parent)return this.parent.height()},e.prototype.setHeight=function(){i.Util.warn('Can not change height of layer. Use "stage.height(value)" function instead.')},e.prototype.batchDraw=function(){var t=this;return this._waitingForDraw||(this._waitingForDraw=!0,i.Util.requestAnimFrame((function(){t.draw(),t._waitingForDraw=!1}))),this},e.prototype.getIntersection=function(t,e){var n,r,i,o;if(!this.isListening()||!this.isVisible())return null;for(var a=1,s=!1;;){for(r=0;r<y;r++){if(i=g[r],(o=(n=this._getIntersection({x:t.x+i.x*a,y:t.y+i.y*a})).shape)&&e)return o.findAncestor(e,!0);if(o)return o;if(s=!!n.antialiased,!n.antialiased)break}if(!s)return null;a+=1}},e.prototype._getIntersection=function(t){var e,n,r=this.hitCanvas.pixelRatio,o=this.hitCanvas.context.getImageData(Math.round(t.x*r),Math.round(t.y*r),1,1).data,a=o[3];return 255===a?(e=i.Util._rgbToHex(o[0],o[1],o[2]),(n=h.shapes[d+e])?{shape:n}:{antialiased:!0}):a>0?{antialiased:!0}:{}},e.prototype.drawScene=function(t,e){var n=this.getLayer(),r=t||n&&n.getCanvas();return this._fire(f,{node:this}),this.clearBeforeDraw()&&r.getContext().clear(),o.Container.prototype.drawScene.call(this,r,e),this._fire(p,{node:this}),this},e.prototype.drawHit=function(t,e){var n=this.getLayer(),r=t||n&&n.hitCanvas;return n&&n.clearBeforeDraw()&&n.getHitCanvas().getContext().clear(),o.Container.prototype.drawHit.call(this,r,e),this},e.prototype.enableHitGraph=function(){return this.hitGraphEnabled(!0),this},e.prototype.disableHitGraph=function(){return this.hitGraphEnabled(!1),this},e.prototype.setHitGraphEnabled=function(t){i.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening(t)},e.prototype.getHitGraphEnabled=function(t){return i.Util.warn("hitGraphEnabled method is deprecated. Please use layer.listening() instead."),this.listening()},e.prototype.toggleHitCanvas=function(){if(this.parent){var t=this.parent;this.hitCanvas._canvas.parentNode?t.content.removeChild(this.hitCanvas._canvas):t.content.appendChild(this.hitCanvas._canvas)}},e}(o.Container);n.Layer=m,m.prototype.nodeType="Layer",c._registerNode(m),s.Factory.addGetterSetter(m,"imageSmoothingEnabled",!0),s.Factory.addGetterSetter(m,"clearBeforeDraw",!0),s.Factory.addGetterSetter(m,"hitGraphEnabled",!0,u.getBooleanValidator()),i.Collection.mapMethods(m)},{"./Canvas":5,"./Container":6,"./Factory":9,"./Global":11,"./Node":14,"./Shape":16,"./Util":19,"./Validators":20}],14:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Util"),i=t("./Factory"),o=t("./Canvas"),a=t("./Global"),s=t("./DragAndDrop"),l=t("./Validators");n.ids={},n.names={};var u=function(t,e){e&&(n.ids[e]=t)};n._removeId=function(t,e){t&&n.ids[t]===e&&delete n.ids[t]},n._addName=function(t,e){e&&(n.names[e]||(n.names[e]=[]),n.names[e].push(t))},n._removeName=function(t,e){if(t){var r=n.names[t];if(r){for(var i=0;i<r.length;i++)r[i]._id===e&&r.splice(i,1);0===r.length&&delete n.names[t]}}};var h="absoluteOpacity",c="allEventListeners",d="absoluteTransform",f="absoluteScale",p="canvas",g="Change",y="children",m="konva",v="listening",_="mouseenter",b="mouseleave",w="name",S="set",x="Shape",k=" ",C="stage",P="transform",T="Stage",E="visible",M=["xChange.konva","yChange.konva","scaleXChange.konva","scaleYChange.konva","skewXChange.konva","skewYChange.konva","rotationChange.konva","offsetXChange.konva","offsetYChange.konva","transformsEnabledChange.konva"].join(k),L=(["scaleXChange.konva","scaleYChange.konva"].join(k),new r.Collection),F=1,A=function(){function t(t){this._id=F++,this.eventListeners={},this.attrs={},this.index=0,this._allEventListeners=null,this.parent=null,this._cache=new Map,this._attachedDepsListeners=new Map,this._lastPos=null,this._batchingTransformChange=!1,this._needClearTransformCache=!1,this._filterUpToDate=!1,this._isUnderCache=!1,this.children=L,this._dragEventId=null,this._shouldFireChangeEvents=!1,this.setAttrs(t),this._shouldFireChangeEvents=!0}return t.prototype.hasChildren=function(){return!1},t.prototype.getChildren=function(){return L},t.prototype._clearCache=function(t){t!==P&&t!==d||!this._cache.get(t)?t?this._cache.delete(t):this._cache.clear():this._cache.get(t).dirty=!0},t.prototype._getCache=function(t,e){var n=this._cache.get(t);return(void 0===n||(t===P||t===d)&&!0===n.dirty)&&(n=e.call(this),this._cache.set(t,n)),n},t.prototype._calculate=function(t,e,n){var r=this;if(!this._attachedDepsListeners.get(t)){var i=e.map((function(t){return t+"Change.konva"})).join(k);this.on(i,(function(){r._clearCache(t)})),this._attachedDepsListeners.set(t,!0)}return this._getCache(t,n)},t.prototype._getCanvasCache=function(){return this._cache.get(p)},t.prototype._clearSelfAndDescendantCache=function(t,e){this._clearCache(t),e&&t===d&&this.fire("_clearTransformCache"),this.isCached()||this.children&&this.children.each((function(e){e._clearSelfAndDescendantCache(t,!0)}))},t.prototype.clearCache=function(){return this._cache.delete(p),this._clearSelfAndDescendantCache(),this},t.prototype.cache=function(t){var e=t||{},n={};void 0!==e.x&&void 0!==e.y&&void 0!==e.width&&void 0!==e.height||(n=this.getClientRect({skipTransform:!0,relativeTo:this.getParent()}));var i=Math.ceil(e.width||n.width),a=Math.ceil(e.height||n.height),s=e.pixelRatio,l=void 0===e.x?n.x:e.x,u=void 0===e.y?n.y:e.y,c=e.offset||0,d=e.drawBorder||!1;if(i&&a){i+=2*c,a+=2*c,l-=c,u-=c;var g=new o.SceneCanvas({pixelRatio:s,width:i,height:a}),y=new o.SceneCanvas({pixelRatio:s,width:0,height:0}),m=new o.HitCanvas({pixelRatio:1,width:i,height:a}),v=g.getContext(),_=m.getContext();return m.isCache=!0,g.isCache=!0,this._cache.delete("canvas"),this._filterUpToDate=!1,!1===e.imageSmoothingEnabled&&(g.getContext()._context.imageSmoothingEnabled=!1,y.getContext()._context.imageSmoothingEnabled=!1),v.save(),_.save(),v.translate(-l,-u),_.translate(-l,-u),this._isUnderCache=!0,this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(f),this.drawScene(g,this),this.drawHit(m,this),this._isUnderCache=!1,v.restore(),_.restore(),d&&(v.save(),v.beginPath(),v.rect(0,0,i,a),v.closePath(),v.setAttr("strokeStyle","red"),v.setAttr("lineWidth",5),v.stroke(),v.restore()),this._cache.set(p,{scene:g,filter:y,hit:m,x:l,y:u}),this}r.Util.error("Can not cache the node. Width or height of the node equals 0. Caching is skipped.")},t.prototype.isCached=function(){return this._cache.has("canvas")},t.prototype.getClientRect=function(t){throw new Error('abstract "getClientRect" method call')},t.prototype._transformedRect=function(t,e){var n,r,i,o,a=[{x:t.x,y:t.y},{x:t.x+t.width,y:t.y},{x:t.x+t.width,y:t.y+t.height},{x:t.x,y:t.y+t.height}],s=this.getAbsoluteTransform(e);return a.forEach((function(t){var e=s.point(t);void 0===n&&(n=i=e.x,r=o=e.y),n=Math.min(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.x),o=Math.max(o,e.y)})),{x:n,y:r,width:i-n,height:o-r}},t.prototype._drawCachedSceneCanvas=function(t){t.save(),t._applyOpacity(this),t._applyGlobalCompositeOperation(this);var e=this._getCanvasCache();t.translate(e.x,e.y);var n=this._getCachedSceneCanvas(),r=n.pixelRatio;t.drawImage(n._canvas,0,0,n.width/r,n.height/r),t.restore()},t.prototype._drawCachedHitCanvas=function(t){var e=this._getCanvasCache(),n=e.hit;t.save(),t.translate(e.x,e.y),t.drawImage(n._canvas,0,0),t.restore()},t.prototype._getCachedSceneCanvas=function(){var t,e,n,i,o=this.filters(),a=this._getCanvasCache(),s=a.scene,l=a.filter,u=l.getContext();if(o){if(!this._filterUpToDate){var h=s.pixelRatio;l.setSize(s.width/s.pixelRatio,s.height/s.pixelRatio);try{for(t=o.length,u.clear(),u.drawImage(s._canvas,0,0,s.getWidth()/h,s.getHeight()/h),e=u.getImageData(0,0,l.getWidth(),l.getHeight()),n=0;n<t;n++)"function"===typeof(i=o[n])?(i.call(this,e),u.putImageData(e,0,0)):r.Util.error("Filter should be type of function, but got "+typeof i+" instead. Please check correct filters")}catch(c){r.Util.error("Unable to apply filter. "+c.message+" This post my help you https://konvajs.org/docs/posts/Tainted_Canvas.html.")}this._filterUpToDate=!0}return l}return s},t.prototype.on=function(t,e){if(this._cache&&this._cache.delete(c),3===arguments.length)return this._delegate.apply(this,arguments);var n,r,i,o,a=t.split(k),s=a.length;for(n=0;n<s;n++)i=(r=a[n].split("."))[0],o=r[1]||"",this.eventListeners[i]||(this.eventListeners[i]=[]),this.eventListeners[i].push({name:o,handler:e});return this},t.prototype.off=function(t,e){var n,r,i,o,a,s=(t||"").split(k),l=s.length;if(this._cache&&this._cache.delete(c),!t)for(r in this.eventListeners)this._off(r);for(n=0;n<l;n++)if(o=(i=s[n].split("."))[0],a=i[1],o)this.eventListeners[o]&&this._off(o,a,e);else for(r in this.eventListeners)this._off(r,a,e);return this},t.prototype.dispatchEvent=function(t){var e={target:this,type:t.type,evt:t};return this.fire(t.type,e),this},t.prototype.addEventListener=function(t,e){return this.on(t,(function(t){e.call(this,t.evt)})),this},t.prototype.removeEventListener=function(t){return this.off(t),this},t.prototype._delegate=function(t,e,n){var i=this;this.on(t,(function(t){for(var o=t.target.findAncestors(e,!0,i),a=0;a<o.length;a++)(t=r.Util.cloneObject(t)).currentTarget=o[a],n.call(o[a],t)}))},t.prototype.remove=function(){return this.isDragging()&&this.stopDrag(),s.DD._dragElements.delete(this._id),this._remove(),this},t.prototype._clearCaches=function(){this._clearSelfAndDescendantCache(d),this._clearSelfAndDescendantCache(h),this._clearSelfAndDescendantCache(f),this._clearSelfAndDescendantCache(C),this._clearSelfAndDescendantCache(E),this._clearSelfAndDescendantCache(v)},t.prototype._remove=function(){this._clearCaches();var t=this.getParent();t&&t.children&&(t.children.splice(this.index,1),t._setChildrenIndices(),this.parent=null)},t.prototype.destroy=function(){n._removeId(this.id(),this);for(var t=(this.name()||"").split(/\s/g),e=0;e<t.length;e++){var r=t[e];n._removeName(r,this._id)}return this.remove(),this},t.prototype.getAttr=function(t){var e="get"+r.Util._capitalize(t);return r.Util._isFunction(this[e])?this[e]():this.attrs[t]},t.prototype.getAncestors=function(){for(var t=this.getParent(),e=new r.Collection;t;)e.push(t),t=t.getParent();return e},t.prototype.getAttrs=function(){return this.attrs||{}},t.prototype.setAttrs=function(t){var e=this;return this._batchTransformChanges((function(){var n,i;if(!t)return e;for(n in t)n!==y&&(i=S+r.Util._capitalize(n),r.Util._isFunction(e[i])?e[i](t[n]):e._setAttr(n,t[n]))})),this},t.prototype.isListening=function(){return this._getCache(v,this._isListening)},t.prototype._isListening=function(t){if(!this.listening())return!1;var e=this.getParent();return!e||e===t||this===t||e._isListening(t)},t.prototype.isVisible=function(){return this._getCache(E,this._isVisible)},t.prototype._isVisible=function(t){if(!this.visible())return!1;var e=this.getParent();return!e||e===t||this===t||e._isVisible(t)},t.prototype.shouldDrawHit=function(t){if(t)return this._isVisible(t)&&this._isListening(t);var e=this.getLayer(),n=!1;s.DD._dragElements.forEach((function(t){"dragging"===t.dragStatus&&("Stage"===t.node.nodeType||t.node.getLayer()===e)&&(n=!0)}));var r=!a.Konva.hitOnDragEnabled&&n;return this.isListening()&&this.isVisible()&&!r},t.prototype.show=function(){return this.visible(!0),this},t.prototype.hide=function(){return this.visible(!1),this},t.prototype.getZIndex=function(){return this.index||0},t.prototype.getAbsoluteZIndex=function(){var t,e,n,r,i=this.getDepth(),o=this,a=0;function s(l){for(t=[],e=l.length,n=0;n<e;n++)r=l[n],a++,r.nodeType!==x&&(t=t.concat(r.getChildren().toArray())),r._id===o._id&&(n=e);t.length>0&&t[0].getDepth()<=i&&s(t)}return o.nodeType!==T&&s(o.getStage().getChildren()),a},t.prototype.getDepth=function(){for(var t=0,e=this.parent;e;)t++,e=e.parent;return t},t.prototype._batchTransformChanges=function(t){this._batchingTransformChange=!0,t(),this._batchingTransformChange=!1,this._needClearTransformCache&&(this._clearCache(P),this._clearSelfAndDescendantCache(d,!0)),this._needClearTransformCache=!1},t.prototype.setPosition=function(t){var e=this;return this._batchTransformChanges((function(){e.x(t.x),e.y(t.y)})),this},t.prototype.getPosition=function(){return{x:this.x(),y:this.y()}},t.prototype.getAbsolutePosition=function(t){for(var e=!1,n=this.parent;n;){if(n.isCached()){e=!0;break}n=n.parent}e&&!t&&(t=!0);var i=this.getAbsoluteTransform(t).getMatrix(),o=new r.Transform,a=this.offset();return o.m=i.slice(),o.translate(a.x,a.y),o.getTranslation()},t.prototype.setAbsolutePosition=function(t){var e=this._clearTransform();this.attrs.x=e.x,this.attrs.y=e.y,delete e.x,delete e.y,this._clearCache(P);var n=this._getAbsoluteTransform().copy();return n.invert(),n.translate(t.x,t.y),t={x:this.attrs.x+n.getTranslation().x,y:this.attrs.y+n.getTranslation().y},this._setTransform(e),this.setPosition({x:t.x,y:t.y}),this._clearCache(P),this._clearSelfAndDescendantCache(d),this},t.prototype._setTransform=function(t){var e;for(e in t)this.attrs[e]=t[e]},t.prototype._clearTransform=function(){var t={x:this.x(),y:this.y(),rotation:this.rotation(),scaleX:this.scaleX(),scaleY:this.scaleY(),offsetX:this.offsetX(),offsetY:this.offsetY(),skewX:this.skewX(),skewY:this.skewY()};return this.attrs.x=0,this.attrs.y=0,this.attrs.rotation=0,this.attrs.scaleX=1,this.attrs.scaleY=1,this.attrs.offsetX=0,this.attrs.offsetY=0,this.attrs.skewX=0,this.attrs.skewY=0,t},t.prototype.move=function(t){var e=t.x,n=t.y,r=this.x(),i=this.y();return void 0!==e&&(r+=e),void 0!==n&&(i+=n),this.setPosition({x:r,y:i}),this},t.prototype._eachAncestorReverse=function(t,e){var n,r,i=[],o=this.getParent();if(!e||e._id!==this._id){for(i.unshift(this);o&&(!e||o._id!==e._id);)i.unshift(o),o=o.parent;for(n=i.length,r=0;r<n;r++)t(i[r])}},t.prototype.rotate=function(t){return this.rotation(this.rotation()+t),this},t.prototype.moveToTop=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveToTop function is ignored."),!1;var t=this.index;return this.parent.children.splice(t,1),this.parent.children.push(this),this.parent._setChildrenIndices(),!0},t.prototype.moveUp=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveUp function is ignored."),!1;var t=this.index;return t<this.parent.getChildren().length-1&&(this.parent.children.splice(t,1),this.parent.children.splice(t+1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveDown=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveDown function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.splice(t-1,0,this),this.parent._setChildrenIndices(),!0)},t.prototype.moveToBottom=function(){if(!this.parent)return r.Util.warn("Node has no parent. moveToBottom function is ignored."),!1;var t=this.index;return t>0&&(this.parent.children.splice(t,1),this.parent.children.unshift(this),this.parent._setChildrenIndices(),!0)},t.prototype.setZIndex=function(t){if(!this.parent)return r.Util.warn("Node has no parent. zIndex parameter is ignored."),this;(t<0||t>=this.parent.children.length)&&r.Util.warn("Unexpected value "+t+" for zIndex property. zIndex is just index of a node in children of its parent. Expected value is from 0 to "+(this.parent.children.length-1)+".");var e=this.index;return this.parent.children.splice(e,1),this.parent.children.splice(t,0,this),this.parent._setChildrenIndices(),this},t.prototype.getAbsoluteOpacity=function(){return this._getCache(h,this._getAbsoluteOpacity)},t.prototype._getAbsoluteOpacity=function(){var t=this.opacity(),e=this.getParent();return e&&!e._isUnderCache&&(t*=e.getAbsoluteOpacity()),t},t.prototype.moveTo=function(t){return this.getParent()!==t&&(this._remove(),t.add(this)),this},t.prototype.toObject=function(){var t,e,n,i,o={},a=this.getAttrs();for(t in o.attrs={},a)e=a[t],r.Util.isObject(e)&&!r.Util._isPlainObject(e)&&!r.Util._isArray(e)||(n="function"===typeof this[t]&&this[t],delete a[t],i=n?n.call(this):null,a[t]=e,i!==e&&(o.attrs[t]=e));return o.className=this.getClassName(),r.Util._prepareToStringify(o)},t.prototype.toJSON=function(){return JSON.stringify(this.toObject())},t.prototype.getParent=function(){return this.parent},t.prototype.findAncestors=function(t,e,n){var r=[];e&&this._isMatch(t)&&r.push(this);for(var i=this.parent;i;){if(i===n)return r;i._isMatch(t)&&r.push(i),i=i.parent}return r},t.prototype.isAncestorOf=function(t){return!1},t.prototype.findAncestor=function(t,e,n){return this.findAncestors(t,e,n)[0]},t.prototype._isMatch=function(t){if(!t)return!1;if("function"===typeof t)return t(this);var e,n,i=t.replace(/ /g,"").split(","),o=i.length;for(e=0;e<o;e++)if(n=i[e],r.Util.isValidSelector(n)||(r.Util.warn('Selector "'+n+'" is invalid. Allowed selectors examples are "#foo", ".bar" or "Group".'),r.Util.warn('If you have a custom shape with such className, please change it to start with upper letter like "Triangle".'),r.Util.warn("Konva is awesome, right?")),"#"===n.charAt(0)){if(this.id()===n.slice(1))return!0}else if("."===n.charAt(0)){if(this.hasName(n.slice(1)))return!0}else if(this.className===n||this.nodeType===n)return!0;return!1},t.prototype.getLayer=function(){var t=this.getParent();return t?t.getLayer():null},t.prototype.getStage=function(){return this._getCache(C,this._getStage)},t.prototype._getStage=function(){var t=this.getParent();return t?t.getStage():void 0},t.prototype.fire=function(t,e,n){return void 0===e&&(e={}),e.target=e.target||this,n?this._fireAndBubble(t,e):this._fire(t,e),this},t.prototype.getAbsoluteTransform=function(t){return t?this._getAbsoluteTransform(t):this._getCache(d,this._getAbsoluteTransform)},t.prototype._getAbsoluteTransform=function(t){var e;if(t)return e=new r.Transform,this._eachAncestorReverse((function(t){var n=t.transformsEnabled();"all"===n?e.multiply(t.getTransform()):"position"===n&&e.translate(t.x()-t.offsetX(),t.y()-t.offsetY())}),t),e;e=this._cache.get(d)||new r.Transform,this.parent?this.parent.getAbsoluteTransform().copyInto(e):e.reset();var n=this.transformsEnabled();if("all"===n)e.multiply(this.getTransform());else if("position"===n){var i=this.attrs.x||0,o=this.attrs.y||0,a=this.attrs.offsetX||0,s=this.attrs.offsetY||0;e.translate(i-a,o-s)}return e.dirty=!1,e},t.prototype.getAbsoluteScale=function(t){for(var e=this;e;)e._isUnderCache&&(t=e),e=e.getParent();var n=this.getAbsoluteTransform(t).decompose();return{x:n.scaleX,y:n.scaleY}},t.prototype.getAbsoluteRotation=function(){return this.getAbsoluteTransform().decompose().rotation},t.prototype.getTransform=function(){return this._getCache(P,this._getTransform)},t.prototype._getTransform=function(){var t,e,n=this._cache.get(P)||new r.Transform;n.reset();var i=this.x(),o=this.y(),s=a.Konva.getAngle(this.rotation()),l=null!==(t=this.attrs.scaleX)&&void 0!==t?t:1,u=null!==(e=this.attrs.scaleY)&&void 0!==e?e:1,h=this.attrs.skewX||0,c=this.attrs.skewY||0,d=this.attrs.offsetX||0,f=this.attrs.offsetY||0;return 0===i&&0===o||n.translate(i,o),0!==s&&n.rotate(s),0===h&&0===c||n.skew(h,c),1===l&&1===u||n.scale(l,u),0===d&&0===f||n.translate(-1*d,-1*f),n.dirty=!1,n},t.prototype.clone=function(t){var e,n,i,o,a,s=r.Util.cloneObject(this.attrs);for(e in t)s[e]=t[e];var l=new this.constructor(s);for(e in this.eventListeners)for(i=(n=this.eventListeners[e]).length,o=0;o<i;o++)(a=n[o]).name.indexOf(m)<0&&(l.eventListeners[e]||(l.eventListeners[e]=[]),l.eventListeners[e].push(a));return l},t.prototype._toKonvaCanvas=function(t){t=t||{};var e=this.getClientRect(),n=this.getStage(),r=void 0!==t.x?t.x:e.x,i=void 0!==t.y?t.y:e.y,a=t.pixelRatio||1,s=new o.SceneCanvas({width:t.width||e.width||(n?n.width():0),height:t.height||e.height||(n?n.height():0),pixelRatio:a}),l=s.getContext();return l.save(),(r||i)&&l.translate(-1*r,-1*i),this.drawScene(s),l.restore(),s},t.prototype.toCanvas=function(t){return this._toKonvaCanvas(t)._canvas},t.prototype.toDataURL=function(t){var e=(t=t||{}).mimeType||null,n=t.quality||null,r=this._toKonvaCanvas(t).toDataURL(e,n);return t.callback&&t.callback(r),r},t.prototype.toImage=function(t){if(!t||!t.callback)throw"callback required for toImage method config argument";var e=t.callback;delete t.callback,r.Util._urlToImage(this.toDataURL(t),(function(t){e(t)}))},t.prototype.setSize=function(t){return this.width(t.width),this.height(t.height),this},t.prototype.getSize=function(){return{width:this.width(),height:this.height()}},t.prototype.getClassName=function(){return this.className||this.nodeType},t.prototype.getType=function(){return this.nodeType},t.prototype.getDragDistance=function(){return void 0!==this.attrs.dragDistance?this.attrs.dragDistance:this.parent?this.parent.getDragDistance():a.Konva.dragDistance},t.prototype._off=function(t,e,n){var r,i,o,a=this.eventListeners[t];for(r=0;r<a.length;r++)if(i=a[r].name,o=a[r].handler,("konva"!==i||"konva"===e)&&(!e||i===e)&&(!n||n===o)){if(a.splice(r,1),0===a.length){delete this.eventListeners[t];break}r--}},t.prototype._fireChangeEvent=function(t,e,n){this._fire(t+g,{oldVal:e,newVal:n})},t.prototype.setId=function(t){var e=this.id();return n._removeId(e,this),u(this,t),this._setAttr("id",t),this},t.prototype.setName=function(t){var e,r,i=(this.name()||"").split(/\s/g),o=(t||"").split(/\s/g);for(r=0;r<i.length;r++)e=i[r],-1===o.indexOf(e)&&e&&n._removeName(e,this._id);for(r=0;r<o.length;r++)e=o[r],-1===i.indexOf(e)&&e&&n._addName(this,e);return this._setAttr(w,t),this},t.prototype.addName=function(t){if(!this.hasName(t)){var e=this.name(),n=e?e+" "+t:t;this.setName(n)}return this},t.prototype.hasName=function(t){if(!t)return!1;var e=this.name();return!!e&&-1!==(e||"").split(/\s/g).indexOf(t)},t.prototype.removeName=function(t){var e=(this.name()||"").split(/\s/g),n=e.indexOf(t);return-1!==n&&(e.splice(n,1),this.setName(e.join(" "))),this},t.prototype.setAttr=function(t,e){var n=this[S+r.Util._capitalize(t)];return r.Util._isFunction(n)?n.call(this,e):this._setAttr(t,e),this},t.prototype._setAttr=function(t,e,n){void 0===n&&(n=!1);var i=this.attrs[t];(i!==e||r.Util.isObject(e))&&(void 0===e||null===e?delete this.attrs[t]:this.attrs[t]=e,this._shouldFireChangeEvents&&this._fireChangeEvent(t,i,e))},t.prototype._setComponentAttr=function(t,e,n){var r;void 0!==n&&((r=this.attrs[t])||(this.attrs[t]=this.getAttr(t)),this.attrs[t][e]=n,this._fireChangeEvent(t,r,n))},t.prototype._fireAndBubble=function(t,e,n){if(e&&this.nodeType===x&&(e.target=this),t!==_&&t!==b||!(n&&(this===n||this.isAncestorOf&&this.isAncestorOf(n))||"Stage"===this.nodeType&&!n)){this._fire(t,e);var r=(t===_||t===b)&&n&&n.isAncestorOf&&n.isAncestorOf(this)&&!n.isAncestorOf(this.parent);(e&&!e.cancelBubble||!e)&&this.parent&&this.parent.isListening()&&!r&&(n&&n.parent?this._fireAndBubble.call(this.parent,t,e,n):this._fireAndBubble.call(this.parent,t,e))}},t.prototype._getProtoListeners=function(t){var e=this._cache.get(c);if(!e){e={};for(var n=Object.getPrototypeOf(this);n;)if(n.eventListeners){for(var r in n.eventListeners){var i=n.eventListeners[r],o=e[r]||[];e[r]=i.concat(o)}n=Object.getPrototypeOf(n)}else n=Object.getPrototypeOf(n);this._cache.set(c,e)}return e[t]},t.prototype._fire=function(t,e){(e=e||{}).currentTarget=this,e.type=t;var n=this._getProtoListeners(t);if(n)for(var r=0;r<n.length;r++)n[r].handler.call(this,e);var i=this.eventListeners[t];if(i)for(r=0;r<i.length;r++)i[r].handler.call(this,e)},t.prototype.draw=function(){return this.drawScene(),this.drawHit(),this},t.prototype._createDragElement=function(t){var e=t?t.pointerId:void 0,n=this.getStage(),r=this.getAbsolutePosition(),i=n._getPointerById(e)||n._changedPointerPositions[0]||r;s.DD._dragElements.set(this._id,{node:this,startPointerPos:i,offset:{x:i.x-r.x,y:i.y-r.y},dragStatus:"ready",pointerId:e})},t.prototype.startDrag=function(t,e){void 0===e&&(e=!0),s.DD._dragElements.has(this._id)||this._createDragElement(t),s.DD._dragElements.get(this._id).dragStatus="dragging",this.fire("dragstart",{type:"dragstart",target:this,evt:t&&t.evt},e)},t.prototype._setDragPosition=function(t,e){var n=this.getStage()._getPointerById(e.pointerId);if(n){var i={x:n.x-e.offset.x,y:n.y-e.offset.y},o=this.dragBoundFunc();if(void 0!==o){var a=o.call(this,i,t);a?i=a:r.Util.warn("dragBoundFunc did not return any value. That is unexpected behavior. You must return new absolute position from dragBoundFunc.")}this._lastPos&&this._lastPos.x===i.x&&this._lastPos.y===i.y||(this.setAbsolutePosition(i),this.getLayer()?this.getLayer().batchDraw():this.getStage()&&this.getStage().batchDraw()),this._lastPos=i}},t.prototype.stopDrag=function(t){var e=s.DD._dragElements.get(this._id);e&&(e.dragStatus="stopped"),s.DD._endDragBefore(t),s.DD._endDragAfter(t)},t.prototype.setDraggable=function(t){this._setAttr("draggable",t),this._dragChange()},t.prototype.isDragging=function(){var t=s.DD._dragElements.get(this._id);return!!t&&"dragging"===t.dragStatus},t.prototype._listenDrag=function(){this._dragCleanup(),this.on("mousedown.konva touchstart.konva",(function(t){var e=this;if((void 0===t.evt.button||a.Konva.dragButtons.indexOf(t.evt.button)>=0)&&!this.isDragging()){var n=!1;s.DD._dragElements.forEach((function(t){e.isAncestorOf(t.node)&&(n=!0)})),n||this._createDragElement(t)}}))},t.prototype._dragChange=function(){if(this.attrs.draggable)this._listenDrag();else{if(this._dragCleanup(),!this.getStage())return;var t=s.DD._dragElements.get(this._id),e=t&&"dragging"===t.dragStatus,n=t&&"ready"===t.dragStatus;e?this.stopDrag():n&&s.DD._dragElements.delete(this._id)}},t.prototype._dragCleanup=function(){this.off("mousedown.konva"),this.off("touchstart.konva")},t.create=function(t,e){return r.Util._isString(t)&&(t=JSON.parse(t)),this._createNode(t,e)},t._createNode=function(e,n){var i,o,s,l=t.prototype.getClassName.call(e),u=e.children;if(n&&(e.attrs.container=n),a._NODES_REGISTRY[l]||(r.Util.warn('Can not find a node with class name "'+l+'". Fallback to "Shape".'),l="Shape"),i=new(0,a._NODES_REGISTRY[l])(e.attrs),u)for(o=u.length,s=0;s<o;s++)i.add(t._createNode(u[s]));return i},t}();n.Node=A,A.prototype.nodeType="Node",A.prototype._attrsAffectingSize=[],A.prototype.eventListeners={},A.prototype.on.call(A.prototype,M,(function(){this._batchingTransformChange?this._needClearTransformCache=!0:(this._clearCache(P),this._clearSelfAndDescendantCache(d))})),A.prototype.on.call(A.prototype,"visibleChange.konva",(function(){this._clearSelfAndDescendantCache(E)})),A.prototype.on.call(A.prototype,"listeningChange.konva",(function(){this._clearSelfAndDescendantCache(v)})),A.prototype.on.call(A.prototype,"opacityChange.konva",(function(){this._clearSelfAndDescendantCache(h)}));var O=i.Factory.addGetterSetter;O(A,"zIndex"),O(A,"absolutePosition"),O(A,"position"),O(A,"x",0,l.getNumberValidator()),O(A,"y",0,l.getNumberValidator()),O(A,"globalCompositeOperation","source-over",l.getStringValidator()),O(A,"opacity",1,l.getNumberValidator()),O(A,"name","",l.getStringValidator()),O(A,"id","",l.getStringValidator()),O(A,"rotation",0,l.getNumberValidator()),i.Factory.addComponentsGetterSetter(A,"scale",["x","y"]),O(A,"scaleX",1,l.getNumberValidator()),O(A,"scaleY",1,l.getNumberValidator()),i.Factory.addComponentsGetterSetter(A,"skew",["x","y"]),O(A,"skewX",0,l.getNumberValidator()),O(A,"skewY",0,l.getNumberValidator()),i.Factory.addComponentsGetterSetter(A,"offset",["x","y"]),O(A,"offsetX",0,l.getNumberValidator()),O(A,"offsetY",0,l.getNumberValidator()),O(A,"dragDistance",null,l.getNumberValidator()),O(A,"width",0,l.getNumberValidator()),O(A,"height",0,l.getNumberValidator()),O(A,"listening",!0,l.getBooleanValidator()),O(A,"preventDefault",!0,l.getBooleanValidator()),O(A,"filters",null,(function(t){return this._filterUpToDate=!1,t})),O(A,"visible",!0,l.getBooleanValidator()),O(A,"transformsEnabled","all",l.getStringValidator()),O(A,"size"),O(A,"dragBoundFunc"),O(A,"draggable",!1,l.getBooleanValidator()),i.Factory.backCompat(A,{rotateDeg:"rotate",setRotationDeg:"setRotation",getRotationDeg:"getRotation"}),r.Collection.mapMethods(A)},{"./Canvas":5,"./DragAndDrop":8,"./Factory":9,"./Global":11,"./Util":19,"./Validators":20}],15:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Global"),i=new Map,o=void 0!==r.Konva._global.PointerEvent;function a(t){return i.get(t)}function s(t){return{evt:t,pointerId:t.pointerId}}function l(t,e){return i.get(t)===e}function u(t,e){h(t),e.getStage()&&(i.set(t,e),o&&e._fire("gotpointercapture",s(new PointerEvent("gotpointercapture"))))}function h(t,e){var n=i.get(t);if(n){var r=n.getStage();r&&r.content,i.delete(t),o&&n._fire("lostpointercapture",s(new PointerEvent("lostpointercapture")))}}n.getCapturedShape=a,n.createEvent=s,n.hasPointerCapture=l,n.setPointerCapture=u,n.releaseCapture=h},{"./Global":11}],16:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i,o=t("./Util"),a=t("./Factory"),s=t("./Node"),l=t("./Validators"),u=t("./Global"),h=t("./PointerEvents"),c="hasShadow",d="shadowRGBA",f="patternImage",p="linearGradient",g="radialGradient";function y(){return i||(i=o.Util.createCanvasElement().getContext("2d"))}function m(t){t.fill()}function v(t){t.stroke()}function _(t){t.fill()}function b(t){t.stroke()}function w(){this._clearCache(c)}function S(){this._clearCache(d)}function x(){this._clearCache(f)}function k(){this._clearCache(p)}function C(){this._clearCache(g)}n.shapes={};var P=function(t){function e(e){for(var r,i=t.call(this,e)||this;!(r=o.Util.getRandomColor())||r in n.shapes;);return i.colorKey=r,n.shapes[r]=i,i}return r(e,t),e.prototype.getContext=function(){return this.getLayer().getContext()},e.prototype.getCanvas=function(){return this.getLayer().getCanvas()},e.prototype.getSceneFunc=function(){return this.attrs.sceneFunc||this._sceneFunc},e.prototype.getHitFunc=function(){return this.attrs.hitFunc||this._hitFunc},e.prototype.hasShadow=function(){return this._getCache(c,this._hasShadow)},e.prototype._hasShadow=function(){return this.shadowEnabled()&&0!==this.shadowOpacity()&&!!(this.shadowColor()||this.shadowBlur()||this.shadowOffsetX()||this.shadowOffsetY())},e.prototype._getFillPattern=function(){return this._getCache(f,this.__getFillPattern)},e.prototype.__getFillPattern=function(){if(this.fillPatternImage()){var t=y().createPattern(this.fillPatternImage(),this.fillPatternRepeat()||"repeat");return t&&t.setTransform&&t.setTransform({a:this.fillPatternScaleX(),b:0,c:0,d:this.fillPatternScaleY(),e:0,f:0}),t}},e.prototype._getLinearGradient=function(){return this._getCache(p,this.__getLinearGradient)},e.prototype.__getLinearGradient=function(){var t=this.fillLinearGradientColorStops();if(t){for(var e=y(),n=this.fillLinearGradientStartPoint(),r=this.fillLinearGradientEndPoint(),i=e.createLinearGradient(n.x,n.y,r.x,r.y),o=0;o<t.length;o+=2)i.addColorStop(t[o],t[o+1]);return i}},e.prototype._getRadialGradient=function(){return this._getCache(g,this.__getRadialGradient)},e.prototype.__getRadialGradient=function(){var t=this.fillRadialGradientColorStops();if(t){for(var e=y(),n=this.fillRadialGradientStartPoint(),r=this.fillRadialGradientEndPoint(),i=e.createRadialGradient(n.x,n.y,this.fillRadialGradientStartRadius(),r.x,r.y,this.fillRadialGradientEndRadius()),o=0;o<t.length;o+=2)i.addColorStop(t[o],t[o+1]);return i}},e.prototype.getShadowRGBA=function(){return this._getCache(d,this._getShadowRGBA)},e.prototype._getShadowRGBA=function(){if(this.hasShadow()){var t=o.Util.colorToRGBA(this.shadowColor());return"rgba("+t.r+","+t.g+","+t.b+","+t.a*(this.shadowOpacity()||1)+")"}},e.prototype.hasFill=function(){var t=this;return this._calculate("hasFill",["fillEnabled","fill","fillPatternImage","fillLinearGradientColorStops","fillRadialGradientColorStops"],(function(){return t.fillEnabled()&&!!(t.fill()||t.fillPatternImage()||t.fillLinearGradientColorStops()||t.fillRadialGradientColorStops())}))},e.prototype.hasStroke=function(){var t=this;return this._calculate("hasStroke",["strokeEnabled","strokeWidth","stroke","strokeLinearGradientColorStops"],(function(){return t.strokeEnabled()&&t.strokeWidth()&&!(!t.stroke()&&!t.strokeLinearGradientColorStops())}))},e.prototype.hasHitStroke=function(){var t=this.hitStrokeWidth();return"auto"===t?this.hasStroke():this.strokeEnabled()&&!!t},e.prototype.intersects=function(t){var e=this.getStage().bufferHitCanvas;return e.getContext().clear(),this.drawHit(e),e.context.getImageData(Math.round(t.x),Math.round(t.y),1,1).data[3]>0},e.prototype.destroy=function(){return s.Node.prototype.destroy.call(this),delete n.shapes[this.colorKey],delete this.colorKey,this},e.prototype._useBufferCanvas=function(t){var e;if(!this.getStage())return!1;if(null!==(e=this.attrs.perfectDrawEnabled)&&void 0!==e&&!e)return!1;var n=t||this.hasFill(),r=this.hasStroke(),i=1!==this.getAbsoluteOpacity();if(n&&r&&i)return!0;var o=this.hasShadow(),a=this.shadowForStrokeEnabled();return!!(n&&r&&o&&a)},e.prototype.setStrokeHitEnabled=function(t){o.Util.warn("strokeHitEnabled property is deprecated. Please use hitStrokeWidth instead."),t?this.hitStrokeWidth("auto"):this.hitStrokeWidth(0)},e.prototype.getStrokeHitEnabled=function(){return 0!==this.hitStrokeWidth()},e.prototype.getSelfRect=function(){var t=this.size();return{x:this._centroid?-t.width/2:0,y:this._centroid?-t.height/2:0,width:t.width,height:t.height}},e.prototype.getClientRect=function(t){void 0===t&&(t={});var e=t.skipTransform,n=t.relativeTo,r=this.getSelfRect(),i=!t.skipStroke&&this.hasStroke()&&this.strokeWidth()||0,o=r.width+i,a=r.height+i,s=!t.skipShadow&&this.hasShadow(),l=s?this.shadowOffsetX():0,u=s?this.shadowOffsetY():0,h=o+Math.abs(l),c=a+Math.abs(u),d=s&&this.shadowBlur()||0,f=h+2*d,p=c+2*d,g=0;Math.round(i/2)!==i/2&&(g=1);var y={width:f+g,height:p+g,x:-Math.round(i/2+d)+Math.min(l,0)+r.x,y:-Math.round(i/2+d)+Math.min(u,0)+r.y};return e?y:this._transformedRect(y,n)},e.prototype.drawScene=function(t,e){var n,r,i=this.getLayer(),o=t||i.getCanvas(),a=o.getContext(),s=this._getCanvasCache(),l=this.getSceneFunc(),u=this.hasShadow(),h=o.isCache,c=o.isCache,d=e===this;if(!this.isVisible()&&!h)return this;if(s){a.save();var f=this.getAbsoluteTransform(e).getMatrix();return a.transform(f[0],f[1],f[2],f[3],f[4],f[5]),this._drawCachedSceneCanvas(a),a.restore(),this}if(!l)return this;if(a.save(),this._useBufferCanvas()&&!c){(r=(n=this.getStage().bufferCanvas).getContext()).clear(),r.save(),r._applyLineJoin(this);var p=this.getAbsoluteTransform(e).getMatrix();r.transform(p[0],p[1],p[2],p[3],p[4],p[5]),l.call(this,r,this),r.restore();var g=n.pixelRatio;u&&a._applyShadow(this),a._applyOpacity(this),a._applyGlobalCompositeOperation(this),a.drawImage(n._canvas,0,0,n.width/g,n.height/g)}else a._applyLineJoin(this),d||(p=this.getAbsoluteTransform(e).getMatrix(),a.transform(p[0],p[1],p[2],p[3],p[4],p[5]),a._applyOpacity(this),a._applyGlobalCompositeOperation(this)),u&&a._applyShadow(this),l.call(this,a,this);return a.restore(),this},e.prototype.drawHit=function(t,e){if(!this.shouldDrawHit(e))return this;var n=this.getLayer(),r=t||n.hitCanvas,i=r&&r.getContext(),a=this.hitFunc()||this.sceneFunc(),s=this._getCanvasCache(),l=s&&s.hit;if(this.colorKey||(console.log(this),o.Util.warn("Looks like your canvas has a destroyed shape in it. Do not reuse shape after you destroyed it. See the shape in logs above. If you want to reuse shape you should call remove() instead of destroy()")),l){i.save();var u=this.getAbsoluteTransform(e).getMatrix();return i.transform(u[0],u[1],u[2],u[3],u[4],u[5]),this._drawCachedHitCanvas(i),i.restore(),this}if(!a)return this;if(i.save(),i._applyLineJoin(this),this!==e){var h=this.getAbsoluteTransform(e).getMatrix();i.transform(h[0],h[1],h[2],h[3],h[4],h[5])}return a.call(this,i,this),i.restore(),this},e.prototype.drawHitFromCache=function(t){void 0===t&&(t=0);var e,n,r,i,a,s=this._getCanvasCache(),l=this._getCachedSceneCanvas(),u=s.hit,h=u.getContext(),c=u.getWidth(),d=u.getHeight();h.clear(),h.drawImage(l._canvas,0,0,c,d);try{for(r=(n=(e=h.getImageData(0,0,c,d)).data).length,i=o.Util._hexToRgb(this.colorKey),a=0;a<r;a+=4)n[a+3]>t?(n[a]=i.r,n[a+1]=i.g,n[a+2]=i.b,n[a+3]=255):n[a+3]=0;h.putImageData(e,0,0)}catch(f){o.Util.error("Unable to draw hit graph from cached scene canvas. "+f.message)}return this},e.prototype.hasPointerCapture=function(t){return h.hasPointerCapture(t,this)},e.prototype.setPointerCapture=function(t){h.setPointerCapture(t,this)},e.prototype.releaseCapture=function(t){h.releaseCapture(t,this)},e}(s.Node);n.Shape=P,P.prototype._fillFunc=m,P.prototype._strokeFunc=v,P.prototype._fillFuncHit=_,P.prototype._strokeFuncHit=b,P.prototype._centroid=!1,P.prototype.nodeType="Shape",u._registerNode(P),P.prototype.eventListeners={},P.prototype.on.call(P.prototype,"shadowColorChange.konva shadowBlurChange.konva shadowOffsetChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",w),P.prototype.on.call(P.prototype,"shadowColorChange.konva shadowOpacityChange.konva shadowEnabledChange.konva",S),P.prototype.on.call(P.prototype,"fillPriorityChange.konva fillPatternImageChange.konva fillPatternRepeatChange.konva fillPatternScaleXChange.konva fillPatternScaleYChange.konva",x),P.prototype.on.call(P.prototype,"fillPriorityChange.konva fillLinearGradientColorStopsChange.konva fillLinearGradientStartPointXChange.konva fillLinearGradientStartPointYChange.konva fillLinearGradientEndPointXChange.konva fillLinearGradientEndPointYChange.konva",k),P.prototype.on.call(P.prototype,"fillPriorityChange.konva fillRadialGradientColorStopsChange.konva fillRadialGradientStartPointXChange.konva fillRadialGradientStartPointYChange.konva fillRadialGradientEndPointXChange.konva fillRadialGradientEndPointYChange.konva fillRadialGradientStartRadiusChange.konva fillRadialGradientEndRadiusChange.konva",C),a.Factory.addGetterSetter(P,"stroke",void 0,l.getStringOrGradientValidator()),a.Factory.addGetterSetter(P,"strokeWidth",2,l.getNumberValidator()),a.Factory.addGetterSetter(P,"hitStrokeWidth","auto",l.getNumberOrAutoValidator()),a.Factory.addGetterSetter(P,"strokeHitEnabled",!0,l.getBooleanValidator()),a.Factory.addGetterSetter(P,"perfectDrawEnabled",!0,l.getBooleanValidator()),a.Factory.addGetterSetter(P,"shadowForStrokeEnabled",!0,l.getBooleanValidator()),a.Factory.addGetterSetter(P,"lineJoin"),a.Factory.addGetterSetter(P,"lineCap"),a.Factory.addGetterSetter(P,"sceneFunc"),a.Factory.addGetterSetter(P,"hitFunc"),a.Factory.addGetterSetter(P,"dash"),a.Factory.addGetterSetter(P,"dashOffset",0,l.getNumberValidator()),a.Factory.addGetterSetter(P,"shadowColor",void 0,l.getStringValidator()),a.Factory.addGetterSetter(P,"shadowBlur",0,l.getNumberValidator()),a.Factory.addGetterSetter(P,"shadowOpacity",1,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(P,"shadowOffset",["x","y"]),a.Factory.addGetterSetter(P,"shadowOffsetX",0,l.getNumberValidator()),a.Factory.addGetterSetter(P,"shadowOffsetY",0,l.getNumberValidator()),a.Factory.addGetterSetter(P,"fillPatternImage"),a.Factory.addGetterSetter(P,"fill",void 0,l.getStringOrGradientValidator()),a.Factory.addGetterSetter(P,"fillPatternX",0,l.getNumberValidator()),a.Factory.addGetterSetter(P,"fillPatternY",0,l.getNumberValidator()),a.Factory.addGetterSetter(P,"fillLinearGradientColorStops"),a.Factory.addGetterSetter(P,"strokeLinearGradientColorStops"),a.Factory.addGetterSetter(P,"fillRadialGradientStartRadius",0),a.Factory.addGetterSetter(P,"fillRadialGradientEndRadius",0),a.Factory.addGetterSetter(P,"fillRadialGradientColorStops"),a.Factory.addGetterSetter(P,"fillPatternRepeat","repeat"),a.Factory.addGetterSetter(P,"fillEnabled",!0),a.Factory.addGetterSetter(P,"strokeEnabled",!0),a.Factory.addGetterSetter(P,"shadowEnabled",!0),a.Factory.addGetterSetter(P,"dashEnabled",!0),a.Factory.addGetterSetter(P,"strokeScaleEnabled",!0),a.Factory.addGetterSetter(P,"fillPriority","color"),a.Factory.addComponentsGetterSetter(P,"fillPatternOffset",["x","y"]),a.Factory.addGetterSetter(P,"fillPatternOffsetX",0,l.getNumberValidator()),a.Factory.addGetterSetter(P,"fillPatternOffsetY",0,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(P,"fillPatternScale",["x","y"]),a.Factory.addGetterSetter(P,"fillPatternScaleX",1,l.getNumberValidator()),a.Factory.addGetterSetter(P,"fillPatternScaleY",1,l.getNumberValidator()),a.Factory.addComponentsGetterSetter(P,"fillLinearGradientStartPoint",["x","y"]),a.Factory.addComponentsGetterSetter(P,"strokeLinearGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(P,"fillLinearGradientStartPointX",0),a.Factory.addGetterSetter(P,"strokeLinearGradientStartPointX",0),a.Factory.addGetterSetter(P,"fillLinearGradientStartPointY",0),a.Factory.addGetterSetter(P,"strokeLinearGradientStartPointY",0),a.Factory.addComponentsGetterSetter(P,"fillLinearGradientEndPoint",["x","y"]),a.Factory.addComponentsGetterSetter(P,"strokeLinearGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(P,"fillLinearGradientEndPointX",0),a.Factory.addGetterSetter(P,"strokeLinearGradientEndPointX",0),a.Factory.addGetterSetter(P,"fillLinearGradientEndPointY",0),a.Factory.addGetterSetter(P,"strokeLinearGradientEndPointY",0),a.Factory.addComponentsGetterSetter(P,"fillRadialGradientStartPoint",["x","y"]),a.Factory.addGetterSetter(P,"fillRadialGradientStartPointX",0),a.Factory.addGetterSetter(P,"fillRadialGradientStartPointY",0),a.Factory.addComponentsGetterSetter(P,"fillRadialGradientEndPoint",["x","y"]),a.Factory.addGetterSetter(P,"fillRadialGradientEndPointX",0),a.Factory.addGetterSetter(P,"fillRadialGradientEndPointY",0),a.Factory.addGetterSetter(P,"fillPatternRotation",0),a.Factory.backCompat(P,{dashArray:"dash",getDashArray:"getDash",setDashArray:"getDash",drawFunc:"sceneFunc",getDrawFunc:"getSceneFunc",setDrawFunc:"setSceneFunc",drawHitFunc:"hitFunc",getDrawHitFunc:"getHitFunc",setDrawHitFunc:"setHitFunc"}),o.Collection.mapMethods(P)},{"./Factory":9,"./Global":11,"./Node":14,"./PointerEvents":15,"./Util":19,"./Validators":20}],17:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("./Util"),o=t("./Factory"),a=t("./Container"),s=t("./Global"),l=t("./Canvas"),u=t("./DragAndDrop"),h=t("./Global"),c=t("./PointerEvents"),d="Stage",f="string",p="px",g="mouseout",y="mouseleave",m="mouseover",v="mouseenter",_="mousemove",b="mousedown",w="mouseup",S="pointermove",x="pointerdown",k="pointerup",C="contextmenu",P="click",T="dblclick",E="touchstart",M="touchend",L="tap",F="dbltap",A="touchmove",O="wheel",D="contentMouseout",N="contentMouseover",R="contentMousemove",U="contentMousedown",I="contentMouseup",z="contentContextmenu",G="contentClick",V="contentDblclick",j="contentTouchstart",H="contentTouchend",W="contentDbltap",B="contentTap",K="contentTouchmove",X="contentWheel",Y="relative",q="konvajs-content",Q="_",$="container",Z=5,J="",tt=[v,b,_,w,g,E,A,M,m,O,C,x,S,k,"pointercancel","lostpointercapture"],et=tt.length;function nt(t,e){t.content.addEventListener(e,(function(n){t[Q+e](n)}),!1)}var rt="Pointer position is missing and not registered by the stage. Looks like it is outside of the stage container. You can set it manually from event: stage.setPointersPositions(event);";function it(t){return void 0===t&&(t={}),(t.clipFunc||t.clipWidth||t.clipHeight)&&i.Util.warn("Stage does not support clipping. Please use clip for Layers or Groups."),t}n.stages=[];var ot=function(t){function e(e){var r=t.call(this,it(e))||this;return r._pointerPositions=[],r._changedPointerPositions=[],r._buildDOM(),r._bindContentEvents(),n.stages.push(r),r.on("widthChange.konva heightChange.konva",r._resizeDOM),r.on("visibleChange.konva",r._checkVisibility),r.on("clipWidthChange.konva clipHeightChange.konva clipFuncChange.konva",(function(){it(r.attrs)})),r._checkVisibility(),r}return r(e,t),e.prototype._validateAdd=function(t){var e="Layer"===t.getType(),n="FastLayer"===t.getType();e||n||i.Util.throw("You may only add layers to the stage.")},e.prototype._checkVisibility=function(){if(this.content){var t=this.visible()?"":"none";this.content.style.display=t}},e.prototype.setContainer=function(t){if(typeof t===f){if("."===t.charAt(0)){var e=t.slice(1);t=document.getElementsByClassName(e)[0]}else{var n;n="#"!==t.charAt(0)?t:t.slice(1),t=document.getElementById(n)}if(!t)throw"Can not find container in document with id "+n}return this._setAttr($,t),this.content&&(this.content.parentElement&&this.content.parentElement.removeChild(this.content),t.appendChild(this.content)),this},e.prototype.shouldDrawHit=function(){return!0},e.prototype.clear=function(){var t,e=this.children,n=e.length;for(t=0;t<n;t++)e[t].clear();return this},e.prototype.clone=function(t){return t||(t={}),t.container=document.createElement("div"),a.Container.prototype.clone.call(this,t)},e.prototype.destroy=function(){t.prototype.destroy.call(this);var e=this.content;e&&i.Util._isInDocument(e)&&this.container().removeChild(e);var r=n.stages.indexOf(this);return r>-1&&n.stages.splice(r,1),this},e.prototype.getPointerPosition=function(){var t=this._pointerPositions[0]||this._changedPointerPositions[0];return t?{x:t.x,y:t.y}:(i.Util.warn(rt),null)},e.prototype._getPointerById=function(t){return this._pointerPositions.find((function(e){return e.id===t}))},e.prototype.getPointersPositions=function(){return this._pointerPositions},e.prototype.getStage=function(){return this},e.prototype.getContent=function(){return this.content},e.prototype._toKonvaCanvas=function(t){var e=(t=t||{}).x||0,n=t.y||0,r=new l.SceneCanvas({width:t.width||this.width(),height:t.height||this.height(),pixelRatio:t.pixelRatio||1}),i=r.getContext()._context,o=this.children;return(e||n)&&i.translate(-1*e,-1*n),o.each((function(r){if(r.isVisible()){var o=r._toKonvaCanvas(t);i.drawImage(o._canvas,e,n,o.getWidth()/o.getPixelRatio(),o.getHeight()/o.getPixelRatio())}})),r},e.prototype.getIntersection=function(t,e){if(!t)return null;var n,r,i=this.children;for(n=i.length-1;n>=0;n--)if(r=i[n].getIntersection(t,e))return r;return null},e.prototype._resizeDOM=function(){var t=this.width(),e=this.height();this.content&&(this.content.style.width=t+p,this.content.style.height=e+p),this.bufferCanvas.setSize(t,e),this.bufferHitCanvas.setSize(t,e),this.children.each((function(n){n.setSize({width:t,height:e}),n.draw()}))},e.prototype.add=function(e){if(arguments.length>1){for(var n=0;n<arguments.length;n++)this.add(arguments[n]);return this}t.prototype.add.call(this,e);var r=this.children.length;return r>Z&&i.Util.warn("The stage has "+r+" layers. Recommended maximum number of layers is 3-5. Adding more layers into the stage may drop the performance. Rethink your tree structure, you can use Konva.Group."),e.setSize({width:this.width(),height:this.height()}),e.draw(),s.Konva.isBrowser&&this.content.appendChild(e.canvas._canvas),this},e.prototype.getParent=function(){return null},e.prototype.getLayer=function(){return null},e.prototype.hasPointerCapture=function(t){return c.hasPointerCapture(t,this)},e.prototype.setPointerCapture=function(t){c.setPointerCapture(t,this)},e.prototype.releaseCapture=function(t){c.releaseCapture(t,this)},e.prototype.getLayers=function(){return this.getChildren()},e.prototype._bindContentEvents=function(){if(s.Konva.isBrowser)for(var t=0;t<et;t++)nt(this,tt[t])},e.prototype._mouseenter=function(t){this.setPointersPositions(t),this._fire(v,{evt:t,target:this,currentTarget:this})},e.prototype._mouseover=function(t){this.setPointersPositions(t),this._fire(N,{evt:t}),this._fire(m,{evt:t,target:this,currentTarget:this})},e.prototype._mouseout=function(t){var e;this.setPointersPositions(t);var n=(null===(e=this.targetShape)||void 0===e?void 0:e.getStage())?this.targetShape:null,r=!u.DD.isDragging||s.Konva.hitOnDragEnabled;n&&r?(n._fireAndBubble(g,{evt:t}),n._fireAndBubble(y,{evt:t}),this._fire(y,{evt:t,target:this,currentTarget:this}),this.targetShape=null):r&&(this._fire(y,{evt:t,target:this,currentTarget:this}),this._fire(g,{evt:t,target:this,currentTarget:this})),this.pointerPos=void 0,this._pointerPositions=[],this._fire(D,{evt:t})},e.prototype._mousemove=function(t){var e;if(s.Konva.UA.ieMobile)return this._touchmove(t);this.setPointersPositions(t);var n,r=i.Util._getFirstPointerId(t),o=(null===(e=this.targetShape)||void 0===e?void 0:e.getStage())?this.targetShape:null,a=!u.DD.isDragging||s.Konva.hitOnDragEnabled;a&&((n=this.getIntersection(this.getPointerPosition()))&&n.isListening()?a&&o!==n?(o&&(o._fireAndBubble(g,{evt:t,pointerId:r},n),o._fireAndBubble(y,{evt:t,pointerId:r},n)),n._fireAndBubble(m,{evt:t,pointerId:r},o),n._fireAndBubble(v,{evt:t,pointerId:r},o),n._fireAndBubble(_,{evt:t,pointerId:r}),this.targetShape=n):n._fireAndBubble(_,{evt:t,pointerId:r}):(o&&a&&(o._fireAndBubble(g,{evt:t,pointerId:r}),o._fireAndBubble(y,{evt:t,pointerId:r}),this._fire(m,{evt:t,target:this,currentTarget:this,pointerId:r}),this.targetShape=null),this._fire(_,{evt:t,target:this,currentTarget:this,pointerId:r})),this._fire(R,{evt:t})),t.cancelable&&t.preventDefault()},e.prototype._mousedown=function(t){if(s.Konva.UA.ieMobile)return this._touchstart(t);this.setPointersPositions(t);var e=i.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition());u.DD.justDragged=!1,s.Konva.listenClickTap=!0,n&&n.isListening()?(this.clickStartShape=n,n._fireAndBubble(b,{evt:t,pointerId:e})):this._fire(b,{evt:t,target:this,currentTarget:this,pointerId:e}),this._fire(U,{evt:t})},e.prototype._mouseup=function(t){if(s.Konva.UA.ieMobile)return this._touchend(t);this.setPointersPositions(t);var e=i.Util._getFirstPointerId(t),n=this.getIntersection(this.getPointerPosition()),r=this.clickStartShape,o=this.clickEndShape,a=!1;s.Konva.inDblClickWindow?(a=!0,clearTimeout(this.dblTimeout)):u.DD.justDragged||(s.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){s.Konva.inDblClickWindow=!1}),s.Konva.dblClickWindow),n&&n.isListening()?(this.clickEndShape=n,n._fireAndBubble(w,{evt:t,pointerId:e}),s.Konva.listenClickTap&&r&&r._id===n._id&&(n._fireAndBubble(P,{evt:t,pointerId:e}),a&&o&&o===n&&n._fireAndBubble(T,{evt:t,pointerId:e}))):(this.clickEndShape=null,this._fire(w,{evt:t,target:this,currentTarget:this,pointerId:e}),s.Konva.listenClickTap&&this._fire(P,{evt:t,target:this,currentTarget:this,pointerId:e}),a&&this._fire(T,{evt:t,target:this,currentTarget:this,pointerId:e})),this._fire(I,{evt:t}),s.Konva.listenClickTap&&(this._fire(G,{evt:t}),a&&this._fire(V,{evt:t})),s.Konva.listenClickTap=!1,t.cancelable&&t.preventDefault()},e.prototype._contextmenu=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(C,{evt:t}):this._fire(C,{evt:t,target:this,currentTarget:this}),this._fire(z,{evt:t})},e.prototype._touchstart=function(t){var e=this;this.setPointersPositions(t);var n=!1;this._changedPointerPositions.forEach((function(r){var i=e.getIntersection(r);s.Konva.listenClickTap=!0,u.DD.justDragged=!1,i&&i.isListening()&&(s.Konva.captureTouchEventsEnabled&&i.setPointerCapture(r.id),e.tapStartShape=i,i._fireAndBubble(E,{evt:t,pointerId:r.id},e),n=!0,i.isListening()&&i.preventDefault()&&t.cancelable&&t.preventDefault())})),n||this._fire(E,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire(j,{evt:t})},e.prototype._touchmove=function(t){var e=this;if(this.setPointersPositions(t),!u.DD.isDragging||s.Konva.hitOnDragEnabled){var n=!1,r={};this._changedPointerPositions.forEach((function(i){var o=c.getCapturedShape(i.id)||e.getIntersection(i);o&&o.isListening()&&(r[o._id]||(r[o._id]=!0,o._fireAndBubble(A,{evt:t,pointerId:i.id}),n=!0,o.isListening()&&o.preventDefault()&&t.cancelable&&t.preventDefault()))})),n||this._fire(A,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire(K,{evt:t})}u.DD.isDragging&&u.DD.node.preventDefault()&&t.cancelable&&t.preventDefault()},e.prototype._touchend=function(t){var e=this;this.setPointersPositions(t);var n=this.tapEndShape,r=!1;s.Konva.inDblClickWindow?(r=!0,clearTimeout(this.dblTimeout)):u.DD.justDragged||(s.Konva.inDblClickWindow=!0,clearTimeout(this.dblTimeout)),this.dblTimeout=setTimeout((function(){s.Konva.inDblClickWindow=!1}),s.Konva.dblClickWindow);var i=!1,o={},a=!1,l=!1;this._changedPointerPositions.forEach((function(u){var h=c.getCapturedShape(u.id)||e.getIntersection(u);h&&h.releaseCapture(u.id),h&&h.isListening()&&(o[h._id]||(o[h._id]=!0,e.tapEndShape=h,h._fireAndBubble(M,{evt:t,pointerId:u.id}),i=!0,s.Konva.listenClickTap&&h===e.tapStartShape&&(a=!0,h._fireAndBubble(L,{evt:t,pointerId:u.id}),r&&n&&n===h&&(l=!0,h._fireAndBubble(F,{evt:t,pointerId:u.id}))),h.isListening()&&h.preventDefault()&&t.cancelable&&t.preventDefault()))})),i||this._fire(M,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),s.Konva.listenClickTap&&!a&&(this.tapEndShape=null,this._fire(L,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id})),r&&!l&&this._fire(F,{evt:t,target:this,currentTarget:this,pointerId:this._changedPointerPositions[0].id}),this._fire(H,{evt:t}),s.Konva.listenClickTap&&(this._fire(B,{evt:t}),r&&this._fire(W,{evt:t})),this.preventDefault()&&t.cancelable&&t.preventDefault(),s.Konva.listenClickTap=!1},e.prototype._wheel=function(t){this.setPointersPositions(t);var e=this.getIntersection(this.getPointerPosition());e&&e.isListening()?e._fireAndBubble(O,{evt:t}):this._fire(O,{evt:t,target:this,currentTarget:this}),this._fire(X,{evt:t})},e.prototype._pointerdown=function(t){if(s.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=c.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(x,c.createEvent(t))}},e.prototype._pointermove=function(t){if(s.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=c.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(S,c.createEvent(t))}},e.prototype._pointerup=function(t){if(s.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=c.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(k,c.createEvent(t)),c.releaseCapture(t.pointerId)}},e.prototype._pointercancel=function(t){if(s.Konva._pointerEventsEnabled){this.setPointersPositions(t);var e=c.getCapturedShape(t.pointerId)||this.getIntersection(this.getPointerPosition());e&&e._fireAndBubble(k,c.createEvent(t)),c.releaseCapture(t.pointerId)}},e.prototype._lostpointercapture=function(t){c.releaseCapture(t.pointerId)},e.prototype.setPointersPositions=function(t){var e=this,n=this._getContentPosition(),r=null,o=null;void 0!==(t=t||window.event).touches?(this._pointerPositions=[],this._changedPointerPositions=[],i.Collection.prototype.each.call(t.touches,(function(t){e._pointerPositions.push({id:t.identifier,x:(t.clientX-n.left)/n.scaleX,y:(t.clientY-n.top)/n.scaleY})})),i.Collection.prototype.each.call(t.changedTouches||t.touches,(function(t){e._changedPointerPositions.push({id:t.identifier,x:(t.clientX-n.left)/n.scaleX,y:(t.clientY-n.top)/n.scaleY})}))):(r=(t.clientX-n.left)/n.scaleX,o=(t.clientY-n.top)/n.scaleY,this.pointerPos={x:r,y:o},this._pointerPositions=[{x:r,y:o,id:i.Util._getFirstPointerId(t)}],this._changedPointerPositions=[{x:r,y:o,id:i.Util._getFirstPointerId(t)}])},e.prototype._setPointerPosition=function(t){i.Util.warn('Method _setPointerPosition is deprecated. Use "stage.setPointersPositions(event)" instead.'),this.setPointersPositions(t)},e.prototype._getContentPosition=function(){if(!this.content||!this.content.getBoundingClientRect)return{top:0,left:0,scaleX:1,scaleY:1};var t=this.content.getBoundingClientRect();return{top:t.top,left:t.left,scaleX:t.width/this.content.clientWidth||1,scaleY:t.height/this.content.clientHeight||1}},e.prototype._buildDOM=function(){if(this.bufferCanvas=new l.SceneCanvas({width:this.width(),height:this.height()}),this.bufferHitCanvas=new l.HitCanvas({pixelRatio:1,width:this.width(),height:this.height()}),s.Konva.isBrowser){var t=this.container();if(!t)throw"Stage has no container. A container is required.";t.innerHTML=J,this.content=document.createElement("div"),this.content.style.position=Y,this.content.style.userSelect="none",this.content.className=q,this.content.setAttribute("role","presentation"),t.appendChild(this.content),this._resizeDOM()}},e.prototype.cache=function(){return i.Util.warn("Cache function is not allowed for stage. You may use cache only for layers, groups and shapes."),this},e.prototype.clearCache=function(){return this},e.prototype.batchDraw=function(){return this.children.each((function(t){t.batchDraw()})),this},e}(a.Container);n.Stage=ot,ot.prototype.nodeType=d,h._registerNode(ot),o.Factory.addGetterSetter(ot,"container")},{"./Canvas":5,"./Container":6,"./DragAndDrop":8,"./Factory":9,"./Global":11,"./PointerEvents":15,"./Util":19}],18:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Util"),i=t("./Animation"),o=t("./Node"),a=t("./Global"),s={node:1,duration:1,easing:1,onFinish:1,yoyo:1},l=1,u=2,h=3,c=0,d=["fill","stroke","shadowColor"],f=function(){function t(t,e,n,r,i,o,a){this.prop=t,this.propFunc=e,this.begin=r,this._pos=r,this.duration=o,this._change=0,this.prevPos=0,this.yoyo=a,this._time=0,this._position=0,this._startTime=0,this._finish=0,this.func=n,this._change=i-this.begin,this.pause()}return t.prototype.fire=function(t){var e=this[t];e&&e()},t.prototype.setTime=function(t){t>this.duration?this.yoyo?(this._time=this.duration,this.reverse()):this.finish():t<0?this.yoyo?(this._time=0,this.play()):this.reset():(this._time=t,this.update())},t.prototype.getTime=function(){return this._time},t.prototype.setPosition=function(t){this.prevPos=this._pos,this.propFunc(t),this._pos=t},t.prototype.getPosition=function(t){return void 0===t&&(t=this._time),this.func(t,this.begin,this._change,this.duration)},t.prototype.play=function(){this.state=u,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onPlay")},t.prototype.reverse=function(){this.state=h,this._time=this.duration-this._time,this._startTime=this.getTimer()-this._time,this.onEnterFrame(),this.fire("onReverse")},t.prototype.seek=function(t){this.pause(),this._time=t,this.update(),this.fire("onSeek")},t.prototype.reset=function(){this.pause(),this._time=0,this.update(),this.fire("onReset")},t.prototype.finish=function(){this.pause(),this._time=this.duration,this.update(),this.fire("onFinish")},t.prototype.update=function(){this.setPosition(this.getPosition(this._time)),this.fire("onUpdate")},t.prototype.onEnterFrame=function(){var t=this.getTimer()-this._startTime;this.state===u?this.setTime(t):this.state===h&&this.setTime(this.duration-t)},t.prototype.pause=function(){this.state=l,this.fire("onPause")},t.prototype.getTimer=function(){return(new Date).getTime()},t}(),p=function(){function t(e){var o,l,u=this,h=e.node,d=h._id,p=e.easing||n.Easings.Linear,g=!!e.yoyo;o="undefined"===typeof e.duration?.3:0===e.duration?.001:e.duration,this.node=h,this._id=c++;var y=h.getLayer()||(h instanceof a.Konva.Stage?h.getLayers():null);for(l in y||r.Util.error("Tween constructor have `node` that is not in a layer. Please add node into layer first."),this.anim=new i.Animation((function(){u.tween.onEnterFrame()}),y),this.tween=new f(l,(function(t){u._tweenFunc(t)}),p,0,1,1e3*o,g),this._addListeners(),t.attrs[d]||(t.attrs[d]={}),t.attrs[d][this._id]||(t.attrs[d][this._id]={}),t.tweens[d]||(t.tweens[d]={}),e)void 0===s[l]&&this._addAttr(l,e[l]);this.reset(),this.onFinish=e.onFinish,this.onReset=e.onReset,this.onUpdate=e.onUpdate}return t.prototype._addAttr=function(e,n){var i,o,a,s,l,u,h,c,f=this.node,p=f._id;if((a=t.tweens[p][e])&&delete t.attrs[p][a][e],i=f.getAttr(e),r.Util._isArray(n))if(o=[],l=Math.max(n.length,i.length),"points"===e&&n.length!==i.length&&(n.length>i.length?(h=i,i=r.Util._prepareArrayForTween(i,n,f.closed())):(u=n,n=r.Util._prepareArrayForTween(n,i,f.closed()))),0===e.indexOf("fill"))for(s=0;s<l;s++)if(s%2===0)o.push(n[s]-i[s]);else{var g=r.Util.colorToRGBA(i[s]);c=r.Util.colorToRGBA(n[s]),i[s]=g,o.push({r:c.r-g.r,g:c.g-g.g,b:c.b-g.b,a:c.a-g.a})}else for(s=0;s<l;s++)o.push(n[s]-i[s]);else-1!==d.indexOf(e)?(i=r.Util.colorToRGBA(i),o={r:(c=r.Util.colorToRGBA(n)).r-i.r,g:c.g-i.g,b:c.b-i.b,a:c.a-i.a}):o=n-i;t.attrs[p][this._id][e]={start:i,diff:o,end:n,trueEnd:u,trueStart:h},t.tweens[p][e]=this._id},t.prototype._tweenFunc=function(e){var n,i,o,a,s,l,u,h,c=this.node,f=t.attrs[c._id][this._id];for(n in f){if(o=(i=f[n]).start,a=i.diff,h=i.end,r.Util._isArray(o))if(s=[],u=Math.max(o.length,h.length),0===n.indexOf("fill"))for(l=0;l<u;l++)l%2===0?s.push((o[l]||0)+a[l]*e):s.push("rgba("+Math.round(o[l].r+a[l].r*e)+","+Math.round(o[l].g+a[l].g*e)+","+Math.round(o[l].b+a[l].b*e)+","+(o[l].a+a[l].a*e)+")");else for(l=0;l<u;l++)s.push((o[l]||0)+a[l]*e);else s=-1!==d.indexOf(n)?"rgba("+Math.round(o.r+a.r*e)+","+Math.round(o.g+a.g*e)+","+Math.round(o.b+a.b*e)+","+(o.a+a.a*e)+")":o+a*e;c.setAttr(n,s)}},t.prototype._addListeners=function(){var e=this;this.tween.onPlay=function(){e.anim.start()},this.tween.onReverse=function(){e.anim.start()},this.tween.onPause=function(){e.anim.stop()},this.tween.onFinish=function(){var n=e.node,r=t.attrs[n._id][e._id];r.points&&r.points.trueEnd&&n.setAttr("points",r.points.trueEnd),e.onFinish&&e.onFinish.call(e)},this.tween.onReset=function(){var n=e.node,r=t.attrs[n._id][e._id];r.points&&r.points.trueStart&&n.points(r.points.trueStart),e.onReset&&e.onReset()},this.tween.onUpdate=function(){e.onUpdate&&e.onUpdate.call(e)}},t.prototype.play=function(){return this.tween.play(),this},t.prototype.reverse=function(){return this.tween.reverse(),this},t.prototype.reset=function(){return this.tween.reset(),this},t.prototype.seek=function(t){return this.tween.seek(1e3*t),this},t.prototype.pause=function(){return this.tween.pause(),this},t.prototype.finish=function(){return this.tween.finish(),this},t.prototype.destroy=function(){var e,n=this.node._id,r=this._id,i=t.tweens[n];for(e in this.pause(),i)delete t.tweens[n][e];delete t.attrs[n][r]},t.attrs={},t.tweens={},t}();n.Tween=p,o.Node.prototype.to=function(t){var e=t.onFinish;t.node=this,t.onFinish=function(){this.destroy(),e&&e()},new p(t).play()},n.Easings={BackEaseIn:function(t,e,n,r){var i=1.70158;return n*(t/=r)*t*((i+1)*t-i)+e},BackEaseOut:function(t,e,n,r){var i=1.70158;return n*((t=t/r-1)*t*((i+1)*t+i)+1)+e},BackEaseInOut:function(t,e,n,r){var i=1.70158;return(t/=r/2)<1?n/2*(t*t*((1+(i*=1.525))*t-i))+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},ElasticEaseIn:function(t,e,n,r,i,o){var a=0;return 0===t?e:1===(t/=r)?e+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),-i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)+e)},ElasticEaseOut:function(t,e,n,r,i,o){var a=0;return 0===t?e:1===(t/=r)?e+n:(o||(o=.3*r),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),i*Math.pow(2,-10*t)*Math.sin((t*r-a)*(2*Math.PI)/o)+n+e)},ElasticEaseInOut:function(t,e,n,r,i,o){var a=0;return 0===t?e:2===(t/=r/2)?e+n:(o||(o=r*(.3*1.5)),!i||i<Math.abs(n)?(i=n,a=o/4):a=o/(2*Math.PI)*Math.asin(n/i),t<1?i*Math.pow(2,10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*-.5+e:i*Math.pow(2,-10*(t-=1))*Math.sin((t*r-a)*(2*Math.PI)/o)*.5+n+e)},BounceEaseOut:function(t,e,n,r){return(t/=r)<1/2.75?n*(7.5625*t*t)+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e},BounceEaseIn:function(t,e,r,i){return r-n.Easings.BounceEaseOut(i-t,0,r,i)+e},BounceEaseInOut:function(t,e,r,i){return t<i/2?.5*n.Easings.BounceEaseIn(2*t,0,r,i)+e:.5*n.Easings.BounceEaseOut(2*t-i,0,r,i)+.5*r+e},EaseIn:function(t,e,n,r){return n*(t/=r)*t+e},EaseOut:function(t,e,n,r){return-n*(t/=r)*(t-2)+e},EaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},StrongEaseIn:function(t,e,n,r){return n*(t/=r)*t*t*t*t+e},StrongEaseOut:function(t,e,n,r){return n*((t=t/r-1)*t*t*t*t+1)+e},StrongEaseInOut:function(t,e,n,r){return(t/=r/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},Linear:function(t,e,n,r){return n*t/r+e}}},{"./Animation":4,"./Global":11,"./Node":14,"./Util":19}],19:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Global"),i=function(){function t(){}return t.toCollection=function(e){var n,r=new t,i=e.length;for(n=0;n<i;n++)r.push(e[n]);return r},t._mapMethod=function(e){t.prototype[e]=function(){var t,n=this.length,r=[].slice.call(arguments);for(t=0;t<n;t++)this[t][e].apply(this[t],r);return this}},t.mapMethods=function(e){var n=e.prototype;for(var r in n)t._mapMethod(r)},t}();n.Collection=i,i.prototype=[],i.prototype.each=function(t){for(var e=0;e<this.length;e++)t(this[e],e)},i.prototype.toArray=function(){var t,e=[],n=this.length;for(t=0;t<n;t++)e.push(this[t]);return e};var o=function(){function t(t){void 0===t&&(t=[1,0,0,1,0,0]),this.dirty=!1,this.m=t&&t.slice()||[1,0,0,1,0,0]}return t.prototype.reset=function(){this.m[0]=1,this.m[1]=0,this.m[2]=0,this.m[3]=1,this.m[4]=0,this.m[5]=0},t.prototype.copy=function(){return new t(this.m)},t.prototype.copyInto=function(t){t.m[0]=this.m[0],t.m[1]=this.m[1],t.m[2]=this.m[2],t.m[3]=this.m[3],t.m[4]=this.m[4],t.m[5]=this.m[5]},t.prototype.point=function(t){var e=this.m;return{x:e[0]*t.x+e[2]*t.y+e[4],y:e[1]*t.x+e[3]*t.y+e[5]}},t.prototype.translate=function(t,e){return this.m[4]+=this.m[0]*t+this.m[2]*e,this.m[5]+=this.m[1]*t+this.m[3]*e,this},t.prototype.scale=function(t,e){return this.m[0]*=t,this.m[1]*=t,this.m[2]*=e,this.m[3]*=e,this},t.prototype.rotate=function(t){var e=Math.cos(t),n=Math.sin(t),r=this.m[0]*e+this.m[2]*n,i=this.m[1]*e+this.m[3]*n,o=this.m[0]*-n+this.m[2]*e,a=this.m[1]*-n+this.m[3]*e;return this.m[0]=r,this.m[1]=i,this.m[2]=o,this.m[3]=a,this},t.prototype.getTranslation=function(){return{x:this.m[4],y:this.m[5]}},t.prototype.skew=function(t,e){var n=this.m[0]+this.m[2]*e,r=this.m[1]+this.m[3]*e,i=this.m[2]+this.m[0]*t,o=this.m[3]+this.m[1]*t;return this.m[0]=n,this.m[1]=r,this.m[2]=i,this.m[3]=o,this},t.prototype.multiply=function(t){var e=this.m[0]*t.m[0]+this.m[2]*t.m[1],n=this.m[1]*t.m[0]+this.m[3]*t.m[1],r=this.m[0]*t.m[2]+this.m[2]*t.m[3],i=this.m[1]*t.m[2]+this.m[3]*t.m[3],o=this.m[0]*t.m[4]+this.m[2]*t.m[5]+this.m[4],a=this.m[1]*t.m[4]+this.m[3]*t.m[5]+this.m[5];return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this},t.prototype.invert=function(){var t=1/(this.m[0]*this.m[3]-this.m[1]*this.m[2]),e=this.m[3]*t,n=-this.m[1]*t,r=-this.m[2]*t,i=this.m[0]*t,o=t*(this.m[2]*this.m[5]-this.m[3]*this.m[4]),a=t*(this.m[1]*this.m[4]-this.m[0]*this.m[5]);return this.m[0]=e,this.m[1]=n,this.m[2]=r,this.m[3]=i,this.m[4]=o,this.m[5]=a,this},t.prototype.getMatrix=function(){return this.m},t.prototype.setAbsolutePosition=function(t,e){var n=this.m[0],r=this.m[1],i=this.m[2],o=this.m[3],a=this.m[4],s=(n*(e-this.m[5])-r*(t-a))/(n*o-r*i),l=(t-a-i*s)/n;return this.translate(l,s)},t.prototype.decompose=function(){var t=this.m[0],e=this.m[1],r=this.m[2],i=this.m[3],o=t*i-e*r,a={x:this.m[4],y:this.m[5],rotation:0,scaleX:0,scaleY:0,skewX:0,skewY:0};if(0!=t||0!=e){var s=Math.sqrt(t*t+e*e);a.rotation=e>0?Math.acos(t/s):-Math.acos(t/s),a.scaleX=s,a.scaleY=o/s,a.skewX=(t*r+e*i)/o,a.skewY=0}else if(0!=r||0!=i){var l=Math.sqrt(r*r+i*i);a.rotation=Math.PI/2-(i>0?Math.acos(-r/l):-Math.acos(r/l)),a.scaleX=o/l,a.scaleY=l,a.skewX=0,a.skewY=(t*r+e*i)/o}return a.rotation=n.Util._getRotation(a.rotation),a},t}();n.Transform=o;var a="[object Array]",s="[object Number]",l="[object String]",u="[object Boolean]",h=Math.PI/180,c=180/Math.PI,d="#",f="",p="0",g="Konva warning: ",y="Konva error: ",m="rgb(",v={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,132,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,255,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,203],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[119,128,144],slategrey:[119,128,144],snow:[255,255,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],transparent:[255,255,255,0],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,5]},_=/rgb\((\d{1,3}),(\d{1,3}),(\d{1,3})\)/,b=[];n.Util={_isElement:function(t){return!(!t||1!=t.nodeType)},_isFunction:function(t){return!!(t&&t.constructor&&t.call&&t.apply)},_isPlainObject:function(t){return!!t&&t.constructor===Object},_isArray:function(t){return Object.prototype.toString.call(t)===a},_isNumber:function(t){return Object.prototype.toString.call(t)===s&&!isNaN(t)&&isFinite(t)},_isString:function(t){return Object.prototype.toString.call(t)===l},_isBoolean:function(t){return Object.prototype.toString.call(t)===u},isObject:function(t){return t instanceof Object},isValidSelector:function(t){if("string"!==typeof t)return!1;var e=t[0];return"#"===e||"."===e||e===e.toUpperCase()},_sign:function(t){return 0===t?0:t>0?1:-1},requestAnimFrame:function(t){b.push(t),1===b.length&&requestAnimationFrame((function(){var t=b;b=[],t.forEach((function(t){t()}))}))},createCanvasElement:function(){var t=document.createElement("canvas");try{t.style=t.style||{}}catch(e){}return t},createImageElement:function(){return document.createElement("img")},_isInDocument:function(t){for(;t=t.parentNode;)if(t==document)return!0;return!1},_simplifyArray:function(t){var e,r,i=[],o=t.length,a=n.Util;for(e=0;e<o;e++)r=t[e],a._isNumber(r)?r=Math.round(1e3*r)/1e3:a._isString(r)||(r=r.toString()),i.push(r);return i},_urlToImage:function(t,e){var n=new r.glob.Image;n.onload=function(){e(n)},n.src=t},_rgbToHex:function(t,e,n){return((1<<24)+(t<<16)+(e<<8)+n).toString(16).slice(1)},_hexToRgb:function(t){t=t.replace(d,f);var e=parseInt(t,16);return{r:e>>16&255,g:e>>8&255,b:255&e}},getRandomColor:function(){for(var t=(16777215*Math.random()<<0).toString(16);t.length<6;)t=p+t;return d+t},get:function(t,e){return void 0===t?e:t},getRGB:function(t){var e;return t in v?{r:(e=v[t])[0],g:e[1],b:e[2]}:t[0]===d?this._hexToRgb(t.substring(1)):t.substr(0,4)===m?(e=_.exec(t.replace(/ /g,"")),{r:parseInt(e[1],10),g:parseInt(e[2],10),b:parseInt(e[3],10)}):{r:0,g:0,b:0}},colorToRGBA:function(t){return t=t||"black",n.Util._namedColorToRBA(t)||n.Util._hex3ColorToRGBA(t)||n.Util._hex6ColorToRGBA(t)||n.Util._rgbColorToRGBA(t)||n.Util._rgbaColorToRGBA(t)||n.Util._hslColorToRGBA(t)},_namedColorToRBA:function(t){var e=v[t.toLowerCase()];return e?{r:e[0],g:e[1],b:e[2],a:1}:null},_rgbColorToRGBA:function(t){if(0===t.indexOf("rgb(")){var e=(t=t.match(/rgb\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:1}}},_rgbaColorToRGBA:function(t){if(0===t.indexOf("rgba(")){var e=(t=t.match(/rgba\(([^)]+)\)/)[1]).split(/ *, */).map(Number);return{r:e[0],g:e[1],b:e[2],a:e[3]}}},_hex6ColorToRGBA:function(t){if("#"===t[0]&&7===t.length)return{r:parseInt(t.slice(1,3),16),g:parseInt(t.slice(3,5),16),b:parseInt(t.slice(5,7),16),a:1}},_hex3ColorToRGBA:function(t){if("#"===t[0]&&4===t.length)return{r:parseInt(t[1]+t[1],16),g:parseInt(t[2]+t[2],16),b:parseInt(t[3]+t[3],16),a:1}},_hslColorToRGBA:function(t){if(/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.test(t)){var e=/hsl\((\d+),\s*([\d.]+)%,\s*([\d.]+)%\)/g.exec(t),n=(e[0],e.slice(1)),r=Number(n[0])/360,i=Number(n[1])/100,o=Number(n[2])/100,a=void 0,s=void 0,l=void 0;if(0===i)return l=255*o,{r:Math.round(l),g:Math.round(l),b:Math.round(l),a:1};for(var u=2*o-(a=o<.5?o*(1+i):o+i-o*i),h=[0,0,0],c=0;c<3;c++)(s=r+1/3*-(c-1))<0&&s++,s>1&&s--,l=6*s<1?u+6*(a-u)*s:2*s<1?a:3*s<2?u+(a-u)*(2/3-s)*6:u,h[c]=255*l;return{r:Math.round(h[0]),g:Math.round(h[1]),b:Math.round(h[2]),a:1}}},haveIntersection:function(t,e){return!(e.x>t.x+t.width||e.x+e.width<t.x||e.y>t.y+t.height||e.y+e.height<t.y)},cloneObject:function(t){var e={};for(var n in t)this._isPlainObject(t[n])?e[n]=this.cloneObject(t[n]):this._isArray(t[n])?e[n]=this.cloneArray(t[n]):e[n]=t[n];return e},cloneArray:function(t){return t.slice(0)},_degToRad:function(t){return t*h},_radToDeg:function(t){return t*c},_getRotation:function(t){return r.Konva.angleDeg?n.Util._radToDeg(t):t},_capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},throw:function(t){throw new Error(y+t)},error:function(t){console.error(y+t)},warn:function(t){r.Konva.showWarnings&&console.warn(g+t)},extend:function(t,e){function n(){this.constructor=t}n.prototype=e.prototype;var r=t.prototype;for(var i in t.prototype=new n,r)r.hasOwnProperty(i)&&(t.prototype[i]=r[i]);t.__super__=e.prototype,t.super=e},_getControlPoints:function(t,e,n,r,i,o,a){var s=Math.sqrt(Math.pow(n-t,2)+Math.pow(r-e,2)),l=Math.sqrt(Math.pow(i-n,2)+Math.pow(o-r,2)),u=a*s/(s+l),h=a*l/(s+l);return[n-u*(i-t),r-u*(o-e),n+h*(i-t),r+h*(o-e)]},_expandPoints:function(t,e){var r,i,o=t.length,a=[];for(r=2;r<o-2;r+=2)i=n.Util._getControlPoints(t[r-2],t[r-1],t[r],t[r+1],t[r+2],t[r+3],e),a.push(i[0]),a.push(i[1]),a.push(t[r]),a.push(t[r+1]),a.push(i[2]),a.push(i[3]);return a},each:function(t,e){for(var n in t)e(n,t[n])},_inRange:function(t,e,n){return e<=t&&t<n},_getProjectionToSegment:function(t,e,n,r,i,o){var a,s,l,u=(t-n)*(t-n)+(e-r)*(e-r);if(0==u)a=t,s=e,l=(i-n)*(i-n)+(o-r)*(o-r);else{var h=((i-t)*(n-t)+(o-e)*(r-e))/u;h<0?(a=t,s=e,l=(t-i)*(t-i)+(e-o)*(e-o)):h>1?(a=n,s=r,l=(n-i)*(n-i)+(r-o)*(r-o)):l=((a=t+h*(n-t))-i)*(a-i)+((s=e+h*(r-e))-o)*(s-o)}return[a,s,l]},_getProjectionToLine:function(t,e,r){var i=n.Util.cloneObject(t),o=Number.MAX_VALUE;return e.forEach((function(a,s){if(r||s!==e.length-1){var l=e[(s+1)%e.length],u=n.Util._getProjectionToSegment(a.x,a.y,l.x,l.y,t.x,t.y),h=u[0],c=u[1],d=u[2];d<o&&(i.x=h,i.y=c,o=d)}})),i},_prepareArrayForTween:function(t,e,r){var i,o=[],a=[];if(t.length>e.length){var s=e;e=t,t=s}for(i=0;i<t.length;i+=2)o.push({x:t[i],y:t[i+1]});for(i=0;i<e.length;i+=2)a.push({x:e[i],y:e[i+1]});var l=[];return a.forEach((function(t){var e=n.Util._getProjectionToLine(t,o,r);l.push(e.x),l.push(e.y)})),l},_prepareToStringify:function(t){var e;for(var r in t.visitedByCircularReferenceRemoval=!0,t)if(t.hasOwnProperty(r)&&t[r]&&"object"==typeof t[r])if(e=Object.getOwnPropertyDescriptor(t,r),t[r].visitedByCircularReferenceRemoval||n.Util._isElement(t[r])){if(!e.configurable)return null;delete t[r]}else if(null===n.Util._prepareToStringify(t[r])){if(!e.configurable)return null;delete t[r]}return delete t.visitedByCircularReferenceRemoval,t},_assign:function(t,e){for(var n in e)t[n]=e[n];return t},_getFirstPointerId:function(t){return t.touches?t.changedTouches[0].identifier:999}}},{"./Global":11}],20:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Global"),i=t("./Util");function o(t){return i.Util._isString(t)?'"'+t+'"':"[object Number]"===Object.prototype.toString.call(t)||i.Util._isBoolean(t)?t:Object.prototype.toString.call(t)}function a(t){return t>255?255:t<0?0:Math.round(t)}function s(t){return t>1?1:t<1e-4?1e-4:t}function l(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isNumber(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number.'),t}}function u(t){if(r.Konva.isUnminified)return function(e,n){var r=i.Util._isNumber(e),a=i.Util._isArray(e)&&e.length==t;return r||a||i.Util.warn(o(e)+' is a not valid value for "'+n+'" attribute. The value should be a number or Array<number>('+t+")"),e}}function h(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isNumber(t)||"auto"===t||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a number or "auto".'),t}}function c(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isString(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a string.'),t}}function d(){if(r.Konva.isUnminified)return function(t,e){var n=i.Util._isString(t),r="[object CanvasGradient]"===Object.prototype.toString.call(t);return n||r||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a string or a native gradient.'),t}}function f(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isFunction(t)||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a function.'),t}}function p(){if(r.Konva.isUnminified)return function(t,e){return i.Util._isArray(t)?t.forEach((function(t){i.Util._isNumber(t)||i.Util.warn('"'+e+'" attribute has non numeric element '+t+". Make sure that all elements are numbers.")})):i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a array of numbers.'),t}}function g(){if(r.Konva.isUnminified)return function(t,e){return!0===t||!1===t||i.Util.warn(o(t)+' is a not valid value for "'+e+'" attribute. The value should be a boolean.'),t}}function y(t){if(r.Konva.isUnminified)return function(e,n){return i.Util.isObject(e)||i.Util.warn(o(e)+' is a not valid value for "'+n+'" attribute. The value should be an object with properties '+t),e}}n.RGBComponent=a,n.alphaComponent=s,n.getNumberValidator=l,n.getNumberOrArrayOfNumbersValidator=u,n.getNumberOrAutoValidator=h,n.getStringValidator=c,n.getStringOrGradientValidator=d,n.getFunctionValidator=f,n.getNumberArrayValidator=p,n.getBooleanValidator=g,n.getComponentValidator=y},{"./Global":11,"./Util":19}],21:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./Global"),i=t("./Util"),o=t("./Node"),a=t("./Container"),s=t("./Stage"),l=t("./Layer"),u=t("./FastLayer"),h=t("./Group"),c=t("./DragAndDrop"),d=t("./Shape"),f=t("./Animation"),p=t("./Tween"),g=t("./Context"),y=t("./Canvas");n.Konva=i.Util._assign(r.Konva,{Collection:i.Collection,Util:i.Util,Transform:i.Transform,Node:o.Node,ids:o.ids,names:o.names,Container:a.Container,Stage:s.Stage,stages:s.stages,Layer:l.Layer,FastLayer:u.FastLayer,Group:h.Group,DD:c.DD,Shape:d.Shape,shapes:d.shapes,Animation:f.Animation,Tween:p.Tween,Easings:p.Easings,Context:g.Context,Canvas:y.Canvas})},{"./Animation":4,"./Canvas":5,"./Container":6,"./Context":7,"./DragAndDrop":8,"./FastLayer":10,"./Global":11,"./Group":12,"./Layer":13,"./Node":14,"./Shape":16,"./Stage":17,"./Tween":18,"./Util":19}],22:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("./_CoreInternals"),i=t("./shapes/Arc"),o=t("./shapes/Arrow"),a=t("./shapes/Circle"),s=t("./shapes/Ellipse"),l=t("./shapes/Image"),u=t("./shapes/Label"),h=t("./shapes/Line"),c=t("./shapes/Path"),d=t("./shapes/Rect"),f=t("./shapes/RegularPolygon"),p=t("./shapes/Ring"),g=t("./shapes/Sprite"),y=t("./shapes/Star"),m=t("./shapes/Text"),v=t("./shapes/TextPath"),_=t("./shapes/Transformer"),b=t("./shapes/Wedge"),w=t("./filters/Blur"),S=t("./filters/Brighten"),x=t("./filters/Contrast"),k=t("./filters/Emboss"),C=t("./filters/Enhance"),P=t("./filters/Grayscale"),T=t("./filters/HSL"),E=t("./filters/HSV"),M=t("./filters/Invert"),L=t("./filters/Kaleidoscope"),F=t("./filters/Mask"),A=t("./filters/Noise"),O=t("./filters/Pixelate"),D=t("./filters/Posterize"),N=t("./filters/RGB"),R=t("./filters/RGBA"),U=t("./filters/Sepia"),I=t("./filters/Solarize"),z=t("./filters/Threshold");n.Konva=r.Konva.Util._assign(r.Konva,{Arc:i.Arc,Arrow:o.Arrow,Circle:a.Circle,Ellipse:s.Ellipse,Image:l.Image,Label:u.Label,Tag:u.Tag,Line:h.Line,Path:c.Path,Rect:d.Rect,RegularPolygon:f.RegularPolygon,Ring:p.Ring,Sprite:g.Sprite,Star:y.Star,Text:m.Text,TextPath:v.TextPath,Transformer:_.Transformer,Wedge:b.Wedge,Filters:{Blur:w.Blur,Brighten:S.Brighten,Contrast:x.Contrast,Emboss:k.Emboss,Enhance:C.Enhance,Grayscale:P.Grayscale,HSL:T.HSL,HSV:E.HSV,Invert:M.Invert,Kaleidoscope:L.Kaleidoscope,Mask:F.Mask,Noise:A.Noise,Pixelate:O.Pixelate,Posterize:D.Posterize,RGB:N.RGB,RGBA:R.RGBA,Sepia:U.Sepia,Solarize:I.Solarize,Threshold:z.Threshold}})},{"./_CoreInternals":21,"./filters/Blur":23,"./filters/Brighten":24,"./filters/Contrast":25,"./filters/Emboss":26,"./filters/Enhance":27,"./filters/Grayscale":28,"./filters/HSL":29,"./filters/HSV":30,"./filters/Invert":31,"./filters/Kaleidoscope":32,"./filters/Mask":33,"./filters/Noise":34,"./filters/Pixelate":35,"./filters/Posterize":36,"./filters/RGB":37,"./filters/RGBA":38,"./filters/Sepia":39,"./filters/Solarize":40,"./filters/Threshold":41,"./shapes/Arc":43,"./shapes/Arrow":44,"./shapes/Circle":45,"./shapes/Ellipse":46,"./shapes/Image":47,"./shapes/Label":48,"./shapes/Line":49,"./shapes/Path":50,"./shapes/Rect":51,"./shapes/RegularPolygon":52,"./shapes/Ring":53,"./shapes/Sprite":54,"./shapes/Star":55,"./shapes/Text":56,"./shapes/TextPath":57,"./shapes/Transformer":58,"./shapes/Wedge":59}],23:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Node"),o=t("../Validators");function a(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var s=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function u(t,e){var n,r,i,o,u,h,c,d,f,p,g,y,m,v,_,b,w,S,x,k,C,P,T,E,M=t.data,L=t.width,F=t.height,A=e+e+1,O=L-1,D=F-1,N=e+1,R=N*(N+1)/2,U=new a,I=null,z=U,G=null,V=null,j=s[e],H=l[e];for(i=1;i<A;i++)z=z.next=new a,i===N&&(I=z);for(z.next=U,c=h=0,r=0;r<F;r++){for(b=w=S=x=d=f=p=g=0,y=N*(k=M[h]),m=N*(C=M[h+1]),v=N*(P=M[h+2]),_=N*(T=M[h+3]),d+=R*k,f+=R*C,p+=R*P,g+=R*T,z=U,i=0;i<N;i++)z.r=k,z.g=C,z.b=P,z.a=T,z=z.next;for(i=1;i<N;i++)o=h+((O<i?O:i)<<2),d+=(z.r=k=M[o])*(E=N-i),f+=(z.g=C=M[o+1])*E,p+=(z.b=P=M[o+2])*E,g+=(z.a=T=M[o+3])*E,b+=k,w+=C,S+=P,x+=T,z=z.next;for(G=U,V=I,n=0;n<L;n++)M[h+3]=T=g*j>>H,0!==T?(T=255/T,M[h]=(d*j>>H)*T,M[h+1]=(f*j>>H)*T,M[h+2]=(p*j>>H)*T):M[h]=M[h+1]=M[h+2]=0,d-=y,f-=m,p-=v,g-=_,y-=G.r,m-=G.g,v-=G.b,_-=G.a,o=c+((o=n+e+1)<O?o:O)<<2,d+=b+=G.r=M[o],f+=w+=G.g=M[o+1],p+=S+=G.b=M[o+2],g+=x+=G.a=M[o+3],G=G.next,y+=k=V.r,m+=C=V.g,v+=P=V.b,_+=T=V.a,b-=k,w-=C,S-=P,x-=T,V=V.next,h+=4;c+=L}for(n=0;n<L;n++){for(w=S=x=b=f=p=g=d=0,y=N*(k=M[h=n<<2]),m=N*(C=M[h+1]),v=N*(P=M[h+2]),_=N*(T=M[h+3]),d+=R*k,f+=R*C,p+=R*P,g+=R*T,z=U,i=0;i<N;i++)z.r=k,z.g=C,z.b=P,z.a=T,z=z.next;for(u=L,i=1;i<=e;i++)h=u+n<<2,d+=(z.r=k=M[h])*(E=N-i),f+=(z.g=C=M[h+1])*E,p+=(z.b=P=M[h+2])*E,g+=(z.a=T=M[h+3])*E,b+=k,w+=C,S+=P,x+=T,z=z.next,i<D&&(u+=L);for(h=n,G=U,V=I,r=0;r<F;r++)M[3+(o=h<<2)]=T=g*j>>H,T>0?(T=255/T,M[o]=(d*j>>H)*T,M[o+1]=(f*j>>H)*T,M[o+2]=(p*j>>H)*T):M[o]=M[o+1]=M[o+2]=0,d-=y,f-=m,p-=v,g-=_,y-=G.r,m-=G.g,v-=G.b,_-=G.a,o=n+((o=r+N)<D?o:D)*L<<2,d+=b+=G.r=M[o],f+=w+=G.g=M[o+1],p+=S+=G.b=M[o+2],g+=x+=G.a=M[o+3],G=G.next,y+=k=V.r,m+=C=V.g,v+=P=V.b,_+=T=V.a,b-=k,w-=C,S-=P,x-=T,V=V.next,h+=L}}n.Blur=function(t){var e=Math.round(this.blurRadius());e>0&&u(t,e)},r.Factory.addGetterSetter(i.Node,"blurRadius",0,o.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":9,"../Node":14,"../Validators":20}],24:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Node"),o=t("../Validators");n.Brighten=function(t){var e,n=255*this.brightness(),r=t.data,i=r.length;for(e=0;e<i;e+=4)r[e]+=n,r[e+1]+=n,r[e+2]+=n},r.Factory.addGetterSetter(i.Node,"brightness",0,o.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":9,"../Node":14,"../Validators":20}],25:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Node"),o=t("../Validators");n.Contrast=function(t){var e,n=Math.pow((this.contrast()+100)/100,2),r=t.data,i=r.length,o=150,a=150,s=150;for(e=0;e<i;e+=4)o=r[e],a=r[e+1],s=r[e+2],o/=255,o-=.5,o*=n,o+=.5,a/=255,a-=.5,a*=n,a+=.5,s/=255,s-=.5,s*=n,s+=.5,o=(o*=255)<0?0:o>255?255:o,a=(a*=255)<0?0:a>255?255:a,s=(s*=255)<0?0:s>255?255:s,r[e]=o,r[e+1]=a,r[e+2]=s},r.Factory.addGetterSetter(i.Node,"contrast",0,o.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":9,"../Node":14,"../Validators":20}],26:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Node"),o=t("../Util"),a=t("../Validators");n.Emboss=function(t){var e=10*this.embossStrength(),n=255*this.embossWhiteLevel(),r=this.embossDirection(),i=this.embossBlend(),a=0,s=0,l=t.data,u=t.width,h=t.height,c=4*u,d=h;switch(r){case"top-left":a=-1,s=-1;break;case"top":a=-1,s=0;break;case"top-right":a=-1,s=1;break;case"right":a=0,s=1;break;case"bottom-right":a=1,s=1;break;case"bottom":a=1,s=0;break;case"bottom-left":a=1,s=-1;break;case"left":a=0,s=-1;break;default:o.Util.error("Unknown emboss direction: "+r)}do{var f=(d-1)*c,p=a;d+p<1&&(p=0),d+p>h&&(p=0);var g=(d-1+p)*u*4,y=u;do{var m=f+4*(y-1),v=s;y+v<1&&(v=0),y+v>u&&(v=0);var _=g+4*(y-1+v),b=l[m]-l[_],w=l[m+1]-l[_+1],S=l[m+2]-l[_+2],x=b,k=x>0?x:-x;if((w>0?w:-w)>k&&(x=w),(S>0?S:-S)>k&&(x=S),x*=e,i){var C=l[m]+x,P=l[m+1]+x,T=l[m+2]+x;l[m]=C>255?255:C<0?0:C,l[m+1]=P>255?255:P<0?0:P,l[m+2]=T>255?255:T<0?0:T}else{var E=n-x;E<0?E=0:E>255&&(E=255),l[m]=l[m+1]=l[m+2]=E}}while(--y)}while(--d)},r.Factory.addGetterSetter(i.Node,"embossStrength",.5,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossWhiteLevel",.5,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossDirection","top-left",null,r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"embossBlend",!1,null,r.Factory.afterSetFilter)},{"../Factory":9,"../Node":14,"../Util":19,"../Validators":20}],27:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Node"),o=t("../Validators");function a(t,e,n,r,i){var o=n-e,a=i-r;return 0===o?r+a/2:0===a?r:a*((t-e)/o)+r}n.Enhance=function(t){var e,n,r,i,o=t.data,s=o.length,l=o[0],u=l,h=o[1],c=h,d=o[2],f=d,p=this.enhance();if(0!==p){for(i=0;i<s;i+=4)(e=o[i+0])<l?l=e:e>u&&(u=e),(n=o[i+1])<h?h=n:n>c&&(c=n),(r=o[i+2])<d?d=r:r>f&&(f=r);var g,y,m,v,_,b,w,S,x;for(u===l&&(u=255,l=0),c===h&&(c=255,h=0),f===d&&(f=255,d=0),p>0?(y=u+p*(255-u),m=l-p*(l-0),_=c+p*(255-c),b=h-p*(h-0),S=f+p*(255-f),x=d-p*(d-0)):(y=u+p*(u-(g=.5*(u+l))),m=l+p*(l-g),_=c+p*(c-(v=.5*(c+h))),b=h+p*(h-v),S=f+p*(f-(w=.5*(f+d))),x=d+p*(d-w)),i=0;i<s;i+=4)o[i+0]=a(o[i+0],l,u,m,y),o[i+1]=a(o[i+1],h,c,b,_),o[i+2]=a(o[i+2],d,f,x,S)}},r.Factory.addGetterSetter(i.Node,"enhance",0,o.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":9,"../Node":14,"../Validators":20}],28:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Grayscale=function(t){var e,n,r=t.data,i=r.length;for(e=0;e<i;e+=4)n=.34*r[e]+.5*r[e+1]+.16*r[e+2],r[e]=n,r[e+1]=n,r[e+2]=n}},{}],29:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Node"),o=t("../Validators");r.Factory.addGetterSetter(i.Node,"hue",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"saturation",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"luminance",0,o.getNumberValidator(),r.Factory.afterSetFilter),n.HSL=function(t){var e,n,r,i,o,a=t.data,s=a.length,l=1,u=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,c=127*this.luminance(),d=l*u*Math.cos(h*Math.PI/180),f=l*u*Math.sin(h*Math.PI/180),p=.299*l+.701*d+.167*f,g=.587*l-.587*d+.33*f,y=.114*l-.114*d-.497*f,m=.299*l-.299*d-.328*f,v=.587*l+.413*d+.035*f,_=.114*l-.114*d+.293*f,b=.299*l-.3*d+1.25*f,w=.587*l-.586*d-1.05*f,S=.114*l+.886*d-.2*f;for(e=0;e<s;e+=4)n=a[e+0],r=a[e+1],i=a[e+2],o=a[e+3],a[e+0]=p*n+g*r+y*i+c,a[e+1]=m*n+v*r+_*i+c,a[e+2]=b*n+w*r+S*i+c,a[e+3]=o}},{"../Factory":9,"../Node":14,"../Validators":20}],30:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Node"),o=t("../Validators");n.HSV=function(t){var e,n,r,i,o,a=t.data,s=a.length,l=Math.pow(2,this.value()),u=Math.pow(2,this.saturation()),h=Math.abs(this.hue()+360)%360,c=l*u*Math.cos(h*Math.PI/180),d=l*u*Math.sin(h*Math.PI/180),f=.299*l+.701*c+.167*d,p=.587*l-.587*c+.33*d,g=.114*l-.114*c-.497*d,y=.299*l-.299*c-.328*d,m=.587*l+.413*c+.035*d,v=.114*l-.114*c+.293*d,_=.299*l-.3*c+1.25*d,b=.587*l-.586*c-1.05*d,w=.114*l+.886*c-.2*d;for(e=0;e<s;e+=4)n=a[e+0],r=a[e+1],i=a[e+2],o=a[e+3],a[e+0]=f*n+p*r+g*i,a[e+1]=y*n+m*r+v*i,a[e+2]=_*n+b*r+w*i,a[e+3]=o},r.Factory.addGetterSetter(i.Node,"hue",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"saturation",0,o.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"value",0,o.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":9,"../Node":14,"../Validators":20}],31:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Invert=function(t){var e,n=t.data,r=n.length;for(e=0;e<r;e+=4)n[e]=255-n[e],n[e+1]=255-n[e+1],n[e+2]=255-n[e+2]}},{}],32:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Node"),o=t("../Util"),a=t("../Validators"),s=function(t,e,n){var r,i,o,a,s=t.data,l=e.data,u=t.width,h=t.height,c=n.polarCenterX||u/2,d=n.polarCenterY||h/2,f=0,p=0,g=0,y=0,m=Math.sqrt(c*c+d*d);i=u-c,o=h-d,m=(a=Math.sqrt(i*i+o*o))>m?a:m;var v,_,b,w,S=h,x=u,k=360/x*Math.PI/180;for(_=0;_<x;_+=1)for(b=Math.sin(_*k),w=Math.cos(_*k),v=0;v<S;v+=1)i=Math.floor(c+m*v/S*w),f=s[0+(r=4*((o=Math.floor(d+m*v/S*b))*u+i))],p=s[r+1],g=s[r+2],y=s[r+3],l[0+(r=4*(_+v*u))]=f,l[r+1]=p,l[r+2]=g,l[r+3]=y},l=function(t,e,n){var r,i,o,a,s,l,u=t.data,h=e.data,c=t.width,d=t.height,f=n.polarCenterX||c/2,p=n.polarCenterY||d/2,g=0,y=0,m=0,v=0,_=Math.sqrt(f*f+p*p);i=c-f,o=d-p,_=(l=Math.sqrt(i*i+o*o))>_?l:_;var b,w,S,x=d,k=c,C=n.polarRotation||0;for(i=0;i<c;i+=1)for(o=0;o<d;o+=1)a=i-f,s=o-p,b=Math.sqrt(a*a+s*s)*x/_,w=(w=(180*Math.atan2(s,a)/Math.PI+360+C)%360)*k/360,S=Math.floor(w),g=u[0+(r=4*(Math.floor(b)*c+S))],y=u[r+1],m=u[r+2],v=u[r+3],h[0+(r=4*(o*c+i))]=g,h[r+1]=y,h[r+2]=m,h[r+3]=v};n.Kaleidoscope=function(t){var e,n,r,i,a,u,h,c,d,f=t.width,p=t.height,g=Math.round(this.kaleidoscopePower()),y=Math.round(this.kaleidoscopeAngle()),m=Math.floor(f*(y%360)/360);if(!(g<1)){var v=o.Util.createCanvasElement();v.width=f,v.height=p;var _=v.getContext("2d").getImageData(0,0,f,p);s(t,_,{polarCenterX:f/2,polarCenterY:p/2});for(var b=f/Math.pow(2,g);b<=8;)b*=2,g-=1;var w=b=Math.ceil(b),S=0,x=w,k=1;for(m+b>f&&(S=w,x=0,k=-1),n=0;n<p;n+=1)for(e=S;e!==x;e+=k)c=4*(f*n+Math.round(e+m)%f),i=_.data[c+0],a=_.data[c+1],u=_.data[c+2],h=_.data[c+3],d=4*(f*n+e),_.data[d+0]=i,_.data[d+1]=a,_.data[d+2]=u,_.data[d+3]=h;for(n=0;n<p;n+=1)for(w=Math.floor(b),r=0;r<g;r+=1){for(e=0;e<w+1;e+=1)c=4*(f*n+e),i=_.data[c+0],a=_.data[c+1],u=_.data[c+2],h=_.data[c+3],d=4*(f*n+2*w-e-1),_.data[d+0]=i,_.data[d+1]=a,_.data[d+2]=u,_.data[d+3]=h;w*=2}l(_,t,{polarRotation:0})}},r.Factory.addGetterSetter(i.Node,"kaleidoscopePower",2,a.getNumberValidator(),r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"kaleidoscopeAngle",0,a.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":9,"../Node":14,"../Util":19,"../Validators":20}],33:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Node"),o=t("../Validators");function a(t,e,n){var r=4*(n*t.width+e),i=[];return i.push(t.data[r++],t.data[r++],t.data[r++],t.data[r++]),i}function s(t,e){return Math.sqrt(Math.pow(t[0]-e[0],2)+Math.pow(t[1]-e[1],2)+Math.pow(t[2]-e[2],2))}function l(t){for(var e=[0,0,0],n=0;n<t.length;n++)e[0]+=t[n][0],e[1]+=t[n][1],e[2]+=t[n][2];return e[0]/=t.length,e[1]/=t.length,e[2]/=t.length,e}function u(t,e){var n=a(t,0,0),r=a(t,t.width-1,0),i=a(t,0,t.height-1),o=a(t,t.width-1,t.height-1),u=e||10;if(s(n,r)<u&&s(r,o)<u&&s(o,i)<u&&s(i,n)<u){for(var h=l([r,n,o,i]),c=[],d=0;d<t.width*t.height;d++){var f=s(h,[t.data[4*d],t.data[4*d+1],t.data[4*d+2]]);c[d]=f<u?0:255}return c}}function h(t,e){for(var n=0;n<t.width*t.height;n++)t.data[4*n+3]=e[n]}function c(t,e,n){for(var r=[1,1,1,1,0,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var u=s*e+l,h=0,c=0;c<i;c++)for(var d=0;d<i;d++){var f=s+c-o,p=l+d-o;if(f>=0&&f<n&&p>=0&&p<e){var g=f*e+p,y=r[c*i+d];h+=t[g]*y}}a[u]=2040===h?255:0}return a}function d(t,e,n){for(var r=[1,1,1,1,1,1,1,1,1],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var u=s*e+l,h=0,c=0;c<i;c++)for(var d=0;d<i;d++){var f=s+c-o,p=l+d-o;if(f>=0&&f<n&&p>=0&&p<e){var g=f*e+p,y=r[c*i+d];h+=t[g]*y}}a[u]=h>=1020?255:0}return a}function f(t,e,n){for(var r=[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9],i=Math.round(Math.sqrt(r.length)),o=Math.floor(i/2),a=[],s=0;s<n;s++)for(var l=0;l<e;l++){for(var u=s*e+l,h=0,c=0;c<i;c++)for(var d=0;d<i;d++){var f=s+c-o,p=l+d-o;if(f>=0&&f<n&&p>=0&&p<e){var g=f*e+p,y=r[c*i+d];h+=t[g]*y}}a[u]=h}return a}n.Mask=function(t){var e=u(t,this.threshold());return e&&h(t,e=f(e=d(e=c(e,t.width,t.height),t.width,t.height),t.width,t.height)),t},r.Factory.addGetterSetter(i.Node,"threshold",0,o.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":9,"../Node":14,"../Validators":20}],34:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Node"),o=t("../Validators");n.Noise=function(t){var e,n=255*this.noise(),r=t.data,i=r.length,o=n/2;for(e=0;e<i;e+=4)r[e+0]+=o-2*o*Math.random(),r[e+1]+=o-2*o*Math.random(),r[e+2]+=o-2*o*Math.random()},r.Factory.addGetterSetter(i.Node,"noise",.2,o.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":9,"../Node":14,"../Validators":20}],35:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Util"),o=t("../Node"),a=t("../Validators");n.Pixelate=function(t){var e,n,r,o,a,s,l,u,h,c,d,f,p,g,y=Math.ceil(this.pixelSize()),m=t.width,v=t.height,_=Math.ceil(m/y),b=Math.ceil(v/y),w=t.data;if(y<=0)i.Util.error("pixelSize value can not be <= 0");else for(f=0;f<_;f+=1)for(p=0;p<b;p+=1){for(o=0,a=0,s=0,l=0,h=(u=f*y)+y,d=(c=p*y)+y,g=0,e=u;e<h;e+=1)if(!(e>=m))for(n=c;n<d;n+=1)n>=v||(o+=w[0+(r=4*(m*n+e))],a+=w[r+1],s+=w[r+2],l+=w[r+3],g+=1);for(o/=g,a/=g,s/=g,l/=g,e=u;e<h;e+=1)if(!(e>=m))for(n=c;n<d;n+=1)n>=v||(w[0+(r=4*(m*n+e))]=o,w[r+1]=a,w[r+2]=s,w[r+3]=l)}},r.Factory.addGetterSetter(o.Node,"pixelSize",8,a.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":9,"../Node":14,"../Util":19,"../Validators":20}],36:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Node"),o=t("../Validators");n.Posterize=function(t){var e,n=Math.round(254*this.levels())+1,r=t.data,i=r.length,o=255/n;for(e=0;e<i;e+=1)r[e]=Math.floor(r[e]/o)*o},r.Factory.addGetterSetter(i.Node,"levels",.5,o.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":9,"../Node":14,"../Validators":20}],37:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Node"),o=t("../Validators");n.RGB=function(t){var e,n,r=t.data,i=r.length,o=this.red(),a=this.green(),s=this.blue();for(e=0;e<i;e+=4)n=(.34*r[e]+.5*r[e+1]+.16*r[e+2])/255,r[e]=n*o,r[e+1]=n*a,r[e+2]=n*s,r[e+3]=r[e+3]},r.Factory.addGetterSetter(i.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"blue",0,o.RGBComponent,r.Factory.afterSetFilter)},{"../Factory":9,"../Node":14,"../Validators":20}],38:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Node"),o=t("../Validators");n.RGBA=function(t){var e,n,r=t.data,i=r.length,o=this.red(),a=this.green(),s=this.blue(),l=this.alpha();for(e=0;e<i;e+=4)n=1-l,r[e]=o*l+r[e]*n,r[e+1]=a*l+r[e+1]*n,r[e+2]=s*l+r[e+2]*n},r.Factory.addGetterSetter(i.Node,"red",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"green",0,(function(t){return this._filterUpToDate=!1,t>255?255:t<0?0:Math.round(t)})),r.Factory.addGetterSetter(i.Node,"blue",0,o.RGBComponent,r.Factory.afterSetFilter),r.Factory.addGetterSetter(i.Node,"alpha",1,(function(t){return this._filterUpToDate=!1,t>1?1:t<0?0:t}))},{"../Factory":9,"../Node":14,"../Validators":20}],39:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Sepia=function(t){var e,n,r,i,o=t.data,a=o.length;for(e=0;e<a;e+=4)n=o[e+0],r=o[e+1],i=o[e+2],o[e+0]=Math.min(255,.393*n+.769*r+.189*i),o[e+1]=Math.min(255,.349*n+.686*r+.168*i),o[e+2]=Math.min(255,.272*n+.534*r+.131*i)}},{}],40:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0}),n.Solarize=function(t){var e=t.data,n=t.width,r=4*n,i=t.height;do{var o=(i-1)*r,a=n;do{var s=o+4*(a-1),l=e[s],u=e[s+1],h=e[s+2];l>127&&(l=255-l),u>127&&(u=255-u),h>127&&(h=255-h),e[s]=l,e[s+1]=u,e[s+2]=h}while(--a)}while(--i)}},{}],41:[function(t,e,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});var r=t("../Factory"),i=t("../Node"),o=t("../Validators");n.Threshold=function(t){var e,n=255*this.threshold(),r=t.data,i=r.length;for(e=0;e<i;e+=1)r[e]=r[e]<n?0:255},r.Factory.addGetterSetter(i.Node,"threshold",.5,o.getNumberValidator(),r.Factory.afterSetFilter)},{"../Factory":9,"../Node":14,"../Validators":20}],42:[function(t,e,n){var r=t("./_FullInternals").Konva;r._injectGlobal(r),n.default=r,e.exports=n.default},{"./_FullInternals":22}],43:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("../Shape"),s=t("../Global"),l=t("../Validators"),u=t("../Global"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=s.Konva.getAngle(this.angle()),n=this.clockwise();t.beginPath(),t.arc(0,0,this.outerRadius(),0,e,n),t.arc(0,0,this.innerRadius(),e,0,!n),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(a.Shape);n.Arc=h,h.prototype._centroid=!0,h.prototype.className="Arc",h.prototype._attrsAffectingSize=["innerRadius","outerRadius"],u._registerNode(h),o.Factory.addGetterSetter(h,"innerRadius",0,l.getNumberValidator()),o.Factory.addGetterSetter(h,"outerRadius",0,l.getNumberValidator()),o.Factory.addGetterSetter(h,"angle",0,l.getNumberValidator()),o.Factory.addGetterSetter(h,"clockwise",!1,l.getBooleanValidator()),i.Collection.mapMethods(h)},{"../Factory":9,"../Global":11,"../Shape":16,"../Util":19,"../Validators":20}],44:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("./Line"),s=t("../Validators"),l=t("../Global"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(e){t.prototype._sceneFunc.call(this,e);var n=2*Math.PI,r=this.points(),i=r,o=0!==this.tension()&&r.length>4;o&&(i=this.getTensionPoints());var a,s,l=r.length;o?(a=r[l-2]-(i[i.length-2]+i[i.length-4])/2,s=r[l-1]-(i[i.length-1]+i[i.length-3])/2):(a=r[l-2]-r[l-4],s=r[l-1]-r[l-3]);var u=(Math.atan2(s,a)+n)%n,h=this.pointerLength(),c=this.pointerWidth();e.save(),e.beginPath(),e.translate(r[l-2],r[l-1]),e.rotate(u),e.moveTo(0,0),e.lineTo(-h,c/2),e.lineTo(-h,-c/2),e.closePath(),e.restore(),this.pointerAtBeginning()&&(e.save(),e.translate(r[0],r[1]),o?(a=(i[0]+i[2])/2-r[0],s=(i[1]+i[3])/2-r[1]):(a=r[2]-r[0],s=r[3]-r[1]),e.rotate((Math.atan2(-s,-a)+n)%n),e.moveTo(0,0),e.lineTo(-h,c/2),e.lineTo(-h,-c/2),e.closePath(),e.restore());var d=this.dashEnabled();d&&(this.attrs.dashEnabled=!1,e.setLineDash([])),e.fillStrokeShape(this),d&&(this.attrs.dashEnabled=!0)},e.prototype.getSelfRect=function(){var e=t.prototype.getSelfRect.call(this),n=this.pointerWidth()/2;return{x:e.x-n,y:e.y-n,width:e.width+2*n,height:e.height+2*n}},e}(a.Line);n.Arrow=u,u.prototype.className="Arrow",l._registerNode(u),o.Factory.addGetterSetter(u,"pointerLength",10,s.getNumberValidator()),o.Factory.addGetterSetter(u,"pointerWidth",10,s.getNumberValidator()),o.Factory.addGetterSetter(u,"pointerAtBeginning",!1),i.Collection.mapMethods(u)},{"../Factory":9,"../Global":11,"../Util":19,"../Validators":20,"./Line":49}],45:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("../Shape"),s=t("../Validators"),l=t("../Global"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.attrs.radius||0,0,2*Math.PI,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius()!==t/2&&this.radius(t/2)},e.prototype.setHeight=function(t){this.radius()!==t/2&&this.radius(t/2)},e}(a.Shape);n.Circle=u,u.prototype._centroid=!0,u.prototype.className="Circle",u.prototype._attrsAffectingSize=["radius"],l._registerNode(u),o.Factory.addGetterSetter(u,"radius",0,s.getNumberValidator()),i.Collection.mapMethods(u)},{"../Factory":9,"../Global":11,"../Shape":16,"../Util":19,"../Validators":20}],46:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("../Shape"),s=t("../Validators"),l=t("../Global"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.radiusX(),n=this.radiusY();t.beginPath(),t.save(),e!==n&&t.scale(1,n/e),t.arc(0,0,e,0,2*Math.PI,!1),t.restore(),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radiusX()},e.prototype.getHeight=function(){return 2*this.radiusY()},e.prototype.setWidth=function(t){this.radiusX(t/2)},e.prototype.setHeight=function(t){this.radiusY(t/2)},e}(a.Shape);n.Ellipse=u,u.prototype.className="Ellipse",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radiusX","radiusY"],l._registerNode(u),o.Factory.addComponentsGetterSetter(u,"radius",["x","y"]),o.Factory.addGetterSetter(u,"radiusX",0,s.getNumberValidator()),o.Factory.addGetterSetter(u,"radiusY",0,s.getNumberValidator()),i.Collection.mapMethods(u)},{"../Factory":9,"../Global":11,"../Shape":16,"../Util":19,"../Validators":20}],47:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("../Shape"),s=t("../Validators"),l=t("../Global"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._useBufferCanvas=function(){return t.prototype._useBufferCanvas.call(this,!0)},e.prototype._sceneFunc=function(t){var e,n,r,i=this.getWidth(),o=this.getHeight(),a=this.attrs.image;a&&(e=this.attrs.cropWidth,n=this.attrs.cropHeight,r=e&&n?[a,this.cropX(),this.cropY(),e,n,0,0,i,o]:[a,0,0,i,o]),(this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,i,o),t.closePath(),t.fillStrokeShape(this)),a&&t.drawImage.apply(t,r)},e.prototype._hitFunc=function(t){var e=this.width(),n=this.height();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){var t,e;return null!==(t=this.attrs.width)&&void 0!==t?t:(null===(e=this.image())||void 0===e?void 0:e.width)||0},e.prototype.getHeight=function(){var t,e;return null!==(t=this.attrs.height)&&void 0!==t?t:(null===(e=this.image())||void 0===e?void 0:e.height)||0},e.fromURL=function(t,n){var r=i.Util.createImageElement();r.onload=function(){var t=new e({image:r});n(t)},r.crossOrigin="Anonymous",r.src=t},e}(a.Shape);n.Image=u,u.prototype.className="Image",l._registerNode(u),o.Factory.addGetterSetter(u,"image"),o.Factory.addComponentsGetterSetter(u,"crop",["x","y","width","height"]),o.Factory.addGetterSetter(u,"cropX",0,s.getNumberValidator()),o.Factory.addGetterSetter(u,"cropY",0,s.getNumberValidator()),o.Factory.addGetterSetter(u,"cropWidth",0,s.getNumberValidator()),o.Factory.addGetterSetter(u,"cropHeight",0,s.getNumberValidator()),i.Collection.mapMethods(u)},{"../Factory":9,"../Global":11,"../Shape":16,"../Util":19,"../Validators":20}],48:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("../Shape"),s=t("../Group"),l=t("../Validators"),u=t("../Global"),h=["fontFamily","fontSize","fontStyle","padding","lineHeight","text","width"],c="Change.konva",d="none",f="up",p="right",g="down",y="left",m=h.length,v=function(t){function e(e){var n=t.call(this,e)||this;return n.on("add.konva",(function(t){this._addListeners(t.child),this._sync()})),n}return r(e,t),e.prototype.getText=function(){return this.find("Text")[0]},e.prototype.getTag=function(){return this.find("Tag")[0]},e.prototype._addListeners=function(t){var e,n=this,r=function(){n._sync()};for(e=0;e<m;e++)t.on(h[e]+c,r)},e.prototype.getWidth=function(){return this.getText().width()},e.prototype.getHeight=function(){return this.getText().height()},e.prototype._sync=function(){var t,e,n,r,i,o,a,s=this.getText(),l=this.getTag();if(s&&l){switch(t=s.width(),e=s.height(),n=l.pointerDirection(),r=l.pointerWidth(),a=l.pointerHeight(),i=0,o=0,n){case f:i=t/2,o=-1*a;break;case p:i=t+r,o=e/2;break;case g:i=t/2,o=e+a;break;case y:i=-1*r,o=e/2}l.setAttrs({x:-1*i,y:-1*o,width:t,height:e}),s.setAttrs({x:-1*i,y:-1*o})}},e}(s.Group);n.Label=v,v.prototype.className="Label",u._registerNode(v),i.Collection.mapMethods(v);var _=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.width(),n=this.height(),r=this.pointerDirection(),i=this.pointerWidth(),o=this.pointerHeight(),a=this.cornerRadius(),s=0,l=0,u=0,h=0;"number"===typeof a?s=l=u=h=Math.min(a,e/2,n/2):(s=Math.min(a[0]||0,e/2,n/2),l=Math.min(a[1]||0,e/2,n/2),h=Math.min(a[2]||0,e/2,n/2),u=Math.min(a[3]||0,e/2,n/2)),t.beginPath(),t.moveTo(s,0),r===f&&(t.lineTo((e-i)/2,0),t.lineTo(e/2,-1*o),t.lineTo((e+i)/2,0)),t.lineTo(e-l,0),t.arc(e-l,l,l,3*Math.PI/2,0,!1),r===p&&(t.lineTo(e,(n-o)/2),t.lineTo(e+i,n/2),t.lineTo(e,(n+o)/2)),t.lineTo(e,n-h),t.arc(e-h,n-h,h,0,Math.PI/2,!1),r===g&&(t.lineTo((e+i)/2,n),t.lineTo(e/2,n+o),t.lineTo((e-i)/2,n)),t.lineTo(u,n),t.arc(u,n-u,u,Math.PI/2,Math.PI,!1),r===y&&(t.lineTo(0,(n+o)/2),t.lineTo(-1*i,n/2),t.lineTo(0,(n-o)/2)),t.lineTo(0,s),t.arc(s,s,s,Math.PI,3*Math.PI/2,!1),t.closePath(),t.fillStrokeShape(this)},e.prototype.getSelfRect=function(){var t=0,e=0,n=this.pointerWidth(),r=this.pointerHeight(),i=this.pointerDirection(),o=this.width(),a=this.height();return i===f?(e-=r,a+=r):i===g?a+=r:i===y?(t-=1.5*n,o+=n):i===p&&(o+=1.5*n),{x:t,y:e,width:o,height:a}},e}(a.Shape);n.Tag=_,_.prototype.className="Tag",u._registerNode(_),o.Factory.addGetterSetter(_,"pointerDirection",d),o.Factory.addGetterSetter(_,"pointerWidth",0,l.getNumberValidator()),o.Factory.addGetterSetter(_,"pointerHeight",0,l.getNumberValidator()),o.Factory.addGetterSetter(_,"cornerRadius",0,l.getNumberOrArrayOfNumbersValidator(4)),i.Collection.mapMethods(_)},{"../Factory":9,"../Global":11,"../Group":12,"../Shape":16,"../Util":19,"../Validators":20}],49:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__spreadArrays||function(){for(var t=0,e=0,n=arguments.length;e<n;e++)t+=arguments[e].length;var r=Array(t),i=0;for(e=0;e<n;e++)for(var o=arguments[e],a=0,s=o.length;a<s;a++,i++)r[i]=o[a];return r};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Util"),a=t("../Factory"),s=t("../Shape"),l=t("../Validators"),u=t("../Global"),h=function(t){function e(e){var n=t.call(this,e)||this;return n.on("pointsChange.konva tensionChange.konva closedChange.konva bezierChange.konva",(function(){this._clearCache("tensionPoints")})),n}return r(e,t),e.prototype._sceneFunc=function(t){var e,n,r,i=this.points(),o=i.length,a=this.tension(),s=this.closed(),l=this.bezier();if(o){if(t.beginPath(),t.moveTo(i[0],i[1]),0!==a&&o>4){for(n=(e=this.getTensionPoints()).length,r=s?0:4,s||t.quadraticCurveTo(e[0],e[1],e[2],e[3]);r<n-2;)t.bezierCurveTo(e[r++],e[r++],e[r++],e[r++],e[r++],e[r++]);s||t.quadraticCurveTo(e[n-2],e[n-1],i[o-2],i[o-1])}else if(l)for(r=2;r<o;)t.bezierCurveTo(i[r++],i[r++],i[r++],i[r++],i[r++],i[r++]);else for(r=2;r<o;r+=2)t.lineTo(i[r],i[r+1]);s?(t.closePath(),t.fillStrokeShape(this)):t.strokeShape(this)}},e.prototype.getTensionPoints=function(){return this._getCache("tensionPoints",this._getTensionPoints)},e.prototype._getTensionPoints=function(){return this.closed()?this._getTensionPointsClosed():o.Util._expandPoints(this.points(),this.tension())},e.prototype._getTensionPointsClosed=function(){var t=this.points(),e=t.length,n=this.tension(),r=o.Util._getControlPoints(t[e-2],t[e-1],t[0],t[1],t[2],t[3],n),i=o.Util._getControlPoints(t[e-4],t[e-3],t[e-2],t[e-1],t[0],t[1],n),a=o.Util._expandPoints(t,n);return[r[2],r[3]].concat(a).concat([i[0],i[1],t[e-2],t[e-1],i[2],i[3],r[0],r[1],t[0],t[1]])},e.prototype.getWidth=function(){return this.getSelfRect().width},e.prototype.getHeight=function(){return this.getSelfRect().height},e.prototype.getSelfRect=function(){var t=this.points();if(t.length<4)return{x:t[0]||0,y:t[1]||0,width:0,height:0};for(var e,n,r=(t=0!==this.tension()?i([t[0],t[1]],this._getTensionPoints(),[t[t.length-2],t[t.length-1]]):this.points())[0],o=t[0],a=t[1],s=t[1],l=0;l<t.length/2;l++)e=t[2*l],n=t[2*l+1],r=Math.min(r,e),o=Math.max(o,e),a=Math.min(a,n),s=Math.max(s,n);return{x:r,y:a,width:o-r,height:s-a}},e}(s.Shape);n.Line=h,h.prototype.className="Line",h.prototype._attrsAffectingSize=["points","bezier","tension"],u._registerNode(h),a.Factory.addGetterSetter(h,"closed",!1),a.Factory.addGetterSetter(h,"bezier",!1),a.Factory.addGetterSetter(h,"tension",0,l.getNumberValidator()),a.Factory.addGetterSetter(h,"points",[],l.getNumberArrayValidator()),o.Collection.mapMethods(h)},{"../Factory":9,"../Global":11,"../Shape":16,"../Util":19,"../Validators":20}],50:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("../Shape"),s=t("../Global"),l=function(t){function e(n){var r=t.call(this,n)||this;r.dataArray=[],r.pathLength=0,r.dataArray=e.parsePathData(r.data()),r.pathLength=0;for(var i=0;i<r.dataArray.length;++i)r.pathLength+=r.dataArray[i].pathLength;return r.on("dataChange.konva",(function(){this.dataArray=e.parsePathData(this.data()),this.pathLength=0;for(var t=0;t<this.dataArray.length;++t)this.pathLength+=this.dataArray[t].pathLength})),r}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.dataArray;t.beginPath();for(var n=!1,r=0;r<e.length;r++){var i=e[r].command,o=e[r].points;switch(i){case"L":t.lineTo(o[0],o[1]);break;case"M":t.moveTo(o[0],o[1]);break;case"C":t.bezierCurveTo(o[0],o[1],o[2],o[3],o[4],o[5]);break;case"Q":t.quadraticCurveTo(o[0],o[1],o[2],o[3]);break;case"A":var a=o[0],s=o[1],l=o[2],u=o[3],h=o[4],c=o[5],d=o[6],f=o[7],p=l>u?l:u,g=l>u?1:l/u,y=l>u?u/l:1;t.translate(a,s),t.rotate(d),t.scale(g,y),t.arc(0,0,p,h,h+c,1-f),t.scale(1/g,1/y),t.rotate(-d),t.translate(-a,-s);break;case"z":n=!0,t.closePath()}}n||this.hasFill()?t.fillStrokeShape(this):t.strokeShape(this)},e.prototype.getSelfRect=function(){var t=[];this.dataArray.forEach((function(n){if("A"===n.command){var r=n.points[4],i=n.points[5],o=n.points[4]+i,a=Math.PI/180;if(Math.abs(r-o)<a&&(a=Math.abs(r-o)),i<0)for(var s=r-a;s>o;s-=a){var l=e.getPointOnEllipticalArc(n.points[0],n.points[1],n.points[2],n.points[3],s,0);t.push(l.x,l.y)}else for(s=r+a;s<o;s+=a)l=e.getPointOnEllipticalArc(n.points[0],n.points[1],n.points[2],n.points[3],s,0),t.push(l.x,l.y)}else if("C"===n.command)for(s=0;s<=1;s+=.01)l=e.getPointOnCubicBezier(s,n.start.x,n.start.y,n.points[0],n.points[1],n.points[2],n.points[3],n.points[4],n.points[5]),t.push(l.x,l.y);else t=t.concat(n.points)}));for(var n,r,i=t[0],o=t[0],a=t[1],s=t[1],l=0;l<t.length/2;l++)n=t[2*l],r=t[2*l+1],isNaN(n)||(i=Math.min(i,n),o=Math.max(o,n)),isNaN(r)||(a=Math.min(a,r),s=Math.max(s,r));return{x:Math.round(i),y:Math.round(a),width:Math.round(o-i),height:Math.round(s-a)}},e.prototype.getLength=function(){return this.pathLength},e.prototype.getPointAtLength=function(t){var n,r=0,i=this.dataArray.length;if(!i)return null;for(;r<i&&t>this.dataArray[r].pathLength;)t-=this.dataArray[r].pathLength,++r;if(r===i)return{x:(n=this.dataArray[r-1].points.slice(-2))[0],y:n[1]};if(t<.01)return{x:(n=this.dataArray[r].points.slice(0,2))[0],y:n[1]};var o=this.dataArray[r],a=o.points;switch(o.command){case"L":return e.getPointOnLine(t,o.start.x,o.start.y,a[0],a[1]);case"C":return e.getPointOnCubicBezier(t/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3],a[4],a[5]);case"Q":return e.getPointOnQuadraticBezier(t/o.pathLength,o.start.x,o.start.y,a[0],a[1],a[2],a[3]);case"A":var s=a[0],l=a[1],u=a[2],h=a[3],c=a[4],d=a[5],f=a[6];return c+=d*t/o.pathLength,e.getPointOnEllipticalArc(s,l,u,h,c,f)}return null},e.getLineLength=function(t,e,n,r){return Math.sqrt((n-t)*(n-t)+(r-e)*(r-e))},e.getPointOnLine=function(t,e,n,r,i,o,a){void 0===o&&(o=e),void 0===a&&(a=n);var s=(i-n)/(r-e+1e-8),l=Math.sqrt(t*t/(1+s*s));r<e&&(l*=-1);var u,h=s*l;if(r===e)u={x:o,y:a+h};else if((a-n)/(o-e+1e-8)===s)u={x:o+l,y:a+h};else{var c,d,f=this.getLineLength(e,n,r,i);if(f<1e-8)return;var p=(o-e)*(r-e)+(a-n)*(i-n);c=e+(p/=f*f)*(r-e),d=n+p*(i-n);var g=this.getLineLength(o,a,c,d),y=Math.sqrt(t*t-g*g);l=Math.sqrt(y*y/(1+s*s)),r<e&&(l*=-1),u={x:c+l,y:d+(h=s*l)}}return u},e.getPointOnCubicBezier=function(t,e,n,r,i,o,a,s,l){function u(t){return t*t*t}function h(t){return 3*t*t*(1-t)}function c(t){return 3*t*(1-t)*(1-t)}function d(t){return(1-t)*(1-t)*(1-t)}return{x:s*u(t)+o*h(t)+r*c(t)+e*d(t),y:l*u(t)+a*h(t)+i*c(t)+n*d(t)}},e.getPointOnQuadraticBezier=function(t,e,n,r,i,o,a){function s(t){return t*t}function l(t){return 2*t*(1-t)}function u(t){return(1-t)*(1-t)}return{x:o*s(t)+r*l(t)+e*u(t),y:a*s(t)+i*l(t)+n*u(t)}},e.getPointOnEllipticalArc=function(t,e,n,r,i,o){var a=Math.cos(o),s=Math.sin(o),l={x:n*Math.cos(i),y:r*Math.sin(i)};return{x:t+(l.x*a-l.y*s),y:e+(l.x*s+l.y*a)}},e.parsePathData=function(t){if(!t)return[];var e=t,n=["m","M","l","L","v","V","h","H","z","Z","c","C","q","Q","t","T","s","S","a","A"];e=e.replace(new RegExp(" ","g"),",");for(var r=0;r<n.length;r++)e=e.replace(new RegExp(n[r],"g"),"|"+n[r]);var i,o=e.split("|"),a=[],s=[],l=0,u=0,h=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:e[-+]?\d+)?)/gi;for(r=1;r<o.length;r++){var c=o[r],d=c.charAt(0);for(c=c.slice(1),s.length=0;i=h.exec(c);)s.push(i[0]);for(var f=[],p=0,g=s.length;p<g;p++){var y=parseFloat(s[p]);isNaN(y)?f.push(0):f.push(y)}for(;f.length>0&&!isNaN(f[0]);){var m,v,_,b,w,S,x,k,C,P,T=null,E=[],M=l,L=u;switch(d){case"l":l+=f.shift(),u+=f.shift(),T="L",E.push(l,u);break;case"L":l=f.shift(),u=f.shift(),E.push(l,u);break;case"m":var F=f.shift(),A=f.shift();if(l+=F,u+=A,T="M",a.length>2&&"z"===a[a.length-1].command)for(var O=a.length-2;O>=0;O--)if("M"===a[O].command){l=a[O].points[0]+F,u=a[O].points[1]+A;break}E.push(l,u),d="l";break;case"M":l=f.shift(),u=f.shift(),T="M",E.push(l,u),d="L";break;case"h":l+=f.shift(),T="L",E.push(l,u);break;case"H":l=f.shift(),T="L",E.push(l,u);break;case"v":u+=f.shift(),T="L",E.push(l,u);break;case"V":u=f.shift(),T="L",E.push(l,u);break;case"C":E.push(f.shift(),f.shift(),f.shift(),f.shift()),l=f.shift(),u=f.shift(),E.push(l,u);break;case"c":E.push(l+f.shift(),u+f.shift(),l+f.shift(),u+f.shift()),l+=f.shift(),u+=f.shift(),T="C",E.push(l,u);break;case"S":v=l,_=u,"C"===(m=a[a.length-1]).command&&(v=l+(l-m.points[2]),_=u+(u-m.points[3])),E.push(v,_,f.shift(),f.shift()),l=f.shift(),u=f.shift(),T="C",E.push(l,u);break;case"s":v=l,_=u,"C"===(m=a[a.length-1]).command&&(v=l+(l-m.points[2]),_=u+(u-m.points[3])),E.push(v,_,l+f.shift(),u+f.shift()),l+=f.shift(),u+=f.shift(),T="C",E.push(l,u);break;case"Q":E.push(f.shift(),f.shift()),l=f.shift(),u=f.shift(),E.push(l,u);break;case"q":E.push(l+f.shift(),u+f.shift()),l+=f.shift(),u+=f.shift(),T="Q",E.push(l,u);break;case"T":v=l,_=u,"Q"===(m=a[a.length-1]).command&&(v=l+(l-m.points[0]),_=u+(u-m.points[1])),l=f.shift(),u=f.shift(),T="Q",E.push(v,_,l,u);break;case"t":v=l,_=u,"Q"===(m=a[a.length-1]).command&&(v=l+(l-m.points[0]),_=u+(u-m.points[1])),l+=f.shift(),u+=f.shift(),T="Q",E.push(v,_,l,u);break;case"A":b=f.shift(),w=f.shift(),S=f.shift(),x=f.shift(),k=f.shift(),C=l,P=u,l=f.shift(),u=f.shift(),T="A",E=this.convertEndpointToCenterParameterization(C,P,l,u,x,k,b,w,S);break;case"a":b=f.shift(),w=f.shift(),S=f.shift(),x=f.shift(),k=f.shift(),C=l,P=u,l+=f.shift(),u+=f.shift(),T="A",E=this.convertEndpointToCenterParameterization(C,P,l,u,x,k,b,w,S)}a.push({command:T||d,points:E,start:{x:M,y:L},pathLength:this.calcLength(M,L,T||d,E)})}"z"!==d&&"Z"!==d||a.push({command:"z",points:[],start:void 0,pathLength:0})}return a},e.calcLength=function(t,n,r,i){var o,a,s,l,u=e;switch(r){case"L":return u.getLineLength(t,n,i[0],i[1]);case"C":for(o=0,a=u.getPointOnCubicBezier(0,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),l=.01;l<=1;l+=.01)s=u.getPointOnCubicBezier(l,t,n,i[0],i[1],i[2],i[3],i[4],i[5]),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;return o;case"Q":for(o=0,a=u.getPointOnQuadraticBezier(0,t,n,i[0],i[1],i[2],i[3]),l=.01;l<=1;l+=.01)s=u.getPointOnQuadraticBezier(l,t,n,i[0],i[1],i[2],i[3]),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;return o;case"A":o=0;var h=i[4],c=i[5],d=i[4]+c,f=Math.PI/180;if(Math.abs(h-d)<f&&(f=Math.abs(h-d)),a=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],h,0),c<0)for(l=h-f;l>d;l-=f)s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;else for(l=h+f;l<d;l+=f)s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],l,0),o+=u.getLineLength(a.x,a.y,s.x,s.y),a=s;return s=u.getPointOnEllipticalArc(i[0],i[1],i[2],i[3],d,0),o+=u.getLineLength(a.x,a.y,s.x,s.y)}return 0},e.convertEndpointToCenterParameterization=function(t,e,n,r,i,o,a,s,l){var u=l*(Math.PI/180),h=Math.cos(u)*(t-n)/2+Math.sin(u)*(e-r)/2,c=-1*Math.sin(u)*(t-n)/2+Math.cos(u)*(e-r)/2,d=h*h/(a*a)+c*c/(s*s);d>1&&(a*=Math.sqrt(d),s*=Math.sqrt(d));var f=Math.sqrt((a*a*(s*s)-a*a*(c*c)-s*s*(h*h))/(a*a*(c*c)+s*s*(h*h)));i===o&&(f*=-1),isNaN(f)&&(f=0);var p=f*a*c/s,g=f*-s*h/a,y=(t+n)/2+Math.cos(u)*p-Math.sin(u)*g,m=(e+r)/2+Math.sin(u)*p+Math.cos(u)*g,v=function(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])},_=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(v(t)*v(e))},b=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(_(t,e))},w=b([1,0],[(h-p)/a,(c-g)/s]),S=[(h-p)/a,(c-g)/s],x=[(-1*h-p)/a,(-1*c-g)/s],k=b(S,x);return _(S,x)<=-1&&(k=Math.PI),_(S,x)>=1&&(k=0),0===o&&k>0&&(k-=2*Math.PI),1===o&&k<0&&(k+=2*Math.PI),[y,m,a,s,w,k,u,o]},e}(a.Shape);n.Path=l,l.prototype.className="Path",l.prototype._attrsAffectingSize=["data"],s._registerNode(l),o.Factory.addGetterSetter(l,"data"),i.Collection.mapMethods(l)},{"../Factory":9,"../Global":11,"../Shape":16,"../Util":19}],51:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("../Shape"),s=t("../Global"),l=t("../Validators"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.cornerRadius(),n=this.width(),r=this.height();if(t.beginPath(),e){var i=0,o=0,a=0,s=0;"number"===typeof e?i=o=a=s=Math.min(e,n/2,r/2):(i=Math.min(e[0]||0,n/2,r/2),o=Math.min(e[1]||0,n/2,r/2),s=Math.min(e[2]||0,n/2,r/2),a=Math.min(e[3]||0,n/2,r/2)),t.moveTo(i,0),t.lineTo(n-o,0),t.arc(n-o,o,o,3*Math.PI/2,0,!1),t.lineTo(n,r-s),t.arc(n-s,r-s,s,0,Math.PI/2,!1),t.lineTo(a,r),t.arc(a,r-a,a,Math.PI/2,Math.PI,!1),t.lineTo(0,i),t.arc(i,i,i,Math.PI,3*Math.PI/2,!1)}else t.rect(0,0,n,r);t.closePath(),t.fillStrokeShape(this)},e}(a.Shape);n.Rect=u,u.prototype.className="Rect",s._registerNode(u),o.Factory.addGetterSetter(u,"cornerRadius",0,l.getNumberOrArrayOfNumbersValidator(4)),i.Collection.mapMethods(u)},{"../Factory":9,"../Global":11,"../Shape":16,"../Util":19,"../Validators":20}],52:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("../Shape"),s=t("../Validators"),l=t("../Global"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e,n,r,i=this.sides(),o=this.radius();for(t.beginPath(),t.moveTo(0,0-o),e=1;e<i;e++)n=o*Math.sin(2*e*Math.PI/i),r=-1*o*Math.cos(2*e*Math.PI/i),t.lineTo(n,r);t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(a.Shape);n.RegularPolygon=u,u.prototype.className="RegularPolygon",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["radius"],l._registerNode(u),o.Factory.addGetterSetter(u,"radius",0,s.getNumberValidator()),o.Factory.addGetterSetter(u,"sides",0,s.getNumberValidator()),i.Collection.mapMethods(u)},{"../Factory":9,"../Global":11,"../Shape":16,"../Util":19,"../Validators":20}],53:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("../Shape"),s=t("../Validators"),l=t("../Global"),u=2*Math.PI,h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.innerRadius(),0,u,!1),t.moveTo(this.outerRadius(),0),t.arc(0,0,this.outerRadius(),u,0,!0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(a.Shape);n.Ring=h,h.prototype.className="Ring",h.prototype._centroid=!0,h.prototype._attrsAffectingSize=["innerRadius","outerRadius"],l._registerNode(h),o.Factory.addGetterSetter(h,"innerRadius",0,s.getNumberValidator()),o.Factory.addGetterSetter(h,"outerRadius",0,s.getNumberValidator()),i.Collection.mapMethods(h)},{"../Factory":9,"../Global":11,"../Shape":16,"../Util":19,"../Validators":20}],54:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("../Shape"),s=t("../Animation"),l=t("../Validators"),u=t("../Global"),h=function(t){function e(e){var n=t.call(this,e)||this;return n._updated=!0,n.anim=new s.Animation((function(){var t=n._updated;return n._updated=!1,t})),n.on("animationChange.konva",(function(){this.frameIndex(0)})),n.on("frameIndexChange.konva",(function(){this._updated=!0})),n.on("frameRateChange.konva",(function(){this.anim.isRunning()&&(clearInterval(this.interval),this._setInterval())})),n}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],o=this.frameOffsets(),a=i[r+0],s=i[r+1],l=i[r+2],u=i[r+3],h=this.image();if((this.hasFill()||this.hasStroke())&&(t.beginPath(),t.rect(0,0,l,u),t.closePath(),t.fillStrokeShape(this)),h)if(o){var c=o[e],d=2*n;t.drawImage(h,a,s,l,u,c[d+0],c[d+1],l,u)}else t.drawImage(h,a,s,l,u,0,0,l,u)},e.prototype._hitFunc=function(t){var e=this.animation(),n=this.frameIndex(),r=4*n,i=this.animations()[e],o=this.frameOffsets(),a=i[r+2],s=i[r+3];if(t.beginPath(),o){var l=o[e],u=2*n;t.rect(l[u+0],l[u+1],a,s)}else t.rect(0,0,a,s);t.closePath(),t.fillShape(this)},e.prototype._useBufferCanvas=function(){return t.prototype._useBufferCanvas.call(this,!0)},e.prototype._setInterval=function(){var t=this;this.interval=setInterval((function(){t._updateIndex()}),1e3/this.frameRate())},e.prototype.start=function(){if(!this.isRunning()){var t=this.getLayer();this.anim.setLayers(t),this._setInterval(),this.anim.start()}},e.prototype.stop=function(){this.anim.stop(),clearInterval(this.interval)},e.prototype.isRunning=function(){return this.anim.isRunning()},e.prototype._updateIndex=function(){var t=this.frameIndex(),e=this.animation();t<this.animations()[e].length/4-1?this.frameIndex(t+1):this.frameIndex(0)},e}(a.Shape);n.Sprite=h,h.prototype.className="Sprite",u._registerNode(h),o.Factory.addGetterSetter(h,"animation"),o.Factory.addGetterSetter(h,"animations"),o.Factory.addGetterSetter(h,"frameOffsets"),o.Factory.addGetterSetter(h,"image"),o.Factory.addGetterSetter(h,"frameIndex",0,l.getNumberValidator()),o.Factory.addGetterSetter(h,"frameRate",17,l.getNumberValidator()),o.Factory.backCompat(h,{index:"frameIndex",getIndex:"getFrameIndex",setIndex:"setFrameIndex"}),i.Collection.mapMethods(h)},{"../Animation":4,"../Factory":9,"../Global":11,"../Shape":16,"../Util":19,"../Validators":20}],55:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("../Shape"),s=t("../Validators"),l=t("../Global"),u=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.innerRadius(),n=this.outerRadius(),r=this.numPoints();t.beginPath(),t.moveTo(0,0-n);for(var i=1;i<2*r;i++){var o=i%2===0?n:e,a=o*Math.sin(i*Math.PI/r),s=-1*o*Math.cos(i*Math.PI/r);t.lineTo(a,s)}t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.outerRadius()},e.prototype.getHeight=function(){return 2*this.outerRadius()},e.prototype.setWidth=function(t){this.outerRadius(t/2)},e.prototype.setHeight=function(t){this.outerRadius(t/2)},e}(a.Shape);n.Star=u,u.prototype.className="Star",u.prototype._centroid=!0,u.prototype._attrsAffectingSize=["innerRadius","outerRadius"],l._registerNode(u),o.Factory.addGetterSetter(u,"numPoints",5,s.getNumberValidator()),o.Factory.addGetterSetter(u,"innerRadius",0,s.getNumberValidator()),o.Factory.addGetterSetter(u,"outerRadius",0,s.getNumberValidator()),i.Collection.mapMethods(u)},{"../Factory":9,"../Global":11,"../Shape":16,"../Util":19,"../Validators":20}],56:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("../Shape"),s=t("../Global"),l=t("../Validators"),u=t("../Global");function h(t){return Array.from(t)}n.stringToArray=h;var c,d="auto",f="center",p="justify",g="Change.konva",y="2d",m="-",v="left",_="text",b="Text",w="top",S="bottom",x="middle",k="normal",C="px ",P=" ",T="right",E="word",M="char",L="none",F="\u2026",A=["fontFamily","fontSize","fontStyle","fontVariant","padding","align","verticalAlign","lineHeight","text","width","height","wrap","ellipsis","letterSpacing"],O=A.length;function D(t){return t.split(",").map((function(t){var e=(t=t.trim()).indexOf(" ")>=0,n=t.indexOf('"')>=0||t.indexOf("'")>=0;return e&&!n&&(t='"'+t+'"'),t})).join(", ")}function N(){return c||(c=i.Util.createCanvasElement().getContext(y))}function R(t){t.fillText(this._partialText,this._partialTextX,this._partialTextY)}function U(t){t.strokeText(this._partialText,this._partialTextX,this._partialTextY)}function I(t){return(t=t||{}).fillLinearGradientColorStops||t.fillRadialGradientColorStops||t.fillPatternImage||(t.fill=t.fill||"black"),t}var z=function(t){function e(e){var n=t.call(this,I(e))||this;n._partialTextX=0,n._partialTextY=0;for(var r=0;r<O;r++)n.on(A[r]+g,n._setTextData);return n._setTextData(),n}return r(e,t),e.prototype._sceneFunc=function(t){var e=this.textArr,n=e.length;if(this.text()){var r,i=this.padding(),o=this.fontSize(),a=this.lineHeight()*o,s=this.verticalAlign(),l=0,u=this.align(),c=this.getWidth(),d=this.letterSpacing(),g=this.fill(),y=this.textDecoration(),m=-1!==y.indexOf("underline"),_=-1!==y.indexOf("line-through"),b=0,w=(b=a/2,0),k=0;for(t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",x),t.setAttr("textAlign",v),s===x?l=(this.getHeight()-n*a-2*i)/2:s===S&&(l=this.getHeight()-n*a-2*i),t.translate(i,l+i),r=0;r<n;r++){w=0,k=0;var C,P,E,M=e[r],L=M.text,F=M.width,A=r!==n-1;if(t.save(),u===T?w+=c-F-2*i:u===f&&(w+=(c-F-2*i)/2),m&&(t.save(),t.beginPath(),t.moveTo(w,b+k+Math.round(o/2)),P=0===(C=L.split(" ").length-1),E=u===p&&A&&!P?c-2*i:F,t.lineTo(w+Math.round(E),b+k+Math.round(o/2)),t.lineWidth=o/15,t.strokeStyle=g,t.stroke(),t.restore()),_&&(t.save(),t.beginPath(),t.moveTo(w,b+k),P=0===(C=L.split(" ").length-1),E=u===p&&A&&!P?c-2*i:F,t.lineTo(w+Math.round(E),b+k),t.lineWidth=o/15,t.strokeStyle=g,t.stroke(),t.restore()),0!==d||u===p){C=L.split(" ").length-1;for(var O=h(L),D=0;D<O.length;D++){var N=O[D];" "===N&&r!==n-1&&u===p&&(w+=(c-2*i-F)/C),this._partialTextX=w,this._partialTextY=b+k,this._partialText=N,t.fillStrokeShape(this),w+=this.measureSize(N).width+d}}else this._partialTextX=w,this._partialTextY=b+k,this._partialText=L,t.fillStrokeShape(this);t.restore(),n>1&&(b+=a)}}},e.prototype._hitFunc=function(t){var e=this.getWidth(),n=this.getHeight();t.beginPath(),t.rect(0,0,e,n),t.closePath(),t.fillStrokeShape(this)},e.prototype.setText=function(t){var e=i.Util._isString(t)?t:null===t||void 0===t?"":t+"";return this._setAttr(_,e),this},e.prototype.getWidth=function(){return this.attrs.width===d||void 0===this.attrs.width?this.getTextWidth()+2*this.padding():this.attrs.width},e.prototype.getHeight=function(){return this.attrs.height===d||void 0===this.attrs.height?this.fontSize()*this.textArr.length*this.lineHeight()+2*this.padding():this.attrs.height},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.measureSize=function(t){var e,n=N(),r=this.fontSize();return n.save(),n.font=this._getContextFont(),e=n.measureText(t),n.restore(),{width:e.width,height:r}},e.prototype._getContextFont=function(){return s.Konva.UA.isIE?this.fontStyle()+P+this.fontSize()+C+this.fontFamily():this.fontStyle()+P+this.fontVariant()+P+(this.fontSize()+C)+D(this.fontFamily())},e.prototype._addTextLine=function(t){this.align()===p&&(t=t.trim());var e=this._getTextWidth(t);return this.textArr.push({text:t,width:e})},e.prototype._getTextWidth=function(t){var e=this.letterSpacing(),n=t.length;return N().measureText(t).width+(n?e*(n-1):0)},e.prototype._setTextData=function(){var t=this.text().split("\n"),e=+this.fontSize(),n=0,r=this.lineHeight()*e,i=this.attrs.width,o=this.attrs.height,a=i!==d&&void 0!==i,s=o!==d&&void 0!==o,l=this.padding(),u=i-2*l,h=o-2*l,c=0,f=this.wrap(),p=f!==L,g=f!==M&&p,y=this.ellipsis();this.textArr=[],N().font=this._getContextFont();for(var v=y?this._getTextWidth(F):0,_=0,b=t.length;_<b;++_){var w=t[_],S=this._getTextWidth(w);if(a&&S>u)for(;w.length>0;){for(var x=0,k=w.length,C="",T=0;x<k;){var E=x+k>>>1,A=w.slice(0,E+1),O=this._getTextWidth(A)+v;O<=u?(x=E+1,C=A+(y?F:""),T=O):k=E}if(!C)break;if(g){var D,R=w[C.length];(D=(R===P||R===m)&&T<=u?C.length:Math.max(C.lastIndexOf(P),C.lastIndexOf(m))+1)>0&&(x=D,C=C.slice(0,x),T=this._getTextWidth(C))}if(C=C.trimRight(),this._addTextLine(C),n=Math.max(n,T),c+=r,!p||s&&c+r>h){var U=this.textArr[this.textArr.length-1];U&&y&&(this._getTextWidth(U.text+F)<u||(U.text=U.text.slice(0,U.text.length-3)),this.textArr.splice(this.textArr.length-1,1),this._addTextLine(U.text+F));break}if((w=(w=w.slice(x)).trimLeft()).length>0&&(S=this._getTextWidth(w))<=u){this._addTextLine(w),c+=r,n=Math.max(n,S);break}}else this._addTextLine(w),c+=r,n=Math.max(n,S);if(s&&c+r>h)break}this.textHeight=e,this.textWidth=n},e.prototype.getStrokeScaleEnabled=function(){return!0},e}(a.Shape);n.Text=z,z.prototype._fillFunc=R,z.prototype._strokeFunc=U,z.prototype.className=b,z.prototype._attrsAffectingSize=["text","fontSize","padding","wrap","lineHeight"],u._registerNode(z),o.Factory.overWriteSetter(z,"width",l.getNumberOrAutoValidator()),o.Factory.overWriteSetter(z,"height",l.getNumberOrAutoValidator()),o.Factory.addGetterSetter(z,"fontFamily","Arial"),o.Factory.addGetterSetter(z,"fontSize",12,l.getNumberValidator()),o.Factory.addGetterSetter(z,"fontStyle",k),o.Factory.addGetterSetter(z,"fontVariant",k),o.Factory.addGetterSetter(z,"padding",0,l.getNumberValidator()),o.Factory.addGetterSetter(z,"align",v),o.Factory.addGetterSetter(z,"verticalAlign",w),o.Factory.addGetterSetter(z,"lineHeight",1,l.getNumberValidator()),o.Factory.addGetterSetter(z,"wrap",E),o.Factory.addGetterSetter(z,"ellipsis",!1,l.getBooleanValidator()),o.Factory.addGetterSetter(z,"letterSpacing",0,l.getNumberValidator()),o.Factory.addGetterSetter(z,"text","",l.getStringValidator()),o.Factory.addGetterSetter(z,"textDecoration",""),i.Collection.mapMethods(z)},{"../Factory":9,"../Global":11,"../Shape":16,"../Util":19,"../Validators":20}],57:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("../Shape"),s=t("./Path"),l=t("./Text"),u=t("../Validators"),h=t("../Global"),c="",d="normal";function f(t){t.fillText(this.partialText,0,0)}function p(t){t.strokeText(this.partialText,0,0)}var g=function(t){function e(e){var n=t.call(this,e)||this;return n.dummyCanvas=i.Util.createCanvasElement(),n.dataArray=[],n.dataArray=s.Path.parsePathData(n.attrs.data),n.on("dataChange.konva",(function(){this.dataArray=s.Path.parsePathData(this.attrs.data),this._setTextData()})),n.on("textChange.konva alignChange.konva letterSpacingChange.konva kerningFuncChange.konva",n._setTextData),e&&e.getKerning&&(i.Util.warn('getKerning TextPath API is deprecated. Please use "kerningFunc" instead.'),n.kerningFunc(e.getKerning)),n._setTextData(),n}return r(e,t),e.prototype._sceneFunc=function(t){t.setAttr("font",this._getContextFont()),t.setAttr("textBaseline",this.textBaseline()),t.setAttr("textAlign","left"),t.save();var e=this.textDecoration(),n=this.fill(),r=this.fontSize(),i=this.glyphInfo;"underline"===e&&t.beginPath();for(var o=0;o<i.length;o++){t.save();var a=i[o].p0;t.translate(a.x,a.y),t.rotate(i[o].rotation),this.partialText=i[o].text,t.fillStrokeShape(this),"underline"===e&&(0===o&&t.moveTo(0,r/2+1),t.lineTo(r,r/2+1)),t.restore()}"underline"===e&&(t.strokeStyle=n,t.lineWidth=r/20,t.stroke()),t.restore()},e.prototype._hitFunc=function(t){t.beginPath();var e=this.glyphInfo;if(e.length>=1){var n=e[0].p0;t.moveTo(n.x,n.y)}for(var r=0;r<e.length;r++){var i=e[r].p1;t.lineTo(i.x,i.y)}t.setAttr("lineWidth",this.fontSize()),t.setAttr("strokeStyle",this.colorKey),t.stroke()},e.prototype.getTextWidth=function(){return this.textWidth},e.prototype.getTextHeight=function(){return i.Util.warn("text.getTextHeight() method is deprecated. Use text.height() - for full height and text.fontSize() - for one line height."),this.textHeight},e.prototype.setText=function(t){return l.Text.prototype.setText.call(this,t)},e.prototype._getContextFont=function(){return l.Text.prototype._getContextFont.call(this)},e.prototype._getTextSize=function(t){var e=this.dummyCanvas.getContext("2d");e.save(),e.font=this._getContextFont();var n=e.measureText(t);return e.restore(),{width:n.width,height:parseInt(this.attrs.fontSize,10)}},e.prototype._setTextData=function(){var t=this,e=this._getTextSize(this.attrs.text),n=this.letterSpacing(),r=this.align(),i=this.kerningFunc();this.textWidth=e.width,this.textHeight=e.height;var o=Math.max(this.textWidth+((this.attrs.text||"").length-1)*n,0);this.glyphInfo=[];for(var a=0,u=0;u<t.dataArray.length;u++)t.dataArray[u].pathLength>0&&(a+=t.dataArray[u].pathLength);var h=0;"center"===r&&(h=Math.max(0,a/2-o/2)),"right"===r&&(h=Math.max(0,a-o));for(var c,d,f,p=l.stringToArray(this.text()),g=this.text().split(" ").length-1,y=-1,m=0,v=function(){m=0;for(var e=t.dataArray,n=y+1;n<e.length;n++){if(e[n].pathLength>0)return y=n,e[n];"M"===e[n].command&&(c={x:e[n].points[0],y:e[n].points[1]})}return{}},_=function(e){var i=t._getTextSize(e).width+n;" "===e&&"justify"===r&&(i+=(a-o)/g);var l=0,u=0;for(d=void 0;Math.abs(i-l)/i>.01&&u<25;){u++;for(var h=l;void 0===f;)(f=v())&&h+f.pathLength<i&&(h+=f.pathLength,f=void 0);if(f==={}||void 0===c)return;var p=!1;switch(f.command){case"L":s.Path.getLineLength(c.x,c.y,f.points[0],f.points[1])>i?d=s.Path.getPointOnLine(i,c.x,c.y,f.points[0],f.points[1],c.x,c.y):f=void 0;break;case"A":var y=f.points[4],_=f.points[5],b=f.points[4]+_;0===m?m=y+1e-8:i>l?m+=Math.PI/180*_/Math.abs(_):m-=Math.PI/360*_/Math.abs(_),(_<0&&m<b||_>=0&&m>b)&&(m=b,p=!0),d=s.Path.getPointOnEllipticalArc(f.points[0],f.points[1],f.points[2],f.points[3],m,f.points[6]);break;case"C":0===m?m=i>f.pathLength?1e-8:i/f.pathLength:i>l?m+=(i-l)/f.pathLength:m-=(l-i)/f.pathLength,m>1&&(m=1,p=!0),d=s.Path.getPointOnCubicBezier(m,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3],f.points[4],f.points[5]);break;case"Q":0===m?m=i/f.pathLength:i>l?m+=(i-l)/f.pathLength:m-=(l-i)/f.pathLength,m>1&&(m=1,p=!0),d=s.Path.getPointOnQuadraticBezier(m,f.start.x,f.start.y,f.points[0],f.points[1],f.points[2],f.points[3])}void 0!==d&&(l=s.Path.getLineLength(c.x,c.y,d.x,d.y)),p&&(p=!1,f=void 0)}},b="C",w=h/(t._getTextSize(b).width+n)-1,S=0;S<w&&(_(b),void 0!==c&&void 0!==d);S++)c=d;for(var x=0;x<p.length&&(_(p[x]),void 0!==c&&void 0!==d);x++){var k=s.Path.getLineLength(c.x,c.y,d.x,d.y),C=0;if(i)try{C=i(p[x-1],p[x])*this.fontSize()}catch(E){C=0}c.x+=C,d.x+=C,this.textWidth+=C;var P=s.Path.getPointOnLine(C+k/2,c.x,c.y,d.x,d.y),T=Math.atan2(d.y-c.y,d.x-c.x);this.glyphInfo.push({transposeX:P.x,transposeY:P.y,text:p[x],rotation:T,p0:c,p1:d}),c=d}},e.prototype.getSelfRect=function(){if(!this.glyphInfo.length)return{x:0,y:0,width:0,height:0};var t=[];this.glyphInfo.forEach((function(e){t.push(e.p0.x),t.push(e.p0.y),t.push(e.p1.x),t.push(e.p1.y)}));for(var e,n,r=t[0]||0,i=t[0]||0,o=t[1]||0,a=t[1]||0,s=0;s<t.length/2;s++)e=t[2*s],n=t[2*s+1],r=Math.min(r,e),i=Math.max(i,e),o=Math.min(o,n),a=Math.max(a,n);var l=this.fontSize();return{x:r-l/2,y:o-l/2,width:i-r+l,height:a-o+l}},e}(a.Shape);n.TextPath=g,g.prototype._fillFunc=f,g.prototype._strokeFunc=p,g.prototype._fillFuncHit=f,g.prototype._strokeFuncHit=p,g.prototype.className="TextPath",g.prototype._attrsAffectingSize=["text","fontSize","data"],h._registerNode(g),o.Factory.addGetterSetter(g,"data"),o.Factory.addGetterSetter(g,"fontFamily","Arial"),o.Factory.addGetterSetter(g,"fontSize",12,u.getNumberValidator()),o.Factory.addGetterSetter(g,"fontStyle",d),o.Factory.addGetterSetter(g,"align","left"),o.Factory.addGetterSetter(g,"letterSpacing",0,u.getNumberValidator()),o.Factory.addGetterSetter(g,"textBaseline","middle"),o.Factory.addGetterSetter(g,"fontVariant",d),o.Factory.addGetterSetter(g,"text",c),o.Factory.addGetterSetter(g,"textDecoration",null),o.Factory.addGetterSetter(g,"kerningFunc",null),i.Collection.mapMethods(g)},{"../Factory":9,"../Global":11,"../Shape":16,"../Util":19,"../Validators":20,"./Path":50,"./Text":56}],58:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),i=this&&this.__assign||function(){return(i=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Util"),a=t("../Factory"),s=t("../Node"),l=t("../Shape"),u=t("./Rect"),h=t("../Group"),c=t("../Global"),d=t("../Validators"),f=t("../Global"),p="tr-konva",g=["resizeEnabledChange","rotateAnchorOffsetChange","rotateEnabledChange","enabledAnchorsChange","anchorSizeChange","borderEnabledChange","borderStrokeChange","borderStrokeWidthChange","borderDashChange","anchorStrokeChange","anchorStrokeWidthChange","anchorFillChange","anchorCornerRadiusChange","ignoreStrokeChange"].map((function(t){return t+"."+p})).join(" "),y="nodesRect",m=["widthChange","heightChange","scaleXChange","scaleYChange","skewXChange","skewYChange","rotationChange","offsetXChange","offsetYChange","transformsEnabledChange","strokeWidthChange"].map((function(t){return t+"."+p})).join(" "),v={"top-left":-45,"top-center":0,"top-right":45,"middle-right":-90,"middle-left":90,"bottom-left":-135,"bottom-center":180,"bottom-right":135},_="ontouchstart"in c.Konva._global;function b(t,e){if("rotater"===t)return"crosshair";e+=o.Util._degToRad(v[t]||0);var n=(o.Util._radToDeg(e)%360+360)%360;return o.Util._inRange(n,337.5,360)||o.Util._inRange(n,0,22.5)?"ns-resize":o.Util._inRange(n,22.5,67.5)?"nesw-resize":o.Util._inRange(n,67.5,112.5)?"ew-resize":o.Util._inRange(n,112.5,157.5)?"nwse-resize":o.Util._inRange(n,157.5,202.5)?"ns-resize":o.Util._inRange(n,202.5,247.5)?"nesw-resize":o.Util._inRange(n,247.5,292.5)?"ew-resize":o.Util._inRange(n,292.5,337.5)?"nwse-resize":(o.Util.error("Transformer has unknown angle for cursor detection: "+n),"pointer")}var w=["top-left","top-center","top-right","middle-right","middle-left","bottom-left","bottom-center","bottom-right"],S=1e8;function x(t){return{x:t.x+t.width/2*Math.cos(t.rotation)+t.height/2*Math.sin(-t.rotation),y:t.y+t.height/2*Math.cos(t.rotation)+t.width/2*Math.sin(t.rotation)}}function k(t,e,n){var r=n.x+(t.x-n.x)*Math.cos(e)-(t.y-n.y)*Math.sin(e),o=n.y+(t.x-n.x)*Math.sin(e)+(t.y-n.y)*Math.cos(e);return i(i({},t),{rotation:t.rotation+e,x:r,y:o})}function C(t,e){return k(t,e,x(t))}function P(t,e,n){for(var r=e,i=0;i<t.length;i++){var o=c.Konva.getAngle(t[i]),a=Math.abs(o-e)%(2*Math.PI);Math.min(a,2*Math.PI-a)<n&&(r=o)}return r}var T=function(t){function e(e){var n=t.call(this,e)||this;return n._transforming=!1,n._createElements(),n._handleMouseMove=n._handleMouseMove.bind(n),n._handleMouseUp=n._handleMouseUp.bind(n),n.update=n.update.bind(n),n.on(g,n.update),n.getNode()&&n.update(),n}return r(e,t),e.prototype.attachTo=function(t){return this.setNode(t),this},e.prototype.setNode=function(t){return o.Util.warn("tr.setNode(shape), tr.node(shape) and tr.attachTo(shape) methods are deprecated. Please use tr.nodes(nodesArray) instead."),this.setNodes([t])},e.prototype.getNode=function(){return this._nodes&&this._nodes[0]},e.prototype.setNodes=function(t){var e=this;return void 0===t&&(t=[]),this._nodes&&this._nodes.length&&this.detach(),this._nodes=t,1===t.length?this.rotation(t[0].rotation()):this.rotation(0),this._nodes.forEach((function(t){var n=t._attrsAffectingSize.map((function(t){return t+"Change."+p})).join(" "),r=function(){1===e.nodes().length&&e.rotation(e.nodes()[0].rotation()),e._resetTransformCache(),e._transforming||e.update()};t.on(n,r),t.on(m,r),t.on("_clearTransformCache."+p,r),t.on("xChange."+p+" yChange."+p,r),e._proxyDrag(t)})),this._resetTransformCache(),!!this.findOne(".top-left")&&this.update(),this},e.prototype._proxyDrag=function(t){var e,n=this;t.on("dragstart."+p,(function(r){e=t.getAbsolutePosition(),n.isDragging()||t===n.findOne(".back")||n.startDrag(r,!1)})),t.on("dragmove."+p,(function(r){if(e){var i=t.getAbsolutePosition(),o=i.x-e.x,a=i.y-e.y;n.nodes().forEach((function(e){if(e!==t&&!e.isDragging()){var n=e.getAbsolutePosition();e.setAbsolutePosition({x:n.x+o,y:n.y+a}),e.startDrag(r)}})),e=null}}))},e.prototype.getNodes=function(){return this._nodes||[]},e.prototype.getActiveAnchor=function(){return this._movingAnchorName},e.prototype.detach=function(){this._nodes&&this._nodes.forEach((function(t){t.off("."+p)})),this._nodes=[],this._resetTransformCache()},e.prototype._resetTransformCache=function(){this._clearCache(y),this._clearCache("transform"),this._clearSelfAndDescendantCache("absoluteTransform")},e.prototype._getNodeRect=function(){return this._getCache(y,this.__getNodeRect)},e.prototype.__getNodeShape=function(t,e,n){void 0===e&&(e=this.rotation());var r=t.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:this.ignoreStroke()}),i=t.getAbsoluteScale(n),o=t.getAbsolutePosition(n),a=r.x*i.x-t.offsetX()*i.x,s=r.y*i.y-t.offsetY()*i.y,l=(c.Konva.getAngle(t.getAbsoluteRotation())+2*Math.PI)%(2*Math.PI);return k({x:o.x+a*Math.cos(l)+s*Math.sin(-l),y:o.y+s*Math.cos(l)+a*Math.sin(l),width:r.width*i.x,height:r.height*i.y,rotation:l},-c.Konva.getAngle(e),{x:0,y:0})},e.prototype.__getNodeRect=function(){var t=this;if(!this.getNode())return{x:-S,y:-S,width:0,height:0,rotation:0};var e=[];this.nodes().map((function(n){var r=n.getClientRect({skipTransform:!0,skipShadow:!0,skipStroke:t.ignoreStroke()}),i=[{x:r.x,y:r.y},{x:r.x+r.width,y:r.y},{x:r.x+r.width,y:r.y+r.height},{x:r.x,y:r.y+r.height}],o=n.getAbsoluteTransform();i.forEach((function(t){var n=o.point(t);e.push(n)}))}));var n,r,i,a,s=new o.Transform;s.rotate(-c.Konva.getAngle(this.rotation())),e.forEach((function(t){var e=s.point(t);void 0===n&&(n=i=e.x,r=a=e.y),n=Math.min(n,e.x),r=Math.min(r,e.y),i=Math.max(i,e.x),a=Math.max(a,e.y)})),s.invert();var l=s.point({x:n,y:r});return{x:l.x,y:l.y,width:i-n,height:a-r,rotation:c.Konva.getAngle(this.rotation())}},e.prototype.getX=function(){return this._getNodeRect().x},e.prototype.getY=function(){return this._getNodeRect().y},e.prototype.getWidth=function(){return this._getNodeRect().width},e.prototype.getHeight=function(){return this._getNodeRect().height},e.prototype._createElements=function(){this._createBack(),w.forEach(function(t){this._createAnchor(t)}.bind(this)),this._createAnchor("rotater")},e.prototype._createAnchor=function(t){var e=this,n=new u.Rect({stroke:"rgb(0, 161, 255)",fill:"white",strokeWidth:1,name:t+" _anchor",dragDistance:0,draggable:!0,hitStrokeWidth:_?10:"auto"}),r=this;n.on("mousedown touchstart",(function(t){r._handleMouseDown(t)})),n.on("dragstart",(function(t){n.stopDrag(),t.cancelBubble=!0})),n.on("dragend",(function(t){t.cancelBubble=!0})),n.on("mouseenter",(function(){var r=c.Konva.getAngle(e.rotation()),i=b(t,r);n.getStage().content.style.cursor=i,e._cursorChange=!0})),n.on("mouseout",(function(){n.getStage().content.style.cursor="",e._cursorChange=!1})),this.add(n)},e.prototype._createBack=function(){var t=this,e=new l.Shape({name:"back",width:0,height:0,draggable:!0,sceneFunc:function(t){var e=this.getParent(),n=e.padding();t.beginPath(),t.rect(-n,-n,this.width()+2*n,this.height()+2*n),t.moveTo(this.width()/2,-n),e.rotateEnabled()&&t.lineTo(this.width()/2,-e.rotateAnchorOffset()*o.Util._sign(this.height())-n),t.fillStrokeShape(this)},hitFunc:function(e,n){if(t.shouldOverdrawWholeArea()){var r=t.padding();e.beginPath(),e.rect(-r,-r,n.width()+2*r,n.height()+2*r),e.fillStrokeShape(n)}}});this.add(e),this._proxyDrag(e),e.on("dragstart",(function(t){t.cancelBubble=!0})),e.on("dragmove",(function(t){t.cancelBubble=!0})),e.on("dragend",(function(t){t.cancelBubble=!0}))},e.prototype._handleMouseDown=function(t){this._movingAnchorName=t.target.name().split(" ")[0];var e=this._getNodeRect(),n=e.width,r=e.height,i=Math.sqrt(Math.pow(n,2)+Math.pow(r,2));this.sin=Math.abs(r/i),this.cos=Math.abs(n/i),window.addEventListener("mousemove",this._handleMouseMove),window.addEventListener("touchmove",this._handleMouseMove),window.addEventListener("mouseup",this._handleMouseUp,!0),window.addEventListener("touchend",this._handleMouseUp,!0),this._transforming=!0;var o=t.target.getAbsolutePosition(),a=t.target.getStage().getPointerPosition();this._anchorDragOffset={x:a.x-o.x,y:a.y-o.y},this._fire("transformstart",{evt:t,target:this.getNode()}),this.getNode()._fire("transformstart",{evt:t,target:this.getNode()})},e.prototype._handleMouseMove=function(t){var e,n,r,i=this.findOne("."+this._movingAnchorName),o=i.getStage();o.setPointersPositions(t);var a=o.getPointerPosition(),s={x:a.x-this._anchorDragOffset.x,y:a.y-this._anchorDragOffset.y},l=i.getAbsolutePosition();i.setAbsolutePosition(s);var u=i.getAbsolutePosition();if(l.x!==u.x||l.y!==u.y)if("rotater"!==this._movingAnchorName){var h=this.keepRatio()||t.shiftKey,d=this.centeredScaling()||t.altKey;if("top-left"===this._movingAnchorName){if(h){var f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-right").x(),y:this.findOne(".bottom-right").y()};r=Math.sqrt(Math.pow(f.x-i.x(),2)+Math.pow(f.y-i.y(),2));var p=this.findOne(".top-left").x()>f.x?-1:1,g=this.findOne(".top-left").y()>f.y?-1:1;e=r*this.cos*p,n=r*this.sin*g,this.findOne(".top-left").x(f.x-e),this.findOne(".top-left").y(f.y-n)}}else if("top-center"===this._movingAnchorName)this.findOne(".top-left").y(i.y());else if("top-right"===this._movingAnchorName){h&&(f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".bottom-left").x(),y:this.findOne(".bottom-left").y()},r=Math.sqrt(Math.pow(i.x()-f.x,2)+Math.pow(f.y-i.y(),2)),p=this.findOne(".top-right").x()<f.x?-1:1,g=this.findOne(".top-right").y()>f.y?-1:1,e=r*this.cos*p,n=r*this.sin*g,this.findOne(".top-right").x(f.x+e),this.findOne(".top-right").y(f.y-n));var y=i.position();this.findOne(".top-left").y(y.y),this.findOne(".bottom-right").x(y.x)}else"middle-left"===this._movingAnchorName?this.findOne(".top-left").x(i.x()):"middle-right"===this._movingAnchorName?this.findOne(".bottom-right").x(i.x()):"bottom-left"===this._movingAnchorName?(h&&(f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-right").x(),y:this.findOne(".top-right").y()},r=Math.sqrt(Math.pow(f.x-i.x(),2)+Math.pow(i.y()-f.y,2)),p=f.x<i.x()?-1:1,g=i.y()<f.y?-1:1,e=r*this.cos*p,n=r*this.sin*g,i.x(f.x-e),i.y(f.y+n)),y=i.position(),this.findOne(".top-left").x(y.x),this.findOne(".bottom-right").y(y.y)):"bottom-center"===this._movingAnchorName?this.findOne(".bottom-right").y(i.y()):"bottom-right"===this._movingAnchorName?h&&(f=d?{x:this.width()/2,y:this.height()/2}:{x:this.findOne(".top-left").x(),y:this.findOne(".top-left").y()},r=Math.sqrt(Math.pow(i.x()-f.x,2)+Math.pow(i.y()-f.y,2)),p=this.findOne(".bottom-right").x()<f.x?-1:1,g=this.findOne(".bottom-right").y()<f.y?-1:1,e=r*this.cos*p,n=r*this.sin*g,this.findOne(".bottom-right").x(f.x+e),this.findOne(".bottom-right").y(f.y+n)):console.error(new Error("Wrong position argument of selection resizer: "+this._movingAnchorName));if(d=this.centeredScaling()||t.altKey){var m=this.findOne(".top-left"),v=this.findOne(".bottom-right"),_=m.x(),b=m.y(),w=this.getWidth()-v.x(),S=this.getHeight()-v.y();v.move({x:-_,y:-b}),m.move({x:w,y:S})}var x=this.findOne(".top-left").getAbsolutePosition();e=x.x,n=x.y;var k=this.findOne(".bottom-right").x()-this.findOne(".top-left").x(),T=this.findOne(".bottom-right").y()-this.findOne(".top-left").y();this._fitNodesInto({x:e,y:n,width:k,height:T,rotation:c.Konva.getAngle(this.rotation())},t)}else{var E=this._getNodeRect();e=i.x()-E.width/2,n=-i.y()+E.height/2;var M=Math.atan2(-n,e)+Math.PI/2;E.height<0&&(M-=Math.PI);var L=c.Konva.getAngle(this.rotation())+M,F=c.Konva.getAngle(this.rotationSnapTolerance()),A=C(E,P(this.rotationSnaps(),L,F)-E.rotation);this._fitNodesInto(A,t)}},e.prototype._handleMouseUp=function(t){this._removeEvents(t)},e.prototype.getAbsoluteTransform=function(){return this.getTransform()},e.prototype._removeEvents=function(t){if(this._transforming){this._transforming=!1,window.removeEventListener("mousemove",this._handleMouseMove),window.removeEventListener("touchmove",this._handleMouseMove),window.removeEventListener("mouseup",this._handleMouseUp,!0),window.removeEventListener("touchend",this._handleMouseUp,!0);var e=this.getNode();this._fire("transformend",{evt:t,target:e}),e&&e.fire("transformend",{evt:t,target:e}),this._movingAnchorName=null}},e.prototype._fitNodesInto=function(t,e){var n=this,r=this._getNodeRect(),i=1;if(o.Util._inRange(t.width,2*-this.padding()-i,i))this.update();else if(o.Util._inRange(t.height,2*-this.padding()-i,i))this.update();else{var a=!0,s=new o.Transform;if(s.rotate(c.Konva.getAngle(this.rotation())),this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("left")>=0){var l=s.point({x:2*-this.padding(),y:0});if(t.x+=l.x,t.y+=l.y,t.width+=2*this.padding(),this._movingAnchorName=this._movingAnchorName.replace("left","right"),this._anchorDragOffset.x-=l.x,this._anchorDragOffset.y-=l.y,!a)return void this.update()}else if(this._movingAnchorName&&t.width<0&&this._movingAnchorName.indexOf("right")>=0&&(l=s.point({x:2*this.padding(),y:0}),this._movingAnchorName=this._movingAnchorName.replace("right","left"),this._anchorDragOffset.x-=l.x,this._anchorDragOffset.y-=l.y,t.width+=2*this.padding(),!a))return void this.update();if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("top")>=0){if(l=s.point({x:0,y:2*-this.padding()}),t.x+=l.x,t.y+=l.y,this._movingAnchorName=this._movingAnchorName.replace("top","bottom"),this._anchorDragOffset.x-=l.x,this._anchorDragOffset.y-=l.y,t.height+=2*this.padding(),!a)return void this.update()}else if(this._movingAnchorName&&t.height<0&&this._movingAnchorName.indexOf("bottom")>=0&&(l=s.point({x:0,y:2*this.padding()}),this._movingAnchorName=this._movingAnchorName.replace("bottom","top"),this._anchorDragOffset.x-=l.x,this._anchorDragOffset.y-=l.y,t.height+=2*this.padding(),!a))return void this.update();if(this.boundBoxFunc()){var u=this.boundBoxFunc()(r,t);u?t=u:o.Util.warn("boundBoxFunc returned falsy. You should return new bound rect from it!")}var h=1e7,d=new o.Transform;d.translate(r.x,r.y),d.rotate(r.rotation),d.scale(r.width/h,r.height/h);var f=new o.Transform;f.translate(t.x,t.y),f.rotate(t.rotation),f.scale(t.width/h,t.height/h);var p=f.multiply(d.invert());this._nodes.forEach((function(t){var r=t.getParent().getAbsoluteTransform(),i=t.getTransform().copy();i.translate(t.offsetX(),t.offsetY());var a=new o.Transform;a.multiply(r.copy().invert()).multiply(p).multiply(r).multiply(i);var s=a.decompose();t.setAttrs(s),n._fire("transform",{evt:e,target:t}),t._fire("transform",{evt:e,target:t})})),this.rotation(o.Util._getRotation(t.rotation)),this._resetTransformCache(),this.update(),this.getLayer().batchDraw()}},e.prototype.forceUpdate=function(){this._resetTransformCache(),this.update()},e.prototype._batchChangeChild=function(t,e){this.findOne(t).setAttrs(e)},e.prototype.update=function(){var t=this,e=this._getNodeRect();this.rotation(o.Util._getRotation(e.rotation));var n=e.width,r=e.height,i=this.enabledAnchors(),a=this.resizeEnabled(),s=this.padding(),l=this.anchorSize();this.find("._anchor").each((function(e){e.setAttrs({width:l,height:l,offsetX:l/2,offsetY:l/2,stroke:t.anchorStroke(),strokeWidth:t.anchorStrokeWidth(),fill:t.anchorFill(),cornerRadius:t.anchorCornerRadius()})})),this._batchChangeChild(".top-left",{x:0,y:0,offsetX:l/2+s,offsetY:l/2+s,visible:a&&i.indexOf("top-left")>=0}),this._batchChangeChild(".top-center",{x:n/2,y:0,offsetY:l/2+s,visible:a&&i.indexOf("top-center")>=0}),this._batchChangeChild(".top-right",{x:n,y:0,offsetX:l/2-s,offsetY:l/2+s,visible:a&&i.indexOf("top-right")>=0}),this._batchChangeChild(".middle-left",{x:0,y:r/2,offsetX:l/2+s,visible:a&&i.indexOf("middle-left")>=0}),this._batchChangeChild(".middle-right",{x:n,y:r/2,offsetX:l/2-s,visible:a&&i.indexOf("middle-right")>=0}),this._batchChangeChild(".bottom-left",{x:0,y:r,offsetX:l/2+s,offsetY:l/2-s,visible:a&&i.indexOf("bottom-left")>=0}),this._batchChangeChild(".bottom-center",{x:n/2,y:r,offsetY:l/2-s,visible:a&&i.indexOf("bottom-center")>=0}),this._batchChangeChild(".bottom-right",{x:n,y:r,offsetX:l/2-s,offsetY:l/2-s,visible:a&&i.indexOf("bottom-right")>=0}),this._batchChangeChild(".rotater",{x:n/2,y:-this.rotateAnchorOffset()*o.Util._sign(r)-s,visible:this.rotateEnabled()}),this._batchChangeChild(".back",{width:n,height:r,visible:this.borderEnabled(),stroke:this.borderStroke(),strokeWidth:this.borderStrokeWidth(),dash:this.borderDash(),x:0,y:0})},e.prototype.isTransforming=function(){return this._transforming},e.prototype.stopTransform=function(){if(this._transforming){this._removeEvents();var t=this.findOne("."+this._movingAnchorName);t&&t.stopDrag()}},e.prototype.destroy=function(){return this.getStage()&&this._cursorChange&&(this.getStage().content.style.cursor=""),h.Group.prototype.destroy.call(this),this.detach(),this._removeEvents(),this},e.prototype.toObject=function(){return s.Node.prototype.toObject.call(this)},e}(h.Group);function E(t){return t instanceof Array||o.Util.warn("enabledAnchors value should be an array"),t instanceof Array&&t.forEach((function(t){-1===w.indexOf(t)&&o.Util.warn("Unknown anchor name: "+t+". Available names are: "+w.join(", "))})),t||[]}n.Transformer=T,T.prototype.className="Transformer",f._registerNode(T),a.Factory.addGetterSetter(T,"enabledAnchors",w,E),a.Factory.addGetterSetter(T,"resizeEnabled",!0),a.Factory.addGetterSetter(T,"anchorSize",10,d.getNumberValidator()),a.Factory.addGetterSetter(T,"rotateEnabled",!0),a.Factory.addGetterSetter(T,"rotationSnaps",[]),a.Factory.addGetterSetter(T,"rotateAnchorOffset",50,d.getNumberValidator()),a.Factory.addGetterSetter(T,"rotationSnapTolerance",5,d.getNumberValidator()),a.Factory.addGetterSetter(T,"borderEnabled",!0),a.Factory.addGetterSetter(T,"anchorStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(T,"anchorStrokeWidth",1,d.getNumberValidator()),a.Factory.addGetterSetter(T,"anchorFill","white"),a.Factory.addGetterSetter(T,"anchorCornerRadius",0,d.getNumberValidator()),a.Factory.addGetterSetter(T,"borderStroke","rgb(0, 161, 255)"),a.Factory.addGetterSetter(T,"borderStrokeWidth",1,d.getNumberValidator()),a.Factory.addGetterSetter(T,"borderDash"),a.Factory.addGetterSetter(T,"keepRatio",!0),a.Factory.addGetterSetter(T,"centeredScaling",!1),a.Factory.addGetterSetter(T,"ignoreStroke",!1),a.Factory.addGetterSetter(T,"padding",0,d.getNumberValidator()),a.Factory.addGetterSetter(T,"node"),a.Factory.addGetterSetter(T,"nodes"),a.Factory.addGetterSetter(T,"boundBoxFunc"),a.Factory.addGetterSetter(T,"shouldOverdrawWholeArea",!1),a.Factory.backCompat(T,{lineEnabled:"borderEnabled",rotateHandlerOffset:"rotateAnchorOffset",enabledHandlers:"enabledAnchors"}),o.Collection.mapMethods(T)},{"../Factory":9,"../Global":11,"../Group":12,"../Node":14,"../Shape":16,"../Util":19,"../Validators":20,"./Rect":51}],59:[function(t,e,n){"use strict";var r=this&&this.__extends||function(){var t=function(e,n){return(t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(e,n)};return function(e,n){function r(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}();Object.defineProperty(n,"__esModule",{value:!0});var i=t("../Util"),o=t("../Factory"),a=t("../Shape"),s=t("../Global"),l=t("../Validators"),u=t("../Global"),h=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return r(e,t),e.prototype._sceneFunc=function(t){t.beginPath(),t.arc(0,0,this.radius(),0,s.Konva.getAngle(this.angle()),this.clockwise()),t.lineTo(0,0),t.closePath(),t.fillStrokeShape(this)},e.prototype.getWidth=function(){return 2*this.radius()},e.prototype.getHeight=function(){return 2*this.radius()},e.prototype.setWidth=function(t){this.radius(t/2)},e.prototype.setHeight=function(t){this.radius(t/2)},e}(a.Shape);n.Wedge=h,h.prototype.className="Wedge",h.prototype._centroid=!0,h.prototype._attrsAffectingSize=["radius"],u._registerNode(h),o.Factory.addGetterSetter(h,"radius",0,l.getNumberValidator()),o.Factory.addGetterSetter(h,"angle",0,l.getNumberValidator()),o.Factory.addGetterSetter(h,"clockwise",!1),o.Factory.backCompat(h,{angleDeg:"angle",getAngleDeg:"getAngle",setAngleDeg:"setAngle"}),i.Collection.mapMethods(h)},{"../Factory":9,"../Global":11,"../Shape":16,"../Util":19,"../Validators":20}],60:[function(t,e,n){"use strict";function r(t){this._data=new DataView(t),this._offset=2===this.version?24:20}r.isCompatible=function(t){var e=t&&"object"===typeof t&&"byteLength"in t;if(e){var n=new DataView(t).getInt32(0,!0);if(1!==n&&2!==n)throw new TypeError("This waveform data version not supported.")}return e},r.prototype={get version(){return this._data.getInt32(0,!0)},get bits(){return Boolean(this._data.getUint32(4,!0))?8:16},get channels(){return 2===this.version?this._data.getInt32(20,!0):1},get sample_rate(){return this._data.getInt32(8,!0)},get scale(){return this._data.getInt32(12,!0)},get length(){return this._data.getUint32(16,!0)},at:function(t){return this._data.getInt8(this._offset+t)},concatBuffers:function(){var t,e,n=Array.prototype.slice.call(arguments),r=this._offset,i=r,o=0,a=[this].concat(n).map((function(t){return t._data.buffer}));for(t=0;t<a.length;t++){e=a[t];var s=new DataView(e).getInt32(16,!0);i+=e.byteLength-r,o+=s}var l=new ArrayBuffer(i),u=new DataView(a[0]),h=new DataView(l);for(t=0;t<r;t++)h.setUint8(t,u.getUint8(t));h.setInt32(16,o,!0);var c=0,d=new Uint8Array(l,r);for(t=0;t<a.length;t++)e=a[t],d.set(new Uint8Array(e,r),c),c+=e.byteLength-r;return l}},e.exports=r},{}],61:[function(t,e,n){"use strict";function r(t){this._data=t}r.isCompatible=function(t){return t&&"object"===typeof t&&"sample_rate"in t&&"samples_per_pixel"in t&&"bits"in t&&"length"in t&&"data"in t},r.prototype={get version(){return this._data.version||1},get bits(){return this._data.bits},get channels(){return this._data.channels||1},get sample_rate(){return this._data.sample_rate},get scale(){return this._data.samples_per_pixel},get length(){return this._data.length},at:function(t){var e=this._data.data;if(t>=0&&t<e.length)return e[t];throw new RangeError("Invalid index: "+t)},concatBuffers:function(){var t=Array.prototype.slice.call(arguments),e=t.map((function(t){return t._data.data})),n=Object.assign({},this._data);return n.data=n.data.concat.apply(n.data,e),n.length+=t.reduce((function(t,e){return t+e.length}),0),n}},e.exports=r},{}],62:[function(t,e,n){"use strict";var r=t("../core"),i=t("inline-worker");function o(t,e){var n=new i((function(){var t=127,e=-128;function n(t,e){var n=Math.floor(t/e);return t-n*e>0&&n++,n}this.addEventListener("message",(function r(i){var o,a,s=i.data.scale,l=i.data.amplitude_scale,u=i.data.split_channels,h=i.data.audio_buffer,c=h.channels,d=u?c.length:1,f=1===d?1:2,p=1===f?20:24,g=n(h.length,s),y=new DataView(new ArrayBuffer(p+2*g*d)),m=0,v=h.length,_=p,b=new Array(d),w=new Array(d);for(o=0;o<d;o++)b[o]=1/0,w[o]=-1/0;for(y.setInt32(0,f,!0),y.setUint32(4,1,!0),y.setInt32(8,h.sampleRate,!0),y.setInt32(12,s,!0),y.setInt32(16,g,!0),2===f&&y.setInt32(20,d,!0),a=0;a<v;a++){var S=0;if(1===d){for(o=0;o<c.length;++o)S+=c[o][a];(S=Math.floor(t*S*l/c.length))<b[0]&&(b[0]=S,b[0]<e&&(b[0]=e)),S>w[0]&&(w[0]=S,w[0]>t&&(w[0]=t))}else for(o=0;o<d;++o)(S=Math.floor(t*c[o][a]*l))<b[o]&&(b[o]=S,b[o]<e&&(b[o]=e)),S>w[o]&&(w[o]=S,w[o]>t&&(w[o]=t));if(++m===s){for(o=0;o<d;o++)y.setInt8(_++,b[o]),y.setInt8(_++,w[o]),b[o]=1/0,w[o]=-1/0;m=0}}if(m>0)for(o=0;o<d;o++)y.setInt8(_++,b[o]),y.setInt8(_++,w[o]);this.postMessage(y),this.removeEventListener("message",r),this.close()}))}));n.addEventListener("message",(function t(r){e(r.data),n.removeEventListener("message",t)})),n.postMessage(t)}function a(t,e){return function(n){for(var i={length:n.length,sampleRate:n.sampleRate,channels:[]},a=0;a<n.numberOfChannels;++a)i.channels[a]=n.getChannelData(a);o({scale:t.scale,amplitude_scale:t.amplitude_scale,split_channels:t.split_channels,audio_buffer:i},(function(t){e(null,new r(t.buffer),n)}))}}e.exports=a},{"../core":66,"inline-worker":3}],63:[function(t,e,n){"use strict";var r={scale:512,amplitude_scale:1,split_channels:!1};function i(t){if(Object.prototype.hasOwnProperty.call(t,"scale_adjuster"))throw new Error("Please rename the 'scale_adjuster' option to 'amplitude_scale'");return{scale:t.scale||r.scale,amplitude_scale:t.amplitude_scale||r.amplitude_scale,split_channels:t.split_channels||r.split_channels}}e.exports=i},{}],64:[function(t,e,n){"use strict";var r=t("./audiodecoder"),i=t("./options");function o(t,e,n,i){function o(t){t||(t=new DOMException("EncodingError")),i(t)}t.decodeAudioData(e,r(n,i),o)}function a(t,e,n){return r(e,n)(t)}function s(t,e){var n=i(t);if(t.audio_context&&t.array_buffer)return o(t.audio_context,t.array_buffer,n,e);if(t.audio_buffer)return a(t.audio_buffer,n,e);throw new TypeError("Please pass either an AudioContext and ArrayBuffer, or an AudioBuffer object")}e.exports=s},{"./audiodecoder":62,"./options":63}],65:[function(t,e,n){"use strict";function r(t,e){this._waveformData=t,this._channelIndex=e}r.prototype.min_sample=function(t){var e=2*(t*this._waveformData.channels+this._channelIndex);return this._waveformData._adapter.at(e)},r.prototype.max_sample=function(t){var e=2*(t*this._waveformData.channels+this._channelIndex)+1;return this._waveformData._adapter.at(e)},r.prototype.min_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,2*this._channelIndex)},r.prototype.max_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,2*this._channelIndex+1)},e.exports=r},{}],66:[function(t,e,n){"use strict";var r=t("./channel"),i=t("./adapters/object"),o=[t("./adapters/arraybuffer"),i];function a(t){var e=this._getAdapter(t);this._adapter=new e(t),this._channels=[];for(var n=0;n<this.channels;n++)this._channels[n]=new r(this,n)}a.create=function(t){return new a(t)},a.prototype={_getAdapter:function(t){var e=null;if(o.some((function(n){if(n.isCompatible(t))return e=n,!0})),null===e)throw new TypeError("Could not detect a WaveformData adapter from the input.");return e},resample:function(t){"number"===typeof t&&(t={width:t}),t.input_index="number"===typeof t.input_index?t.input_index:null,t.output_index="number"===typeof t.output_index?t.output_index:null,t.scale="number"===typeof t.scale?t.scale:null,t.width="number"===typeof t.width?t.width:null;var e=Boolean(t.input_index)||Boolean(t.output_index);if(null!=t.input_index&&t.input_index<0)throw new RangeError("options.input_index should be a positive integer value. ["+t.input_index+"]");if(null!=t.output_index&&t.output_index<0)throw new RangeError("options.output_index should be a positive integer value. ["+t.output_index+"]");if(null!=t.width&&t.width<=0)throw new RangeError("options.width should be a strictly positive integer value. ["+t.width+"]");if(null!=t.scale&&t.scale<=0)throw new RangeError("options.scale should be a strictly positive integer value. ["+t.scale+"]");if(!t.scale&&!t.width)throw new RangeError("You should provide either a resampling scale or a width in pixel the data should fit in.");var n=["width","scale","output_index","input_index"].reduce((function(e,n){return e+(null===t[n]?0:1)}),0);if(e&&4!==n)throw new Error("Some partial resampling options are missing. You provided "+n+" of them over 4.");var r,i=[],o=t.scale||Math.floor(this.duration*this.sample_rate/t.width),s=this.scale,l=2*this.channels,u=this.length,h=t.input_index||0,c=t.output_index||0,d=this.channels,f=new Array(d),p=new Array(d);for(r=0;r<d;++r)u>0?(f[r]=this.channel(r).min_sample(h),p[r]=this.channel(r).max_sample(h)):(f[r]=0,p[r]=0);var g,y,m,v,_=-128,b=127;if(o<s)throw new Error("Zoom level "+o+" too low, minimum: "+s);function w(t){return Math.floor(t*o)}function S(t,e){i.push(t,e)}for(;h<u;){for(;Math.floor(w(c)/s)<=h;){if(c>0)for(r=0;r<d;++r)S(f[r],p[r]);if(v=h,(g=w(++c))!==w(c-1))for(r=0;r<d;++r)f[r]=b,p[r]=_}for(g=w(c),(y=Math.floor(g/s))>u&&(y=u);h<y;){for(r=0;r<d;++r)(m=this.channel(r).min_sample(h))<f[r]&&(f[r]=m),(m=this.channel(r).max_sample(h))>p[r]&&(p[r]=m);h++}if(e&&i.length/l>=t.width)break}if(e){if(i.length/l>t.width&&h!==v)for(r=0;r<d;++r)S(f[r],p[r])}else if(h!==v)for(r=0;r<d;++r)S(f[r],p[r]);return new a({version:this._adapter.version,bits:this.bits,samples_per_pixel:o,length:i.length/l,data:i,sample_rate:this.sample_rate,channels:d})},concat:function(){var t=this,e=Array.prototype.slice.call(arguments);e.forEach((function(e){if(t.channels!==e.channels||t.sample_rate!==e.sample_rate||t.scale!==e.scale||Object.getPrototypeOf(t._adapter)!==Object.getPrototypeOf(e._adapter)||t._adapter.version!==e._adapter.version)throw new Error("Waveforms are incompatible")}));var n=e.map((function(t){return t._adapter}));return new a(this._adapter.concatBuffers.apply(this._adapter,n))},_offsetValues:function(t,e,n){var r=this._adapter,i=[],o=this.channels;n+=t*o*2;for(var a=0;a<e;a++)i.push(r.at(a*o*2+n));return i},get length(){return this._adapter.length},get bits(){return this._adapter.bits},get duration(){return this.length*this.scale/this.sample_rate},get pixels_per_second(){return this.sample_rate/this.scale},get seconds_per_pixel(){return this.scale/this.sample_rate},get channels(){return this._adapter.channels},channel:function(t){if(t>=0&&t<this._channels.length)return this._channels[t];throw new RangeError("Invalid channel: "+t)},get sample_rate(){return this._adapter.sample_rate},get scale(){return this._adapter.scale},at_time:function(t){return Math.floor(t*this.sample_rate/this.scale)},time:function(t){return t*this.scale/this.sample_rate}},e.exports=a},{"./adapters/arraybuffer":60,"./adapters/object":61,"./channel":65}],67:[function(t,e,n){"use strict";var r=t("./lib/core");r.createFromAudio=t("./lib/builders/webaudio"),e.exports=r},{"./lib/builders/webaudio":64,"./lib/core":66}],68:[function(t,e,n){e.exports=function(t,e){"use strict";var n=/HeadlessChrome/.test(navigator.userAgent);function r(){return!n&&!navigator.webdriver&&"object"===typeof document&&"visibilityState"in document&&"visible"===document.visibilityState}var i=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame,o=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.msCancelAnimationFrame,a={forward:{},reverse:{}},s=0,l=1,u=2;a.forward[t.POINT]=s,a.forward[t.SEGMENT_START]=l,a.forward[t.SEGMENT_END]=u,a.reverse[t.POINT]=s,a.reverse[t.SEGMENT_START]=u,a.reverse[t.SEGMENT_END]=l;var h={};function c(e,n){switch(n.type){case t.POINT:return e.points.getPoint(n.id);case t.SEGMENT_START:case t.SEGMENT_END:return e.segments.getSegment(n.id);default:throw new Error("getPointOrSegment: id not found?")}}function d(t){this._cues=[],this._peaks=t,this._previousTime=-1,this._updateCues=this._updateCues.bind(this),this._onPlay=this.onPlay.bind(this),this._onSeeked=this.onSeeked.bind(this),this._onTimeUpdate=this.onTimeUpdate.bind(this),this._onAnimationFrame=this.onAnimationFrame.bind(this),this._rAFHandle=null,this._activeSegments={},this._attachEventHandlers()}function f(t){return function(e){return e.id===t}}h[s]="points.enter",h[l]="segments.enter",h[u]="segments.exit",d.prototype._updateCues=function(){var e=this,n=e._peaks.points.getPoints(),r=e._peaks.segments.getSegments();e._cues.length=0,n.forEach((function(n){e._cues.push(new t(n.time,t.POINT,n.id))})),r.forEach((function(n){e._cues.push(new t(n.startTime,t.SEGMENT_START,n.id)),e._cues.push(new t(n.endTime,t.SEGMENT_END,n.id))})),e._cues.sort(t.sorter);var i=e._peaks.player.getCurrentTime();e._updateActiveSegments(i)},d.prototype._onUpdate=function(t,e){var n,r,i,o=t>e;o?(n=0,r=this._cues.length,i=1):(n=this._cues.length-1,r=-1,i=-1);for(var s=n;o?s<r:s>r;s+=i){var d=this._cues[s];if(o?d.time>e:d.time<e){if(o?d.time>t:d.time<t)break;var f=c(this._peaks,d),p=o?a.forward[d.type]:a.reverse[d.type];p===l?this._activeSegments[f.id]=f:p===u&&delete this._activeSegments[f.id],this._peaks.emit(h[p],f)}}},d.prototype.onTimeUpdate=function(t){r()||(this._peaks.player.isPlaying()&&!this._peaks.player.isSeeking()&&this._onUpdate(t,this._previousTime),this._previousTime=t)},d.prototype.onAnimationFrame=function(){var t=this._peaks.player.getCurrentTime();this._peaks.player.isSeeking()||this._onUpdate(t,this._previousTime),this._previousTime=t,this._peaks.player.isPlaying()&&(this._rAFHandle=i(this._onAnimationFrame))},d.prototype.onPlay=function(){this._previousTime=this._peaks.player.getCurrentTime(),this._rAFHandle=i(this._onAnimationFrame)},d.prototype.onSeeked=function(t){this._previousTime=t,this._updateActiveSegments(t)},d.prototype._updateActiveSegments=function(t){var n=this,r=n._peaks.segments.getSegmentsAtTime(t);for(var i in n._activeSegments)e.objectHasProperty(n._activeSegments,i)&&(r.find(f(i))||(n._peaks.emit("segments.exit",n._activeSegments[i]),delete n._activeSegments[i]));r.forEach((function(t){t.id in n._activeSegments||(n._activeSegments[t.id]=t,n._peaks.emit("segments.enter",t))}))};var p=Array("points.update","points.dragmove","points.add","points.remove","points.remove_all","segments.update","segments.dragged","segments.add","segments.remove","segments.remove_all");return d.prototype._attachEventHandlers=function(){this._peaks.on("player.timeupdate",this._onTimeUpdate),this._peaks.on("player.play",this._onPlay),this._peaks.on("player.seeked",this._onSeeked);for(var t=0;t<p.length;t++)this._peaks.on(p[t],this._updateCues);this._updateCues()},d.prototype._detachEventHandlers=function(){this._peaks.off("player.timeupdate",this._onTimeUpdate),this._peaks.off("player.play",this._onPlay),this._peaks.off("player.seeked",this._onSeeked);for(var t=0;t<p.length;t++)this._peaks.off(p[t],this._updateCues)},d.prototype.destroy=function(){this._rAFHandle&&(o(this._rAFHandle),this._rAFHandle=null),this._detachEventHandlers(),this._previousTime=-1},d}(t("./cue"),t("./utils"))},{"./cue":69,"./utils":87}],69:[function(t,e,n){e.exports=function(){"use strict";function t(t,e,n){this.time=t,this.type=e,this.id=n}return t.POINT=0,t.SEGMENT_START=1,t.SEGMENT_END=2,t.sorter=function(t,e){return t.time-e.time},t}()},{}],70:[function(t,e,n){e.exports=function(t){"use strict";function e(t){this._options=t}return e.prototype.init=function(e){var n=10,r=20,i=-n/2+.5;"zoomview"===this._options.view&&(this._label=new t.Text({x:2,y:0,text:this._options.point.labelText,textAlign:"left",fontFamily:this._options.fontFamily||"sans-serif",fontSize:this._options.fontSize||10,fontStyle:this._options.fontStyle||"normal",fill:"#000"})),this._options.draggable&&(this._handle=new t.Rect({x:i,y:0,width:n,height:r,fill:this._options.color})),this._line=new t.Line({x:0,y:0,stroke:this._options.color,strokeWidth:1}),this._handle&&(this._time=new t.Text({x:-24,y:0,text:this._options.layer.formatTime(this._options.point.time),fontFamily:this._options.fontFamily,fontSize:this._options.fontSize,fontStyle:this._options.fontStyle,fill:"#000",textAlign:"center"}),this._time.hide()),this._handle&&e.add(this._handle),e.add(this._line),this._label&&e.add(this._label),this._time&&e.add(this._time),this.fitToView(),this.bindEventHandlers(e)},e.prototype.bindEventHandlers=function(t){var e=this;e._handle&&(e._handle.on("mouseover touchstart",(function(){e._time.setX(-24-e._time.getWidth()),e._time.show(),e._options.layer.draw()})),e._handle.on("mouseout touchend",(function(){e._time.hide(),e._options.layer.draw()})),t.on("dragstart",(function(){e._time.setX(-24-e._time.getWidth()),e._time.show(),e._options.layer.draw()})),t.on("dragend",(function(){e._time.hide(),e._options.layer.draw()})))},e.prototype.fitToView=function(){var t=this._options.layer.getHeight();this._line.points([.5,0,.5,t]),this._label&&this._label.y(12),this._handle&&this._handle.y(t/2-10.5),this._time&&this._time.y(t/2-5)},e.prototype.timeUpdated=function(t){this._time&&this._time.setText(this._options.layer.formatTime(t))},e}(t("konva"))},{konva:42}],71:[function(t,e,n){e.exports=function(t){"use strict";function e(t){this._options=t}return e.prototype.init=function(e){var n=10,r=20,i=-n/2+.5,o=this._options.startMarker?-24:24,a=this._options.startMarker?this._options.segment.startTime:this._options.segment.endTime;this._label=new t.Text({x:o,y:0,text:this._options.layer.formatTime(a),fontFamily:this._options.fontFamily,fontSize:this._options.fontSize,fontStyle:this._options.fontStyle,fill:"#000",textAlign:"center"}),this._label.hide(),this._handle=new t.Rect({x:i,y:0,width:n,height:r,fill:this._options.color,stroke:this._options.color,strokeWidth:1}),this._line=new t.Line({x:0,y:0,stroke:this._options.color,strokeWidth:1}),e.add(this._label),e.add(this._line),e.add(this._handle),this.fitToView(),this.bindEventHandlers(e)},e.prototype.bindEventHandlers=function(t){var e=this,n=e._options.startMarker?-24:24;e._options.draggable&&(t.on("dragstart",(function(){e._options.startMarker&&e._label.setX(n-e._label.getWidth()),e._label.show(),e._options.layer.draw()})),t.on("dragend",(function(){e._label.hide(),e._options.layer.draw()}))),e._handle.on("mouseover touchstart",(function(){e._options.startMarker&&e._label.setX(n-e._label.getWidth()),e._label.show(),e._options.layer.draw()})),e._handle.on("mouseout touchend",(function(){e._label.hide(),e._options.layer.draw()}))},e.prototype.fitToView=function(){var t=this._options.layer.getHeight();this._label.y(t/2-5),this._handle.y(t/2-10.5),this._line.points([.5,0,.5,t])},e.prototype.timeUpdated=function(t){this._label.setText(this._options.layer.formatTime(t))},e}(t("konva"))},{konva:42}],72:[function(t,e,n){e.exports=function(t,e){"use strict";function n(t,n,r){this._view=t,this._offset=n,this._color=r,this._layer=new e.FastLayer,this._highlightRect=null,this._startTime=null,this._endTime=null}return n.prototype.addToStage=function(t){t.add(this._layer)},n.prototype.showHighlight=function(t,e){this._highlightRect||this._createHighlightRect(t,e),this._update(t,e)},n.prototype._update=function(t,e){this._startTime=t,this._endTime=e;var n=this._view.timeToPixels(t),r=this._view.timeToPixels(e);this._highlightRect.setAttrs({x:n,width:r-n}),this._layer.draw()},n.prototype._createHighlightRect=function(t,n){this._startTime=t,this._endTime=n;var r=this._view.timeToPixels(t),i=this._view.timeToPixels(n);this._highlightRect=new e.Rect({startOffset:0,y:0,width:i-r,stroke:this._color,strokeWidth:1,height:0,fill:this._color,opacity:.3,cornerRadius:2}),this.fitToView(),this._layer.add(this._highlightRect)},n.prototype.removeHighlight=function(){this._highlightRect&&(this._highlightRect.destroy(),this._highlightRect=null,this._layer.draw())},n.prototype.updateHighlight=function(){this._highlightRect&&this._update(this._startTime,this._endTime)},n.prototype.fitToView=function(){if(this._highlightRect){var e=this._view.getHeight(),n=t.clamp(this._offset,0,Math.floor(e/2));this._highlightRect.setAttrs({y:n,height:e-2*n})}},n}(t("./utils"),t("konva"))},{"./utils":87,konva:42}],73:[function(t,e,n){e.exports=function(){"use strict";var t=["OBJECT","TEXTAREA","INPUT","SELECT","OPTION"],e=32,n=9,r=37,i=39,o=[e,n,r,i];function a(t){this.eventEmitter=t,this._handleKeyEvent=this._handleKeyEvent.bind(this),document.addEventListener("keydown",this._handleKeyEvent),document.addEventListener("keypress",this._handleKeyEvent),document.addEventListener("keyup",this._handleKeyEvent)}return a.prototype._handleKeyEvent=function(a){if(-1===t.indexOf(a.target.nodeName))if(o.indexOf(a.type)>-1&&a.preventDefault(),"keydown"===a.type||"keypress"===a.type)switch(a.keyCode){case e:this.eventEmitter.emit("keyboard.space");break;case n:this.eventEmitter.emit("keyboard.tab")}else if("keyup"===a.type)switch(a.keyCode){case r:a.shiftKey?this.eventEmitter.emit("keyboard.shift_left"):this.eventEmitter.emit("keyboard.left");break;case i:a.shiftKey?this.eventEmitter.emit("keyboard.shift_right"):this.eventEmitter.emit("keyboard.right")}},a.prototype.destroy=function(){document.removeEventListener("keydown",this._handleKeyEvent),document.removeEventListener("keypress",this._handleKeyEvent),document.removeEventListener("keyup",this._handleKeyEvent)},a}()},{}],74:[function(t,e,n){e.exports=function(t,e,n,r,i,o,a,s,l,u,h,c,d){"use strict";function f(t){return{player:t.querySelector(".waveform"),zoomview:t.querySelector(".zoom-container"),overview:t.querySelector(".overview-container")}}function p(){return e.call(this),this.options={zoomLevels:[512,1024,2048,4096],dataUri:null,dataUriDefaultFormat:"json",withCredentials:!1,waveformData:null,logger:null,deprecationLogger:console.log.bind(console),keyboard:!1,nudgeIncrement:1,segmentStartMarkerColor:t.gray,segmentEndMarkerColor:t.gray,zoomWaveformColor:"rgba(0, 225, 128, 1)",overviewWaveformColor:"rgba(0,0,0,0.2)",overviewHighlightColor:"grey",overviewHighlightOffset:11,randomizeSegmentColor:!0,height:200,segmentColor:t.orange,playheadColor:t.black,playheadTextColor:t.gray,timeLabelPrecision:2,showPlayheadTime:!1,axisGridlineColor:"#ccc",axisLabelColor:t.gray,template:['<div class="waveform">','<div class="zoom-container"></div>','<div class="overview-container"></div>',"</div>"].join(""),pointMarkerColor:t.teal,webAudio:null,zoomAdapter:"static",emitCueEvents:!1,createSegmentMarker:l.createSegmentMarker,createSegmentLabel:l.createSegmentLabel,createPointMarker:l.createPointMarker},this.logger=console.error.bind(console),this}return p.prototype=Object.create(e.prototype),p.init=function(t,e){var l=new p;t=t||{};var g=l._setOptions(t);if(g)e(g);else{var y=null;if("string"===typeof l.options.template)t.container.innerHTML=l.options.template,y=f(l.options.container);else if(d.isHTMLElement(l.options.template))this.container.appendChild(l.options.template),y=f(l.options.container);else{if(!l.options.containers)return void e(new TypeError("Peaks.init(): The template option must be a valid HTML string or a DOM object"));y=l.options.containers}var m=y.zoomview||y.zoom;if(d.isHTMLElement(m)||d.isHTMLElement(y.overview))if(m&&m.clientWidth<=0)e(new TypeError("Peaks.init(): Please ensure that the zoomview container is visible and has non-zero width"));else{if(!(y.overview&&y.overview.clientWidth<=0)){l.options.keyboard&&(l._keyboardHandler=new o(l));var v=l.options.player?l.options.player:new a(l,l.options.mediaElement);return l.player=new s(l,v),l.segments=new i(l),l.points=new r(l),l.zoom=new h(l,l.options.zoomLevels),l.views=new u(l),new c(l).init(l.options,(function(t,r){t?e&&e(t):(l._waveformData=r,y.overview&&l.views.createOverview(y.overview),m&&l.views.createZoomview(m),l._addWindowResizeHandler(),l.options.segments&&l.segments.add(l.options.segments),l.options.points&&l.points.add(l.options.points),l.options.emitCueEvents&&(l._cueEmitter=new n(l)),setTimeout((function(){l.emit("peaks.ready")}),0),e&&e(null,l))})),l}e(new TypeError("Peaks.init(): Please ensure that the overview container is visible and has non-zero width"))}else e(new TypeError("Peaks.init(): The containers.zoomview and/or containers.overview options must be valid HTML elements"))}},p.prototype._setOptions=function(t){if(t.deprecationLogger=t.deprecationLogger||console.log.bind(console),t.audioElement&&(t.mediaElement=t.audioElement,t.deprecationLogger("Peaks.init(): The audioElement option is deprecated, please use mediaElement instead")),t.overviewHighlightRectangleColor&&(t.overviewHighlightColor=t.overviewHighlightRectangleColor,t.deprecationLogger("Peaks.init(): The overviewHighlightRectangleColor option is deprecated, please use overviewHighlightColor instead")),t.inMarkerColor&&(t.segmentStartMarkerColor=t.inMarkerColor,t.deprecationLogger("Peaks.init(): The inMarkerColor option is deprecated, please use segmentStartMarkerColor instead")),t.outMarkerColor&&(t.segmentEndMarkerColor=t.outMarkerColor,t.deprecationLogger("Peaks.init(): The outMarkerColor option is deprecated, please use segmentEndMarkerColor instead")),!t.player){if(!t.mediaElement)return new Error("Peaks.init(): Missing mediaElement option");if(!(t.mediaElement instanceof HTMLMediaElement))return new TypeError("Peaks.init(): The mediaElement option should be an HTMLMediaElement")}return t.container||t.containers?Boolean(t.container)===Boolean(t.containers)?new Error("Peaks.init(): Please specify either a container or containers option, but not both"):t.template&&t.containers?new Error("Peaks.init(): Please specify either a template or a containers option, but not both"):(t.containers&&(t.template=null),t.logger&&!d.isFunction(t.logger)?new TypeError("Peaks.init(): The logger option should be a function"):t.segments&&!Array.isArray(t.segments)?new TypeError("Peaks.init(): options.segments must be an array of segment objects"):t.points&&!Array.isArray(t.points)?new TypeError("Peaks.init(): options.points must be an array of point objects"):(d.extend(this.options,t),Array.isArray(this.options.zoomLevels)?0===this.options.zoomLevels.length?new Error("Peaks.init(): The zoomLevels array must not be empty"):d.isInAscendingOrder(this.options.zoomLevels)?(t.logger&&(this.logger=t.logger),null):new Error("Peaks.init(): The zoomLevels array must be sorted in ascending order"):new TypeError("Peaks.init(): The zoomLevels option should be an array"))):new Error("Peaks.init(): Please specify either a container or containers option")},p.prototype.setSource=function(t,e){var n=this;function r(){n.removeAllListeners("player.canplay"),n.removeAllListeners("player.error")}function i(t){r(),e(t)}function o(){r(),t.zoomLevels||(t.zoomLevels=n.options.zoomLevels),new c(n).init(t,(function(r,i){r?e(r):(n._waveformData=i,["overview","zoomview"].forEach((function(t){var e=n.views.getView(t);e&&e.setWaveformData(i)})),n.zoom.setZoomLevels(t.zoomLevels),e())}))}t.mediaUrl?(n.once("player.canplay",o),n.once("player.error",i),n.options.mediaElement.setAttribute("src",t.mediaUrl)):e(new Error("peaks.setSource(): options must contain a mediaUrl"))},p.prototype.getWaveformData=function(){return this._waveformData},p.prototype._addWindowResizeHandler=function(){this._onResize=this._onResize.bind(this),window.addEventListener("resize",this._onResize)},p.prototype._onResize=function(){this.emit("window_resize")},p.prototype._removeWindowResizeHandler=function(){window.removeEventListener("resize",this._onResize)},p.prototype.destroy=function(){this._removeWindowResizeHandler(),this._keyboardHandler&&this._keyboardHandler.destroy(),this.views&&this.views.destroy(),this.player&&this.player.destroy(),this._cueEmitter&&this._cueEmitter.destroy()},p}(t("colors.css"),t("eventemitter3"),t("./cue-emitter"),t("./waveform-points"),t("./waveform-segments"),t("./keyboard-handler"),t("./mediaelement-player"),t("./player"),t("./marker-factories"),t("./view-controller"),t("./zoom-controller"),t("./waveform-builder"),t("./utils"))},{"./cue-emitter":68,"./keyboard-handler":73,"./marker-factories":75,"./mediaelement-player":76,"./player":78,"./utils":87,"./view-controller":88,"./waveform-builder":90,"./waveform-points":92,"./waveform-segments":93,"./zoom-controller":96,"colors.css":1,eventemitter3:2}],75:[function(t,e,n){e.exports=function(t,e,n){"use strict";function r(t){return"zoomview"===t.view?new e(t):null}function i(t){return new n.Text({x:12,y:12,text:t.segment.labelText,textAlign:"center",fontFamily:t.fontFamily||"sans-serif",fontSize:t.fontSize||12,fontStyle:t.fontStyle||"normal",fill:"#000"})}function o(e){return new t(e)}return{createSegmentMarker:r,createSegmentLabel:i,createPointMarker:o}}(t("./default-point-marker"),t("./default-segment-marker"),t("konva"))},{"./default-point-marker":70,"./default-segment-marker":71,konva:42}],76:[function(t,e,n){e.exports=function(){"use strict";function t(e,n){var r=this;r._peaks=e,r._listeners=[],r._mediaElement=n,t.prototype._addMediaListener=function(t,e){this._listeners.push({type:t,callback:e}),this._mediaElement.addEventListener(t,e)},t.prototype.init=function(t){r._player=t,r._listeners=[],r._duration=r.getDuration(),r._isPlaying=!1,r._addMediaListener("timeupdate",(function(){r._peaks.emit("player.timeupdate",r.getCurrentTime())})),r._addMediaListener("play",(function(){r._isPlaying=!0,r._peaks.emit("player.play",r.getCurrentTime())})),r._addMediaListener("pause",(function(){r._isPlaying=!1,r._peaks.emit("player.pause",r.getCurrentTime())})),r._addMediaListener("seeked",(function(){r._peaks.emit("player.seeked",r.getCurrentTime())})),r._addMediaListener("canplay",(function(){r._peaks.emit("player.canplay")})),r._addMediaListener("error",(function(t){r._peaks.emit("player.error",t.target.error)})),r._interval=null},t.prototype.destroy=function(){for(var t=0;t<this._listeners.length;t++){var e=this._listeners[t];this._mediaElement.removeEventListener(e.type,e.callback)}this._listeners.length=0,this._mediaElement=null},t.prototype.play=function(){return this._mediaElement.play()},t.prototype.pause=function(){this._mediaElement.pause()},t.prototype.isPlaying=function(){return this._isPlaying},t.prototype.isSeeking=function(){return this._mediaElement.seeking},t.prototype.getCurrentTime=function(){return this._mediaElement.currentTime},t.prototype.getDuration=function(){return this._mediaElement.duration},t.prototype.seek=function(t){this._mediaElement.currentTime=t}}return t}()},{}],77:[function(t,e,n){e.exports=function(t){"use strict";function e(e){for(;null!==e.parent;){if(e.parent instanceof t.Layer)return e;e=e.parent}return null}function n(t,e){this._stage=t,this._handlers=e,this._dragging=!1,this._mouseDown=this._mouseDown.bind(this),this._mouseUp=this._mouseUp.bind(this),this._mouseMove=this._mouseMove.bind(this),this._stage.on("mousedown",this._mouseDown),this._stage.on("touchstart",this._mouseDown),this._mouseDownClientX=null}return n.prototype._mouseDown=function(t){var n=e(t.target);if(!n||!n.attrs.draggable){if("touchstart"===t.type?this._mouseDownClientX=Math.floor(t.evt.touches[0].clientX):this._mouseDownClientX=t.evt.clientX,this._handlers.onMouseDown){var r=this._getMousePosX(this._mouseDownClientX);this._handlers.onMouseDown(r)}window.addEventListener("mousemove",this._mouseMove,!1),window.addEventListener("touchmove",this._mouseMove,!1),window.addEventListener("mouseup",this._mouseUp,!1),window.addEventListener("touchend",this._mouseUp,!1),window.addEventListener("blur",this._mouseUp,!1)}},n.prototype._mouseMove=function(t){var e=null;if((e="touchmove"===t.type?Math.floor(t.changedTouches[0].clientX):t.clientX)!==this._mouseDownClientX&&(this._dragging=!0,this._handlers.onMouseMove)){var n=this._getMousePosX(e);this._handlers.onMouseMove(n)}},n.prototype._mouseUp=function(t){var e=null;if("touchend"===t.type?(e=Math.floor(t.changedTouches[0].clientX),t.cancelable&&t.preventDefault()):e=t.clientX,this._handlers.onMouseUp){var n=this._getMousePosX(e);this._handlers.onMouseUp(n)}window.removeEventListener("mousemove",this._mouseMove,!1),window.removeEventListener("touchmove",this._mouseMove,!1),window.removeEventListener("mouseup",this._mouseUp,!1),window.removeEventListener("touchend",this._mouseUp,!1),window.removeEventListener("blur",this._mouseUp,!1),this._dragging=!1},n.prototype._getMousePosX=function(t){return t-this._stage.getContainer().getBoundingClientRect().left},n.prototype.isDragging=function(){return this._dragging},n}(t("konva"))},{konva:42}],78:[function(t,e,n){e.exports=function(t){"use strict";function e(t){var e=["init","destroy","play","pause","isPlaying","isSeeking","getCurrentTime","getDuration","seek"];function n(t){for(var e=[],n=t;n;)Object.getOwnPropertyNames(n).forEach((function(t){e.push(t)})),n=Object.getPrototypeOf(n);return e}var r=n(t);e.forEach((function(e){if(!r.includes(e))throw new TypeError("Peaks.init(): Player method "+e+" is undefined");if("function"!==typeof t[e])throw new TypeError("Peaks.init(): Player method "+e+" is not a function")}))}function n(r,i){var o=this;o._peaks=r,o._interval=null,e(i),o._adapter=i,o._adapter.init(r),n.prototype.destroy=function(){null!==this._interval&&(clearTimeout(this._interval),this._interval=null),this._adapter.destroy()},n.prototype.play=function(){return this._adapter.play()},n.prototype.pause=function(){this._adapter.pause()},n.prototype.isPlaying=function(){return this._adapter.isPlaying()},n.prototype.isSeeking=function(){return this._adapter.isSeeking()},n.prototype.getCurrentTime=function(){return this._adapter.getCurrentTime()},n.prototype.getDuration=function(){return this._adapter.getDuration()},n.prototype.seek=function(e){t.isValidTime(e)?this._adapter.seek(e):this._peaks.logger("peaks.player.seek(): parameter must be a valid time, in seconds")},n.prototype.playSegment=function(e,n){var r=this;e&&t.isValidTime(e.startTime)&&t.isValidTime(e.endTime)?(clearTimeout(r._interval),r._interval=null,r.seek(e.startTime),r.play(),r._interval=setInterval((function(){r.isPlaying()?r.getCurrentTime()>=e.endTime&&(n?r.seek(e.startTime):(clearTimeout(r._interval),r._interval=null,r.pause())):(clearTimeout(r._interval),r._interval=null,r.pause())}),30)):r._peaks.logger("peaks.player.playSegment(): parameter must be a segment object")}}return n}(t("./utils"))},{"./utils":87}],79:[function(t,e,n){e.exports=function(t){"use strict";function e(e){this._player=e.player,this._view=e.view,this._playheadPixel=0,this._playheadLineAnimation=null,this._playheadVisible=!1,this._playheadColor=e.playheadColor,this._playheadTextColor=e.playheadTextColor,this._playheadFontFamily=e.playheadFontFamily||"sans-serif",this._playheadFontSize=e.playheadFontSize||11,this._playheadFontStyle=e.playheadFontStyle||"normal",this._playheadLayer=new t.Layer,this._createPlayhead(this._playheadColor),e.showPlayheadTime&&this._createPlayheadText(this._playheadTextColor),this.fitToView(),this.zoomLevelChanged()}return e.prototype.addToStage=function(t){t.add(this._playheadLayer)},e.prototype.zoomLevelChanged=function(){var t,e=this._view.timeToPixels(1);this._useAnimation=e>=5,this._useAnimation?this._player.isPlaying()&&!this._playheadLineAnimation&&this._start():this._playheadLineAnimation&&(t=this._player.getCurrentTime(),this.stop(t))},e.prototype.fitToView=function(){var t=this._view.getHeight();this._playheadLine.points([.5,0,.5,t]),this._playheadText&&this._playheadText.y(12)},e.prototype._createPlayhead=function(e){this._playheadLine=new t.Line({stroke:e,strokeWidth:1}),this._playheadGroup=new t.Group({x:0,y:0}),this._playheadGroup.add(this._playheadLine),this._playheadLayer.add(this._playheadGroup)},e.prototype._createPlayheadText=function(e){var n=this._player.getCurrentTime(),r=this._view.formatTime(n);this._playheadText=new t.Text({x:2,y:0,text:r,fontSize:this._playheadFontSize,fontFamily:this._playheadFontFamily,fontStyle:this._playheadFontStyle,fill:e,align:"right"}),this._playheadGroup.add(this._playheadText)},e.prototype.updatePlayheadTime=function(t){this._syncPlayhead(t),this._player.isPlaying()&&this._start()},e.prototype._syncPlayhead=function(t){var e=this._view.timeToPixels(t),n=this._view.getFrameOffset(),r=this._view.getWidth(),i=e>=n&&e<n+r;if(this._playheadPixel=e,i){var o=this._playheadPixel-n;if(this._playheadVisible||(this._playheadVisible=!0,this._playheadGroup.show()),this._playheadGroup.setAttr("x",o),this._playheadText){var a=this._view.formatTime(t),s=this._playheadText.getTextWidth();this._playheadText.setText(a),s+o>r-2?this._playheadText.setAttr("x",-s-2):s+o<r&&this._playheadText.setAttr("x",2)}this._playheadLayer.draw()}else this._playheadVisible&&(this._playheadVisible=!1,this._playheadGroup.hide(),this._playheadLayer.draw())},e.prototype._start=function(){var e=this;if(e._playheadLineAnimation&&(e._playheadLineAnimation.stop(),e._playheadLineAnimation=null),e._useAnimation){var n=null;e._playheadLineAnimation=new t.Animation((function(){var t=e._player.getCurrentTime(),r=e._view.timeToPixels(t);r!==n&&(e._syncPlayhead(t),n=r)}),e._playheadLayer),e._playheadLineAnimation.start()}},e.prototype.stop=function(t){this._playheadLineAnimation&&(this._playheadLineAnimation.stop(),this._playheadLineAnimation=null),this._syncPlayhead(t)},e.prototype.getPlayheadOffset=function(){return this._playheadPixel-this._view.getFrameOffset()},e.prototype.getPlayheadPixel=function(){return this._playheadPixel},e.prototype.showPlayheadTime=function(t){var e=!1;t?this._playheadText||(this._createPlayheadText(this._playheadTextColor),this.fitToView(),e=!0):this._playheadText&&(this._playheadText.remove(),this._playheadText.destroy(),this._playheadText=null,e=!0),e&&this._playheadLayer.draw()},e.prototype.updatePlayheadText=function(){if(this._playheadText){var t=this._player.getCurrentTime(),e=this._view.formatTime(t);this._playheadText.setText(e)}this._playheadLayer.draw()},e.prototype.destroy=function(){this._playheadLineAnimation&&(this._playheadLineAnimation.stop(),this._playheadLineAnimation=null)},e}(t("konva"))},{konva:42}],80:[function(t,e,n){e.exports=function(t){"use strict";function e(e){this._point=e.point,this._marker=e.marker,this._draggable=e.draggable,this._onDblClick=e.onDblClick,this._onDragStart=e.onDragStart,this._onDragMove=e.onDragMove,this._onDragEnd=e.onDragEnd,this._onMouseEnter=e.onMouseEnter,this._onMouseLeave=e.onMouseLeave,this._dragBoundFunc=this._dragBoundFunc.bind(this),this._group=new t.Group({draggable:this._draggable,dragBoundFunc:this._dragBoundFunc}),this._bindDefaultEventHandlers(),this._marker.init(this._group)}return e.prototype._bindDefaultEventHandlers=function(){var t=this;t._group.on("dragstart",(function(){t._onDragStart(t._point)})),t._group.on("dragmove",(function(){t._onDragMove(t._point)})),t._group.on("dragend",(function(){t._onDragEnd(t._point)})),t._group.on("dblclick",(function(){t._onDblClick(t._point)})),t._group.on("mouseenter",(function(){t._onMouseEnter(t._point)})),t._group.on("mouseleave",(function(){t._onMouseLeave(t._point)}))},e.prototype._dragBoundFunc=function(t){return{x:t.x,y:this._group.getAbsolutePosition().y}},e.prototype.addToLayer=function(t){t.add(this._group)},e.prototype.fitToView=function(){this._marker.fitToView()},e.prototype.getPoint=function(){return this._point},e.prototype.getX=function(){return this._group.getX()},e.prototype.getWidth=function(){return this._group.getWidth()},e.prototype.setX=function(t){this._group.setX(t)},e.prototype.timeUpdated=function(t){this._marker.timeUpdated&&this._marker.timeUpdated(t)},e.prototype.destroy=function(){this._marker.destroy&&this._marker.destroy(),this._group.destroyChildren(),this._group.destroy()},e}(t("konva"))},{konva:42}],81:[function(t,e,n){e.exports=function(t){"use strict";var e=["peaks","id","time","labelText","color","editable"];function n(e,n){if(!t.isValidTime(e.time))throw new TypeError("peaks.points."+n+": time should be a numeric value");if(e.time<0)throw new RangeError("peaks.points."+n+": time should not be negative");if(t.isNullOrUndefined(e.labelText))e.labelText="";else if(!t.isString(e.labelText))throw new TypeError("peaks.points."+n+": labelText must be a string");if(!t.isBoolean(e.editable))throw new TypeError("peaks.points."+n+": editable must be true or false")}function r(t){n(t,"add()"),this._peaks=t.peaks,this._id=t.id,this._time=t.time,this._labelText=t.labelText,this._color=t.color,this._editable=t.editable,this._setUserData(t)}return r.prototype._setUserData=function(n){for(var r in n)t.objectHasProperty(n,r)&&-1===e.indexOf(r)&&(this[r]=n[r])},Object.defineProperties(r.prototype,{id:{enumerable:!0,get:function(){return this._id}},time:{enumerable:!0,get:function(){return this._time}},labelText:{get:function(){return this._labelText}},color:{enumerable:!0,get:function(){return this._color}},editable:{enumerable:!0,get:function(){return this._editable}}}),r.prototype.update=function(e){var r={time:this.time,labelText:this.labelText,color:this.color,editable:this.editable};t.extend(r,e),n(r,"update()"),this._time=r.time,this._labelText=r.labelText,this._color=r.color,this._editable=r.editable,this._setUserData(e),this._peaks.emit("points.update",this)},r.prototype.isVisible=function(t,e){return this.time>=t&&this.time<e},r.prototype._setTime=function(t){this._time=t},r}(t("./utils"))},{"./utils":87}],82:[function(t,e,n){e.exports=function(t,e,n){"use strict";var r="sans-serif",i=10,o="normal";function a(t,e,r){this._peaks=t,this._view=e,this._allowEditing=r,this._pointMarkers={},this._layer=new n.Layer,this._onPointsDrag=this._onPointsDrag.bind(this),this._onPointHandleDblClick=this._onPointHandleDblClick.bind(this),this._onPointHandleDragStart=this._onPointHandleDragStart.bind(this),this._onPointHandleDragMove=this._onPointHandleDragMove.bind(this),this._onPointHandleDragEnd=this._onPointHandleDragEnd.bind(this),this._onPointHandleMouseEnter=this._onPointHandleMouseEnter.bind(this),this._onPointHandleMouseLeave=this._onPointHandleMouseLeave.bind(this),this._onPointsUpdate=this._onPointsUpdate.bind(this),this._onPointsAdd=this._onPointsAdd.bind(this),this._onPointsRemove=this._onPointsRemove.bind(this),this._onPointsRemoveAll=this._onPointsRemoveAll.bind(this),this._peaks.on("points.update",this._onPointsUpdate),this._peaks.on("points.add",this._onPointsAdd),this._peaks.on("points.remove",this._onPointsRemove),this._peaks.on("points.remove_all",this._onPointsRemoveAll),this._peaks.on("points.dragstart",this._onPointsDrag),this._peaks.on("points.dragmove",this._onPointsDrag),this._peaks.on("points.dragend",this._onPointsDrag)}return a.prototype.addToStage=function(t){t.add(this._layer)},a.prototype.enableEditing=function(t){this._allowEditing=t},a.prototype.formatTime=function(t){return this._view.formatTime(t)},a.prototype._onPointsUpdate=function(t){var e=this._view.getFrameOffset(),n=this._view.getWidth(),r=this._view.pixelsToTime(e),i=this._view.pixelsToTime(e+n);this._removePoint(t),t.isVisible(r,i)&&this._addPointMarker(t),this.updatePoints(r,i)},a.prototype._onPointsAdd=function(t){var e=this,n=e._view.getFrameOffset(),r=e._view.getWidth(),i=e._view.pixelsToTime(n),o=e._view.pixelsToTime(n+r);t.forEach((function(t){t.isVisible(i,o)&&e._addPointMarker(t)})),e.updatePoints(i,o)},a.prototype._onPointsRemove=function(t){var e=this;t.forEach((function(t){e._removePoint(t)})),e._layer.draw()},a.prototype._onPointsRemoveAll=function(){this._layer.removeChildren(),this._pointMarkers={},this._layer.draw()},a.prototype._onPointsDrag=function(t){this._updatePoint(t),this._layer.draw()},a.prototype._createPointMarker=function(e){var n=this._allowEditing&&e.editable,a=this._peaks.options.createPointMarker({point:e,draggable:n,color:e.color?e.color:this._peaks.options.pointMarkerColor,fontFamily:this._peaks.options.fontFamily||r,fontSize:this._peaks.options.fontSize||i,fontStyle:this._peaks.options.fontStyle||o,layer:this,view:this._view.getName()});return new t({point:e,draggable:n,marker:a,onDblClick:this._onPointHandleDblClick,onDragStart:this._onPointHandleDragStart,onDragMove:this._onPointHandleDragMove,onDragEnd:this._onPointHandleDragEnd,onMouseEnter:this._onPointHandleMouseEnter,onMouseLeave:this._onPointHandleMouseLeave})},a.prototype.getHeight=function(){return this._view.getHeight()},a.prototype._addPointMarker=function(t){var e=this._createPointMarker(t);return this._pointMarkers[t.id]=e,e.addToLayer(this._layer),e},a.prototype._onPointHandleDragMove=function(t){var e=this._pointMarkers[t.id],n=e.getX();if(n>=0&&n<this._view.getWidth()){var r=this._view.getFrameOffset()+n+e.getWidth();t._setTime(this._view.pixelsToTime(r)),e.timeUpdated(t.time)}this._peaks.emit("points.dragmove",t)},a.prototype._onPointHandleMouseEnter=function(t){this._peaks.emit("points.mouseenter",t)},a.prototype._onPointHandleMouseLeave=function(t){this._peaks.emit("points.mouseleave",t)},a.prototype._onPointHandleDblClick=function(t){this._peaks.emit("points.dblclick",t)},a.prototype._onPointHandleDragStart=function(t){this._peaks.emit("points.dragstart",t)},a.prototype._onPointHandleDragEnd=function(t){this._peaks.emit("points.dragend",t)},a.prototype.updatePoints=function(t,e){var n=this._peaks.points.find(t,e),r=n.length;n.forEach(this._updatePoint.bind(this)),(r+=this._removeInvisiblePoints(t,e))>0&&this._layer.draw()},a.prototype._updatePoint=function(t){var e=this._findOrAddPointMarker(t),n=this._view.timeToPixels(t.time)-this._view.getFrameOffset();e.setX(n)},a.prototype._findOrAddPointMarker=function(t){var e=this._pointMarkers[t.id];return e||(e=this._addPointMarker(t)),e},a.prototype._removeInvisiblePoints=function(t,n){var r=0;for(var i in this._pointMarkers)if(e.objectHasProperty(this._pointMarkers,i)){var o=this._pointMarkers[i].getPoint();o.isVisible(t,n)||(this._removePoint(o),r++)}return r},a.prototype._removePoint=function(t){var e=this._pointMarkers[t.id];e&&(e.destroy(),delete this._pointMarkers[t.id])},a.prototype.setVisible=function(t){this._layer.setVisible(t)},a.prototype.destroy=function(){this._peaks.off("points.update",this._onPointsUpdate),this._peaks.off("points.add",this._onPointsAdd),this._peaks.off("points.remove",this._onPointsRemove),this._peaks.off("points.remove_all",this._onPointsRemoveAll),this._peaks.off("points.dragstart",this._onPointsDrag),this._peaks.off("points.dragmove",this._onPointsDrag),this._peaks.off("points.dragend",this._onPointsDrag)},a.prototype.fitToView=function(){for(var t in this._pointMarkers)e.objectHasProperty(this._pointMarkers,t)&&this._pointMarkers[t].fitToView()},a.prototype.draw=function(){this._layer.draw()},a}(t("./point-marker"),t("./utils"),t("konva"))},{"./point-marker":80,"./utils":87,konva:42}],83:[function(t,e,n){e.exports=function(t){"use strict";function e(e){this._segment=e.segment,this._marker=e.marker,this._segmentShape=e.segmentShape,this._draggable=e.draggable,this._layer=e.layer,this._startMarker=e.startMarker,this._onDrag=e.onDrag,this._onDragStart=e.onDragStart,this._onDragEnd=e.onDragEnd,this._dragBoundFunc=this._dragBoundFunc.bind(this),this._group=new t.Group({draggable:this._draggable,dragBoundFunc:this._dragBoundFunc}),this._bindDefaultEventHandlers(),this._marker.init(this._group)}return e.prototype._bindDefaultEventHandlers=function(){var t=this;t._draggable&&(t._group.on("dragmove",(function(){t._onDrag(t)})),t._group.on("dragstart",(function(){t._onDragStart(t)})),t._group.on("dragend",(function(){t._onDragEnd(t)})))},e.prototype._dragBoundFunc=function(t){var e,n;return this._startMarker?(n=(e=this._segmentShape.getEndMarker()).getX()-e.getWidth(),t.x>n&&(t.x=n)):(n=(e=this._segmentShape.getStartMarker()).getX()+e.getWidth(),t.x<n&&(t.x=n)),{x:t.x,y:this._group.getAbsolutePosition().y}},e.prototype.addToLayer=function(t){t.add(this._group)},e.prototype.fitToView=function(){this._marker.fitToView()},e.prototype.getSegment=function(){return this._segment},e.prototype.getX=function(){return this._group.getX()},e.prototype.getWidth=function(){return this._group.getWidth()},e.prototype.isStartMarker=function(){return this._startMarker},e.prototype.setX=function(t){this._group.setX(t)},e.prototype.timeUpdated=function(t){this._marker.timeUpdated&&this._marker.timeUpdated(t)},e.prototype.destroy=function(){this._marker.destroy&&this._marker.destroy(),this._group.destroyChildren(),this._group.destroy()},e}(t("konva"))},{konva:42}],84:[function(t,e,n){e.exports=function(t,e){"use strict";var n="sans-serif",r=10,i="normal";function o(t,n,r,i){this._segment=t,this._peaks=n,this._layer=r,this._view=i,this._waveformShape=null,this._label=null,this._startMarker=null,this._endMarker=null,this._waveformShape=new e({color:t.color,view:i,segment:t}),this._onMouseEnter=this._onMouseEnter.bind(this),this._onMouseLeave=this._onMouseLeave.bind(this),this._onClick=this._onClick.bind(this),this._waveformShape.on("mouseenter",this._onMouseEnter),this._waveformShape.on("mouseleave",this._onMouseLeave),this._waveformShape.on("click",this._onClick),this._onSegmentHandleDrag=this._onSegmentHandleDrag.bind(this),this._onSegmentHandleDragStart=this._onSegmentHandleDragStart.bind(this),this._onSegmentHandleDragEnd=this._onSegmentHandleDragEnd.bind(this),this._label=this._peaks.options.createSegmentLabel({segment:t,view:this._view.getName(),layer:this._layer,fontFamily:this._peaks.options.fontFamily,fontSize:this._peaks.options.fontSize,fontStyle:this._peaks.options.fontStyle}),this._label&&this._label.hide(),this._createMarkers()}return o.prototype.getSegment=function(){return this._segment},o.prototype.getStartMarker=function(){return this._startMarker},o.prototype.getEndMarker=function(){return this._endMarker},o.prototype.addToLayer=function(t){t.add(this._waveformShape),this._label&&t.add(this._label),this._startMarker&&this._startMarker.addToLayer(t),this._endMarker&&this._endMarker.addToLayer(t)},o.prototype._createMarkers=function(){var e=this._layer.isEditingEnabled()&&this._segment.editable;if(e){var o=this._peaks.options.createSegmentMarker({segment:this._segment,draggable:e,startMarker:!0,color:this._peaks.options.segmentStartMarkerColor,fontFamily:this._peaks.options.fontFamily||n,fontSize:this._peaks.options.fontSize||r,fontStyle:this._peaks.options.fontStyle||i,layer:this._layer,view:this._view.getName()});o&&(this._startMarker=new t({segment:this._segment,segmentShape:this,draggable:e,startMarker:!0,marker:o,onDrag:this._onSegmentHandleDrag,onDragStart:this._onSegmentHandleDragStart,onDragEnd:this._onSegmentHandleDragEnd}));var a=this._peaks.options.createSegmentMarker({segment:this._segment,draggable:e,startMarker:!1,color:this._peaks.options.segmentEndMarkerColor,fontFamily:this._peaks.options.fontFamily||n,fontSize:this._peaks.options.fontSize||r,fontStyle:this._peaks.options.fontStyle||i,layer:this._layer,view:this._view.getName()});a&&(this._endMarker=new t({segment:this._segment,segmentShape:this,draggable:e,startMarker:!1,marker:a,onDrag:this._onSegmentHandleDrag,onDragStart:this._onSegmentHandleDragStart,onDragEnd:this._onSegmentHandleDragEnd}))}},o.prototype._onMouseEnter=function(){this._label&&(this._label.show(),this._layer.draw()),this._peaks.emit("segments.mouseenter",this._segment)},o.prototype._onMouseLeave=function(){this._label&&(this._label.hide(),this._layer.draw()),this._peaks.emit("segments.mouseleave",this._segment)},o.prototype._onClick=function(){this._peaks.emit("segments.click",this._segment)},o.prototype._onSegmentHandleDrag=function(t){var e=this._view.getFrameOffset(),n=this._view.getWidth(),r=t.isStartMarker(),i=this._startMarker.getX(),o=this._endMarker.getX();if(r&&i>=0){var a=e+i+this._startMarker.getWidth();this._segment._setStartTime(this._view.pixelsToTime(a)),t.timeUpdated(this._segment.startTime)}if(!r&&o<n){var s=e+o;this._segment._setEndTime(this._view.pixelsToTime(s)),t.timeUpdated(this._segment.endTime)}this._peaks.emit("segments.dragged",this._segment,r)},o.prototype._onSegmentHandleDragStart=function(t){var e=t.isStartMarker();this._peaks.emit("segments.dragstart",this._segment,e)},o.prototype._onSegmentHandleDragEnd=function(t){var e=t.isStartMarker();this._peaks.emit("segments.dragend",this._segment,e)},o.prototype.fitToView=function(){this._startMarker&&this._startMarker.fitToView(),this._endMarker&&this._endMarker.fitToView()},o.prototype.destroy=function(){this._waveformShape.destroy(),this._label&&this._label.destroy(),this._startMarker&&this._startMarker.destroy(),this._endMarker&&this._endMarker.destroy()},o}(t("./segment-marker"),t("./waveform-shape"))},{"./segment-marker":83,"./waveform-shape":94}],85:[function(t,e,n){e.exports=function(t){"use strict";var e=["peaks","id","startTime","endTime","labelText","color","editable"];function n(e,n){if(!t.isValidTime(e.startTime))throw new TypeError("peaks.segments."+n+": startTime should be a valid number");if(!t.isValidTime(e.endTime))throw new TypeError("peaks.segments."+n+": endTime should be a valid number");if(e.startTime<0)throw new RangeError("peaks.segments."+n+": startTime should not be negative");if(e.endTime<0)throw new RangeError("peaks.segments."+n+": endTime should not be negative");if(e.endTime<e.startTime)throw new RangeError("peaks.segments."+n+": endTime should not be less than startTime");if(t.isNullOrUndefined(e.labelText))e.labelText="";else if(!t.isString(e.labelText))throw new TypeError("peaks.segments."+n+": labelText must be a string");if(!t.isBoolean(e.editable))throw new TypeError("peaks.segments."+n+": editable must be true or false")}function r(t){n(t,"add()"),this._peaks=t.peaks,this._id=t.id,this._startTime=t.startTime,this._endTime=t.endTime,this._labelText=t.labelText,this._color=t.color,this._editable=t.editable,this._setUserData(t)}return r.prototype._setUserData=function(n){for(var r in n)t.objectHasProperty(n,r)&&-1===e.indexOf(r)&&(this[r]=n[r])},Object.defineProperties(r.prototype,{id:{enumerable:!0,get:function(){return this._id}},startTime:{enumerable:!0,get:function(){return this._startTime}},endTime:{enumerable:!0,get:function(){return this._endTime}},labelText:{enumerable:!0,get:function(){return this._labelText}},color:{enumerable:!0,get:function(){return this._color}},editable:{enumerable:!0,get:function(){return this._editable}}}),r.prototype.update=function(e){var r={startTime:this.startTime,endTime:this.endTime,labelText:this.labelText,color:this.color,editable:this.editable};t.extend(r,e),n(r,"update()"),this._startTime=r.startTime,this._endTime=r.endTime,this._labelText=r.labelText,this._color=r.color,this._editable=r.editable,this._setUserData(e),this._peaks.emit("segments.update",this)},r.prototype.isVisible=function(t,e){return this.startTime<e&&t<this.endTime},r.prototype._setStartTime=function(t){this._startTime=t},r.prototype._setEndTime=function(t){this._endTime=t},r}(t("./utils"))},{"./utils":87}],86:[function(t,e,n){e.exports=function(t,e,n){"use strict";function r(t,e,r){this._peaks=t,this._view=e,this._allowEditing=r,this._segmentShapes={},this._layer=new n.Layer,this._onSegmentsUpdate=this._onSegmentsUpdate.bind(this),this._onSegmentsAdd=this._onSegmentsAdd.bind(this),this._onSegmentsRemove=this._onSegmentsRemove.bind(this),this._onSegmentsRemoveAll=this._onSegmentsRemoveAll.bind(this),this._onSegmentsDragged=this._onSegmentsDragged.bind(this),this._peaks.on("segments.update",this._onSegmentsUpdate),this._peaks.on("segments.add",this._onSegmentsAdd),this._peaks.on("segments.remove",this._onSegmentsRemove),this._peaks.on("segments.remove_all",this._onSegmentsRemoveAll),this._peaks.on("segments.dragged",this._onSegmentsDragged)}return r.prototype.addToStage=function(t){t.add(this._layer)},r.prototype.enableEditing=function(t){this._allowEditing=t},r.prototype.isEditingEnabled=function(){return this._allowEditing},r.prototype.formatTime=function(t){return this._view.formatTime(t)},r.prototype._onSegmentsUpdate=function(t){var e=!1,n=this._segmentShapes[t.id],r=this._view.getFrameOffset(),i=this._view.getWidth(),o=this._view.pixelsToTime(r),a=this._view.pixelsToTime(r+i);n&&(this._removeSegment(t),e=!0),t.isVisible(o,a)&&(this._addSegmentShape(t),e=!0),e&&this.updateSegments(o,a)},r.prototype._onSegmentsAdd=function(t){var e=this,n=e._view.getFrameOffset(),r=e._view.getWidth(),i=e._view.pixelsToTime(n),o=e._view.pixelsToTime(n+r);t.forEach((function(t){t.isVisible(i,o)&&e._addSegmentShape(t)})),e.updateSegments(i,o)},r.prototype._onSegmentsRemove=function(t){var e=this;t.forEach((function(t){e._removeSegment(t)})),e._layer.draw()},r.prototype._onSegmentsRemoveAll=function(){this._layer.removeChildren(),this._segmentShapes={},this._layer.draw()},r.prototype._onSegmentsDragged=function(t){this._updateSegment(t),this._layer.draw()},r.prototype._createSegmentShape=function(e){return new t(e,this._peaks,this,this._view)},r.prototype._addSegmentShape=function(t){var e=this._createSegmentShape(t);return e.addToLayer(this._layer),this._segmentShapes[t.id]=e,e},r.prototype.updateSegments=function(t,e){var n=this._peaks.segments.find(t,e),r=n.length;n.forEach(this._updateSegment.bind(this)),(r+=this._removeInvisibleSegments(t,e))>0&&this._layer.draw()},r.prototype._updateSegment=function(t){var e=this._findOrAddSegmentShape(t),n=this._view.timeToPixels(t.startTime),r=this._view.timeToPixels(t.endTime),i=this._view.getFrameOffset(),o=n-i,a=r-i,s=e.getStartMarker();s&&s.setX(o-s.getWidth()),(s=e.getEndMarker())&&s.setX(a)},r.prototype._findOrAddSegmentShape=function(t){var e=this._segmentShapes[t.id];return e||(e=this._addSegmentShape(t)),e},r.prototype._removeInvisibleSegments=function(t,n){var r=0;for(var i in this._segmentShapes)if(e.objectHasProperty(this._segmentShapes,i)){var o=this._segmentShapes[i].getSegment();o.isVisible(t,n)||(this._removeSegment(o),r++)}return r},r.prototype._removeSegment=function(t){var e=this._segmentShapes[t.id];e&&(e.destroy(),delete this._segmentShapes[t.id])},r.prototype.setVisible=function(t){this._layer.setVisible(t)},r.prototype.draw=function(){this._layer.draw()},r.prototype.destroy=function(){this._peaks.off("segments.update",this._onSegmentsUpdate),this._peaks.off("segments.add",this._onSegmentsAdd),this._peaks.off("segments.remove",this._onSegmentsRemove),this._peaks.off("segments.remove_all",this._onSegmentsRemoveAll),this._peaks.off("segments.dragged",this._onSegmentsDragged)},r.prototype.fitToView=function(){for(var t in this._segmentShapes)e.objectHasProperty(this._segmentShapes,t)&&this._segmentShapes[t].fitToView()},r.prototype.draw=function(){this._layer.draw()},r.prototype.getHeight=function(){return this._layer.getHeight()},r}(t("./segment-shape"),t("./utils"),t("konva"))},{"./segment-shape":84,"./utils":87,konva:42}],87:[function(t,e,n){e.exports=function(){"use strict";function t(t,e){for(t=t.toString();t.length<e;)t="0"+t;return t}return"function"!==typeof Number.isFinite&&(Number.isFinite=function(t){return"number"===typeof t&&t===t&&t!==1/0&&t!==-1/0}),{formatTime:function(e,n){var r=[],i=Math.floor(e%1*Math.pow(10,n)),o=Math.floor(e),a=Math.floor(o/60),s=Math.floor(a/60);s>0&&r.push(s),r.push(a%60),r.push(o%60);for(var l=0;l<r.length;l++)r[l]=t(r[l],2);return r=r.join(":"),n>0&&(r+="."+t(i,n)),r},roundUpToNearest:function(t,e){if(0===e)return 0;var n=1;return t<0&&(n=-1,t=-t),n*((Math.ceil(t)+e-1)/e|0)*e},clamp:function(t,e,n){return t<e?e:t>n?n:t},extend:function(t,e){for(var n in e)this.objectHasProperty(e,n)&&(t[n]=e[n]);return t},isInAscendingOrder:function(t){if(0===t.length)return!0;for(var e=t[0],n=1;n<t.length;n++){if(e>=t[n])return!1;e=t[n]}return!0},isNumber:function(t){return"number"===typeof t},isValidTime:function(t){return"number"===typeof t&&Number.isFinite(t)},isObject:function(t){return null!==t&&"object"===typeof t&&!Array.isArray(t)},isString:function(t){return"string"===typeof t},isArrayBuffer:function(t){return Object.prototype.toString.call(t).includes("ArrayBuffer")},isNullOrUndefined:function(t){return void 0===t||null===t},isFunction:function(t){return"function"===typeof t},isBoolean:function(t){return!0===t||!1===t},isHTMLElement:function(t){return t instanceof HTMLElement},objectHasProperty:function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}}()},{}],88:[function(t,e,n){e.exports=function(t,e,n){"use strict";function r(t){this._peaks=t,this._overview=null,this._zoomview=null}return r.prototype.createOverview=function(e){if(this._overview)return this._overview;var n=this._peaks.getWaveformData();return this._overview=new t(n,e,this._peaks),this._zoomview&&this._overview.showHighlight(this._zoomview.getStartTime(),this._zoomview.getEndTime()),this._overview},r.prototype.createZoomview=function(t){if(this._zoomview)return this._zoomview;var n=this._peaks.getWaveformData();return this._zoomview=new e(n,t,this._peaks),this._zoomview},r.prototype.destroyOverview=function(){this._overview&&this._zoomview&&(this._overview.destroy(),this._overview=null)},r.prototype.destroyZoomview=function(){this._zoomview&&this._overview&&(this._zoomview.destroy(),this._zoomview=null,this._overview.removeHighlightRect())},r.prototype.destroy=function(){this._overview&&(this._overview.destroy(),this._overview=null),this._zoomview&&(this._zoomview.destroy(),this._zoomview=null)},r.prototype.getView=function(t){if(n.isNullOrUndefined(t))return this._overview&&this._zoomview?null:this._overview?this._overview:this._zoomview?this._zoomview:null;switch(t){case"overview":return this._overview;case"zoomview":return this._zoomview;default:return null}},r}(t("./waveform-overview"),t("./waveform-zoomview"),t("./utils"))},{"./utils":87,"./waveform-overview":91,"./waveform-zoomview":95}],89:[function(t,e,n){e.exports=function(t,e){"use strict";function n(t,r){var i=this;i._axisGridlineColor=r.axisGridlineColor,i._axisLabelColor=r.axisLabelColor,i._axisLabelFont=n._buildFontString(r.axisLabelFontFamily,r.axisLabelFontSize,r.axisLabelFontStyle),i._axisShape=new e.Shape({sceneFunc:function(e){i.drawAxis(e,t)}})}return n._buildFontString=function(t,e,n){return e||(e=11),t||(t="sans-serif"),n||(n="normal"),n+" "+e+"px "+t},n.prototype.addToLayer=function(t){t.add(this._axisShape)},n.prototype.getAxisLabelScale=function(t){for(var e,n=1,r=[1,2,5,10,20,30],i=60,o=0;e=n*r[o],t.timeToPixels(e)<i;)++o===r.length&&(n*=60,o=0);return e},n.prototype.drawAxis=function(e,n){var r=n.pixelsToTime(n.getFrameOffset()),i=10,o=this.getAxisLabelScale(n),a=t.roundUpToNearest(r,o),s=a-r,l=n.timeToPixels(s);e.setAttr("strokeStyle",this._axisGridlineColor),e.setAttr("lineWidth",1),e.setAttr("font",this._axisLabelFont),e.setAttr("fillStyle",this._axisLabelColor),e.setAttr("textAlign","left"),e.setAttr("textBaseline","bottom");for(var u,h=a,c=n.getWidth(),d=n.getHeight();!((u=l+n.timeToPixels(h-a))>=c);){e.beginPath(),e.moveTo(u+.5,0),e.lineTo(u+.5,0+i),e.moveTo(u+.5,d),e.lineTo(u+.5,d-i),e.stroke();var f=t.formatTime(h,0),p=u-e.measureText(f).width/2,g=d-1-i;p>=0&&e.fillText(f,p,g),h+=o}},n}(t("./utils"),t("konva"))},{"./utils":87,konva:42}],90:[function(t,e,n){e.exports=function(t,e){"use strict";var n="withCredentials"in new XMLHttpRequest;function r(t){this._peaks=t}return r.prototype.init=function(t,e){if(!(t.dataUri&&(t.webAudio||t.audioContext)||t.waveformData&&(t.webAudio||t.audioContext)||t.dataUri&&t.waveformData))return t.audioContext&&(this._peaks.options.deprecationLogger("Peaks.init(): The audioContext option is deprecated, please pass a webAudio object instead"),t.webAudio={audioContext:t.audioContext}),t.dataUri?this._getRemoteWaveformData(t,e):t.waveformData?this._buildWaveformFromLocalData(t,e):t.webAudio?t.webAudio.audioBuffer?this._buildWaveformDataFromAudioBuffer(t,e):this._buildWaveformDataUsingWebAudio(t,e):void e(new Error("Peaks.init(): You must pass an audioContext, or dataUri, or waveformData to render waveform data"));e(new TypeError("Peaks.init(): You may only pass one source (webAudio, dataUri, or waveformData) to render waveform data."))},r.prototype._getRemoteWaveformData=function(n,r){var i,o=this,a=null,s=null;if(e.isObject(n.dataUri))a=n.dataUri;else{if(!e.isString(n.dataUri))return void r(new TypeError("Peaks.init(): The dataUri option must be an object"));(a={})[n.dataUriDefaultFormat||"json"]=n.dataUri}["ArrayBuffer","JSON"].some((function(t){if(window[t])return s=t.toLowerCase(),i=a[s],Boolean(i)})),i?o._createXHR(i,s,n.withCredentials,(function(e){if(4===this.readyState)if(200===this.status){var n=t.create(e.target.response);1===n.channels||2===n.channels?r(null,n):r(new Error("Peaks.init(): Only mono or stereo waveforms are currently supported"))}else r(new Error("Unable to fetch remote data. HTTP status "+this.status))}),(function(){r(new Error("XHR Failed"))})).send():r(new Error("Peaks.init(): Unable to determine a compatible dataUri format for this browser"))},r.prototype._buildWaveformFromLocalData=function(n,r){var i=null,o=null;if(e.isObject(n.waveformData))if(i=n.waveformData,e.isObject(i.json)?o=i.json:e.isArrayBuffer(i.arraybuffer)&&(o=i.arraybuffer),o)try{var a=t.create(o);if(1!==a.channels&&2!==a.channels)return void r(new Error("Peaks.init(): Only mono or stereo waveforms are currently supported"));r(null,a)}catch(s){r(s)}else r(new Error("Peaks.init(): Unable to determine a compatible waveformData format"));else r(new Error("Peaks.init(): The waveformData option must be an object"))},r.prototype._buildWaveformDataUsingWebAudio=function(t,e){var n=this,r=window.AudioContext||window.webkitAudioContext;if(t.webAudio.audioContext instanceof r){var i=t.webAudio;i.scale!==t.zoomLevels[0]&&(i.scale=t.zoomLevels[0]);var o=n._peaks.options.mediaElement.currentSrc;o?n._requestAudioAndBuildWaveformData(o,i,t.withCredentials,e):n._peaks.once("player.canplay",(function(){n._requestAudioAndBuildWaveformData(n._peaks.options.mediaElement.currentSrc,i,t.withCredentials,e)}))}else e(new TypeError("Peaks.init(): The webAudio.audioContext option must be a valid AudioContext"))},r.prototype._buildWaveformDataFromAudioBuffer=function(e,n){var r=e.webAudio;r.scale!==e.zoomLevels[0]&&(r.scale=e.zoomLevels[0]);var i={audio_buffer:r.audioBuffer,split_channels:r.multiChannel,scale:r.scale};t.createFromAudio(i,n)},r.prototype._requestAudioAndBuildWaveformData=function(e,n,r,i){var o=this;e?o._createXHR(e,"arraybuffer",r,(function(e){if(4===this.readyState)if(200===this.status){var r={audio_context:n.audioContext,array_buffer:e.target.response,split_channels:n.multiChannel,scale:n.scale};t.createFromAudio(r,i)}else i(new Error("Unable to fetch remote data. HTTP status "+this.status))}),(function(){i(new Error("XHR Failed"))})).send():o._peaks.logger("Peaks.init(): The mediaElement src is invalid")},r.prototype._createXHR=function(t,e,r,i,o){var a=new XMLHttpRequest;if(a.open("GET",t,!0),n)try{a.responseType=e}catch(s){}return a.onload=i,a.onerror=o,n&&r&&(a.withCredentials=!0),a},r}(t("waveform-data"),t("./utils"))},{"./utils":87,"waveform-data":67}],91:[function(t,e,n){e.exports=function(t,e,n,r,i,o,a,s,l){"use strict";function u(o,a,u){var h=this;if(h._originalWaveformData=o,h._container=a,h._peaks=u,h._onTimeUpdate=h._onTimeUpdate.bind(this),h._onPlay=h._onPlay.bind(this),h._onPause=h._onPause.bind(this),h._onZoomviewDisplaying=h._onZoomviewDisplaying.bind(this),h._onWindowResize=h._onWindowResize.bind(this),u.on("player.timeupdate",h._onTimeUpdate),u.on("player.play",h._onPlay),u.on("player.pause",h._onPause),u.on("zoomview.displaying",h._onZoomviewDisplaying),u.on("window_resize",h._onWindowResize),h._amplitudeScale=1,h._timeLabelPrecision=u.options.timeLabelPrecision,h._options=u.options,h._width=a.clientWidth,h._height=a.clientHeight||h._options.height,h._data=o,0!==h._width)try{h._data=o.resample({width:h._width})}catch(d){}l.showWarnings=!1,h._resizeTimeoutId=null,h._stage=new l.Stage({container:a,width:h._width,height:h._height}),h._waveformLayer=new l.FastLayer,h._createWaveform(),h._segmentsLayer=new i(u,h,!1),h._segmentsLayer.addToStage(h._stage),h._pointsLayer=new r(u,h,!1),h._pointsLayer.addToStage(h._stage),h._highlightLayer=new t(h,h._options.overviewHighlightOffset,h._options.overviewHighlightColor),h._highlightLayer.addToStage(h._stage),h._createAxisLabels(),h._playheadLayer=new n({player:h._peaks.player,view:h,showPlayheadTime:!1,playheadColor:h._options.playheadColor,playheadTextColor:h._options.playheadTextColor,playheadFontFamily:h._options.fontFamily,playheadFontSize:h._options.fontSize,playheadFontStyle:h._options.fontStyle}),h._playheadLayer.addToStage(h._stage);var c=h._peaks.player.getCurrentTime();this._playheadLayer.updatePlayheadTime(c),h._mouseDragHandler=new e(h._stage,{onMouseDown:function(t){t=s.clamp(t,0,h._width);var e=h.pixelsToTime(t),n=h._getDuration();e>n&&(e=n),h._playheadLayer.updatePlayheadTime(e),u.player.seek(e)},onMouseMove:function(t){t=s.clamp(t,0,h._width);var e=h.pixelsToTime(t),n=h._getDuration();e>n&&(e=n),h._playheadLayer.updatePlayheadTime(e),h._peaks.player.seek(e)}}),this._stage.on("dblclick",(function(t){var e=t.evt.layerX,n=h.pixelsToTime(e);h._peaks.emit("overview.dblclick",n)}))}return u.prototype.getName=function(){return"overview"},u.prototype._onTimeUpdate=function(t){this._playheadLayer.updatePlayheadTime(t)},u.prototype._onPlay=function(t){this._playheadLayer.updatePlayheadTime(t)},u.prototype._onPause=function(t){this._playheadLayer.stop(t)},u.prototype._onZoomviewDisplaying=function(t,e){this.showHighlight(t,e)},u.prototype.showHighlight=function(t,e){this._highlightLayer.showHighlight(t,e)},u.prototype._onWindowResize=function(){var t=this;t._resizeTimeoutId&&(clearTimeout(t._resizeTimeoutId),t._resizeTimeoutId=null),0!==t._container.clientWidth&&(t._width=t._container.clientWidth,t._stage.setWidth(t._width),t._resizeTimeoutId=setTimeout((function(){t._width=t._container.clientWidth,t._data=t._originalWaveformData.resample({width:t._width}),t._stage.setWidth(t._width),t._updateWaveform()}),500))},u.prototype.setWaveformData=function(t){this._originalWaveformData=t,0!==this._width?this._data=t.resample({width:this._width}):this._data=t,this._updateWaveform()},u.prototype.timeToPixels=function(t){return Math.floor(t*this._data.sample_rate/this._data.scale)},u.prototype.pixelsToTime=function(t){return t*this._data.scale/this._data.sample_rate},u.prototype.getFrameOffset=function(){return 0},u.prototype.getWidth=function(){return this._width},u.prototype.getHeight=function(){return this._height},u.prototype._getDuration=function(){return this._peaks.player.getDuration()},u.prototype.setAmplitudeScale=function(t){if(!s.isNumber(t)||!Number.isFinite(t))throw new Error("view.setAmplitudeScale(): Scale must be a valid number");this._amplitudeScale=t,this._waveformLayer.draw(),this._segmentsLayer.draw()},u.prototype.getAmplitudeScale=function(){return this._amplitudeScale},u.prototype.getWaveformData=function(){return this._data},u.prototype._createWaveform=function(){this._waveformShape=new a({color:this._options.overviewWaveformColor,view:this}),this._waveformLayer.add(this._waveformShape),this._stage.add(this._waveformLayer)},u.prototype._createAxisLabels=function(){this._axisLayer=new l.FastLayer,this._axis=new o(this,{axisGridlineColor:this._options.axisGridlineColor,axisLabelColor:this._options.axisLabelColor,axisLabelFontFamily:this._options.fontFamily,axisLabelFontSize:this._options.fontSize,axisLabelFontStyle:this._options.fontStyle}),this._axis.addToLayer(this._axisLayer),this._stage.add(this._axisLayer)},u.prototype.removeHighlightRect=function(){this._highlightLayer.removeHighlight()},u.prototype._updateWaveform=function(){this._waveformLayer.draw(),this._axisLayer.draw();var t=this._peaks.player.getCurrentTime();this._playheadLayer.updatePlayheadTime(t),this._highlightLayer.updateHighlight();var e=0,n=this.pixelsToTime(this._width);this._pointsLayer.updatePoints(e,n),this._segmentsLayer.updateSegments(e,n)},u.prototype.setWaveformColor=function(t){this._waveformShape.setWaveformColor(t),this._waveformLayer.draw()},u.prototype.showPlayheadTime=function(t){this._playheadLayer.showPlayheadTime(t)},u.prototype.setTimeLabelPrecision=function(t){this._timeLabelPrecision=t,this._playheadLayer.updatePlayheadText()},u.prototype.formatTime=function(t){return s.formatTime(t,this._timeLabelPrecision)},u.prototype.enableAutoScroll=function(){},u.prototype.enableMarkerEditing=function(t){this._segmentsLayer.enableEditing(t),this._pointsLayer.enableEditing(t)},u.prototype.fitToContainer=function(){if(0!==this._container.clientWidth||0!==this._container.clientHeight){var t=!1;if(this._container.clientWidth!==this._width){this._width=this._container.clientWidth,this._stage.setWidth(this._width);try{this._data=this._originalWaveformData.resample({width:this._width}),t=!0}catch(e){}}this._height=this._container.clientHeight,this._stage.setHeight(this._height),this._playheadLayer.fitToView(),this._segmentsLayer.fitToView(),this._pointsLayer.fitToView(),this._highlightLayer.fitToView(),t&&this._updateWaveform(),this._stage.draw()}},u.prototype.destroy=function(){this._resizeTimeoutId&&(clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=null),this._peaks.off("player.play",this._onPlay),this._peaks.off("player.pause",this._onPause),this._peaks.off("player.timeupdate",this._onTimeUpdate),this._peaks.off("zoomview.displaying",this._onZoomviewDisplaying),this._peaks.off("window_resize",this._onWindowResize),this._playheadLayer.destroy(),this._segmentsLayer.destroy(),this._pointsLayer.destroy(),this._stage&&(this._stage.destroy(),this._stage=null)},u}(t("./highlight-layer"),t("./mouse-drag-handler"),t("./playhead-layer"),t("./points-layer"),t("./segments-layer"),t("./waveform-axis"),t("./waveform-shape"),t("./utils"),t("konva"))},{"./highlight-layer":72,"./mouse-drag-handler":77,"./playhead-layer":79,"./points-layer":82,"./segments-layer":86,"./utils":87,"./waveform-axis":89,"./waveform-shape":94,konva:42}],92:[function(t,e,n){e.exports=function(t,e){"use strict";function n(t){this._peaks=t,this._points=[],this._pointsById={},this._pointIdCounter=0}return n.prototype._getNextPointId=function(){return"peaks.point."+this._pointIdCounter++},n.prototype._addPoint=function(t){this._points.push(t),this._pointsById[t.id]=t},n.prototype._createPoint=function(n){var r={peaks:this._peaks};return e.extend(r,n),e.isNullOrUndefined(r.id)&&(r.id=this._getNextPointId()),e.isNullOrUndefined(r.labelText)&&(r.labelText=""),e.isNullOrUndefined(r.editable)&&(r.editable=!1),new t(r)},n.prototype.getPoints=function(){return this._points},n.prototype.getPoint=function(t){return this._pointsById[t]||null},n.prototype.find=function(t,e){return this._points.filter((function(n){return n.isVisible(t,e)}))},n.prototype.add=function(){var t=this,n=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);(n=n.map((function(n){var r=t._createPoint(n);if(e.objectHasProperty(t._pointsById,r.id))throw new Error("peaks.points.add(): duplicate id");return r}))).forEach((function(e){t._addPoint(e)})),this._peaks.emit("points.add",n)},n.prototype._findPoint=function(t){for(var e=[],n=0,r=this._points.length;n<r;n++)t(this._points[n])&&e.push(n);return e},n.prototype._removeIndexes=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n]-e.length,i=this._points.splice(r,1)[0];delete this._pointsById[i.id],e.push(i)}return e},n.prototype._removePoints=function(t){var e=this._findPoint(t),n=this._removeIndexes(e);return this._peaks.emit("points.remove",n),n},n.prototype.remove=function(t){return this._removePoints((function(e){return e===t}))},n.prototype.removeById=function(t){return this._removePoints((function(e){return e.id===t}))},n.prototype.removeByTime=function(t){return this._removePoints((function(e){return e.time===t}))},n.prototype.removeAll=function(){this._points=[],this._pointsById={},this._peaks.emit("points.remove_all")},n}(t("./point"),t("./utils"))},{"./point":81,"./utils":87}],93:[function(t,e,n){e.exports=function(t,e,n){"use strict";function r(t){this._peaks=t,this._segments=[],this._segmentsById={},this._segmentIdCounter=0,this._colorIndex=0}r.prototype._getNextSegmentId=function(){return"peaks.segment."+this._segmentIdCounter++};var i=[t.navy,t.blue,t.aqua,t.teal,t.yellow,t.orange,t.red,t.maroon,t.fuchsia,t.purple];return r.prototype._getSegmentColor=function(){return this._peaks.options.randomizeSegmentColor?(++this._colorIndex===i.length&&(this._colorIndex=0),i[this._colorIndex]):this._peaks.options.segmentColor},r.prototype._addSegment=function(t){this._segments.push(t),this._segmentsById[t.id]=t},r.prototype._createSegment=function(t){if(!n.isObject(t))throw new TypeError("peaks.segments.add(): expected a Segment object parameter");var r={peaks:this._peaks};return n.extend(r,t),n.isNullOrUndefined(r.id)&&(r.id=this._getNextSegmentId()),n.isNullOrUndefined(r.color)&&(r.color=this._getSegmentColor()),n.isNullOrUndefined(r.labelText)&&(r.labelText=""),n.isNullOrUndefined(r.editable)&&(r.editable=!1),new e(r)},r.prototype.getSegments=function(){return this._segments},r.prototype.getSegment=function(t){return this._segmentsById[t]||null},r.prototype.getSegmentsAtTime=function(t){return this._segments.filter((function(e){return t>=e.startTime&&t<e.endTime}))},r.prototype.find=function(t,e){return this._segments.filter((function(n){return n.isVisible(t,e)}))},r.prototype.add=function(){var t=this,e=Array.isArray(arguments[0])?arguments[0]:Array.prototype.slice.call(arguments);(e=e.map((function(e){var r=t._createSegment(e);if(n.objectHasProperty(t._segmentsById,r.id))throw new Error("peaks.segments.add(): duplicate id");return r}))).forEach((function(e){t._addSegment(e)})),this._peaks.emit("segments.add",e)},r.prototype._findSegment=function(t){for(var e=[],n=0,r=this._segments.length;n<r;n++)t(this._segments[n])&&e.push(n);return e},r.prototype._removeIndexes=function(t){for(var e=[],n=0;n<t.length;n++){var r=t[n]-e.length,i=this._segments.splice(r,1)[0];delete this._segmentsById[i.id],e.push(i)}return e},r.prototype._removeSegments=function(t){var e=this._findSegment(t),n=this._removeIndexes(e);return this._peaks.emit("segments.remove",n),n},r.prototype.remove=function(t){return this._removeSegments((function(e){return e===t}))},r.prototype.removeById=function(t){return this._removeSegments((function(e){return e.id===t}))},r.prototype.removeByTime=function(t,e){var n;return n=(e="number"===typeof e?e:0)>0?function(n){return n.startTime===t&&n.endTime===e}:function(e){return e.startTime===t},this._removeSegments(n)},r.prototype.removeAll=function(){this._segments=[],this._segmentsById={},this._peaks.emit("segments.remove_all")},r}(t("colors.css"),t("./segment"),t("./utils"))},{"./segment":85,"./utils":87,"colors.css":1}],94:[function(t,e,n){e.exports=function(t,e){"use strict";function n(t){e.Shape.call(this,{fill:t.color}),this._view=t.view,this._segment=t.segment,this.sceneFunc(this._sceneFunc),this.hitFunc(this._waveformShapeHitFunc)}return n.prototype=Object.create(e.Shape.prototype),n.prototype.setWaveformColor=function(t){this.fill(t)},n.prototype._sceneFunc=function(t){var e=this._view.getFrameOffset(),n=this._view.getWidth(),r=this._view.getHeight();this._drawWaveform(t,this._view.getWaveformData(),e,this._segment?this._view.timeToPixels(this._segment.startTime):e,this._segment?this._view.timeToPixels(this._segment.endTime):e+n,n,r)},n.prototype._drawWaveform=function(t,e,n,r,i,o,a){r<n&&(r=n);var s=n+o;i>s&&(i=s),i>e.length&&(i=e.length);for(var l=e.channels,u=0,h=Math.floor(a/l),c=0;c<l;c++)c===l-1&&(h=a-(l-1)*h),this._drawChannel(t,e.channel(c),n,r,i,u,h),u+=h},n.prototype._drawChannel=function(t,e,r,i,o,a,s){var l,u,h,c,d=this._view.getAmplitudeScale();for(t.beginPath(),l=i;l<o;l++)u=e.min_sample(l),h=l-r+.5,c=a+n.scaleY(u,s,d)+.5,t.lineTo(h,c);for(l=o-1;l>=i;l--)u=e.max_sample(l),h=l-r+.5,c=a+n.scaleY(u,s,d)+.5,t.lineTo(h,c);t.closePath(),t.fillShape(this)},n.prototype._waveformShapeHitFunc=function(t){if(this._segment){var e=this._view.getFrameOffset(),n=this._view.getWidth(),r=this._view.getHeight(),i=this._view.timeToPixels(this._segment.startTime),o=10,a=r-2*o;a<0&&(a=0);var s=i-e,l=this._view.timeToPixels(this._segment.endTime)-i;s<0&&(l-=-s,s=0),s+l>n&&(l-=s+l-n),t.beginPath(),t.rect(s,o,l,a),t.closePath(),t.fillStrokeShape(this)}},n.scaleY=function(e,n,r){var i=-(n-1)*(e*r+128)/255+(n-1);return t.clamp(Math.floor(i),0,n-1)},n}(t("./utils"),t("konva"))},{"./utils":87,konva:42}],95:[function(t,e,n){e.exports=function(t,e,n,r,i,o,a,s){"use strict";function l(i,o,l){var u=this;u._originalWaveformData=i,u._container=o,u._peaks=l,u._onTimeUpdate=u._onTimeUpdate.bind(u),u._onPlay=u._onPlay.bind(u),u._onPause=u._onPause.bind(u),u._onWindowResize=u._onWindowResize.bind(u),u._onKeyboardLeft=u._onKeyboardLeft.bind(u),u._onKeyboardRight=u._onKeyboardRight.bind(u),u._onKeyboardShiftLeft=u._onKeyboardShiftLeft.bind(u),u._onKeyboardShiftRight=u._onKeyboardShiftRight.bind(u),u._peaks.on("player.timeupdate",u._onTimeUpdate),u._peaks.on("player.play",u._onPlay),u._peaks.on("player.pause",u._onPause),u._peaks.on("window_resize",u._onWindowResize),u._peaks.on("keyboard.left",u._onKeyboardLeft),u._peaks.on("keyboard.right",u._onKeyboardRight),u._peaks.on("keyboard.shift_left",u._onKeyboardShiftLeft),u._peaks.on("keyboard.shift_right",u._onKeyboardShiftRight),u._enableAutoScroll=!0,u._amplitudeScale=1,u._timeLabelPrecision=l.options.timeLabelPrecision,u._options=l.options,u._data=null,u._pixelLength=0;var h=u._options.zoomLevels[l.zoom.getZoom()];u._zoomLevelAuto=!1,u._zoomLevelSeconds=null,u._resizeTimeoutId=null,u._resampleData({scale:h}),u._width=o.clientWidth,u._height=o.clientHeight||u._options.height,u._frameOffset=0,u._stage=new s.Stage({container:o,width:u._width,height:u._height}),u._waveformLayer=new s.FastLayer,u._createWaveform(),u._segmentsLayer=new r(l,u,!0),u._segmentsLayer.addToStage(u._stage),u._pointsLayer=new n(l,u,!0),u._pointsLayer.addToStage(u._stage),u._createAxisLabels(),u._playheadLayer=new e({player:u._peaks.player,view:u,showPlayheadTime:u._options.showPlayheadTime,playheadColor:u._options.playheadColor,playheadTextColor:u._options.playheadTextColor,playheadFontFamily:u._options.fontFamily,playheadFontSize:u._options.fontSize,playheadFontStyle:u._options.fontStyle}),u._playheadLayer.addToStage(u._stage);var c=u._peaks.player.getCurrentTime();u._syncPlayhead(c),u._mouseDragHandler=new t(u._stage,{onMouseDown:function(t){this.initialFrameOffset=u._frameOffset,this.mouseDownX=t},onMouseMove:function(t){var e=this.mouseDownX-t,n=a.clamp(this.initialFrameOffset+e,0,u._pixelLength-u._width);n!==this.initialFrameOffset&&u._updateWaveform(n)},onMouseUp:function(){if(!u._mouseDragHandler.isDragging()){var t=Math.floor(this.mouseDownX),e=u._frameOffset+t,n=u.pixelsToTime(e),r=u._getDuration();n>r&&(n=r),u._playheadLayer.updatePlayheadTime(n),u._peaks.player.seek(n)}}}),this._stage.on("dblclick",(function(t){var e=t.evt.layerX,n=u._frameOffset+e,r=u.pixelsToTime(n);u._peaks.emit("zoomview.dblclick",r)}))}function u(t){return a.objectHasProperty(t,"scale")&&"auto"===t.scale||a.objectHasProperty(t,"seconds")&&"auto"===t.seconds}return l.prototype.getName=function(){return"zoomview"},l.prototype._onTimeUpdate=function(t){this._mouseDragHandler.isDragging()||this._syncPlayhead(t)},l.prototype._onPlay=function(t){this._playheadLayer.updatePlayheadTime(t)},l.prototype._onPause=function(t){this._playheadLayer.stop(t)},l.prototype._onWindowResize=function(){var t=this,e=t._container.clientWidth;t._zoomLevelAuto?(t._resizeTimeoutId&&(clearTimeout(t._resizeTimeoutId),t._resizeTimeoutId=null),0!==e&&(t._width=e,t._stage.width(e),t._resizeTimeoutId=setTimeout((function(){t._width=e,t._data=t._originalWaveformData.resample(e),t._stage.width(e),t._updateWaveform(t._frameOffset)}),500))):(t._width=e,t._stage.width(e),t._updateWaveform(t._frameOffset))},l.prototype._onKeyboardLeft=function(){this._keyboardScroll(-1,!1)},l.prototype._onKeyboardRight=function(){this._keyboardScroll(1,!1)},l.prototype._onKeyboardShiftLeft=function(){this._keyboardScroll(-1,!0)},l.prototype._onKeyboardShiftRight=function(){this._keyboardScroll(1,!0)},l.prototype._keyboardScroll=function(t,e){var n;n=e?t*this._width:t*this.timeToPixels(this._options.nudgeIncrement),this._updateWaveform(this._frameOffset+n)},l.prototype.setWaveformData=function(t){this._originalWaveformData=t},l.prototype._syncPlayhead=function(t){if(this._playheadLayer.updatePlayheadTime(t),this._enableAutoScroll){var e=this.timeToPixels(t);(e>=this._frameOffset+this._width-100||e<this._frameOffset)&&(this._frameOffset=e-100,this._frameOffset<0&&(this._frameOffset=0),this._updateWaveform(this._frameOffset))}},l.prototype._getScale=function(t){return t*this._data.sample_rate/this._width},l.prototype.setZoom=function(t){var e;if(u(t)){var n=this._peaks.player.getDuration();if(!a.isValidTime(n))return!1;this._zoomLevelAuto=!0,this._zoomLevelSeconds=null,e=this._getScale(n)}else{if(a.objectHasProperty(t,"scale"))this._zoomLevelSeconds=null,e=t.scale;else if(a.objectHasProperty(t,"seconds")){if(!a.isValidTime(t.seconds))return!1;this._zoomLevelSeconds=t.seconds,e=this._getScale(t.seconds)}this._zoomLevelAuto=!1}e<this._originalWaveformData.scale&&(this._peaks.logger("peaks.zoomview.setZoom(): zoom level must be at least "+this._originalWaveformData.scale),e=this._originalWaveformData.scale);var r,i=this._peaks.player.getCurrentTime(),o=this._playheadLayer.getPlayheadOffset();o>=0&&o<this._width?r=i:(o=this._width/2,r=this.pixelsToTime(this._frameOffset+o));var s=this._scale;this._resampleData({scale:e});var l=this.timeToPixels(r);return this._frameOffset=l-o,this._updateWaveform(this._frameOffset),this._playheadLayer.zoomLevelChanged(),this._playheadLayer.updatePlayheadTime(i),this._peaks.emit("zoom.update",e,s),!0},l.prototype._resampleData=function(t){this._data=this._originalWaveformData.resample(t),this._scale=this._data.scale,this._pixelLength=this._data.length},l.prototype.getStartTime=function(){return this.pixelsToTime(this._frameOffset)},l.prototype.getEndTime=function(){return this.pixelsToTime(this._frameOffset+this._width)},l.prototype.setStartTime=function(t){t<0&&(t=0),this._zoomLevelAuto&&(t=0),this._updateWaveform(this.timeToPixels(t))},l.prototype.timeToPixels=function(t){return Math.floor(t*this._data.sample_rate/this._data.scale)},l.prototype.pixelsToTime=function(t){return t*this._data.scale/this._data.sample_rate},l.prototype.getFrameOffset=function(){return this._frameOffset},l.prototype.getWidth=function(){return this._width},l.prototype.getHeight=function(){return this._height},l.prototype._getDuration=function(){return this._peaks.player.getDuration()},l.prototype.setAmplitudeScale=function(t){if(!a.isNumber(t)||!Number.isFinite(t))throw new Error("view.setAmplitudeScale(): Scale must be a valid number");this._amplitudeScale=t,this._waveformLayer.draw(),this._segmentsLayer.draw()},l.prototype.getAmplitudeScale=function(){return this._amplitudeScale},l.prototype.getWaveformData=function(){return this._data},l.prototype._createWaveform=function(){this._waveformShape=new o({color:this._options.zoomWaveformColor,view:this}),this._waveformLayer.add(this._waveformShape),this._stage.add(this._waveformLayer),this._peaks.emit("zoomview.displaying",0,this.pixelsToTime(this._width))},l.prototype._createAxisLabels=function(){this._axisLayer=new s.FastLayer,this._axis=new i(this,{axisGridlineColor:this._options.axisGridlineColor,axisLabelColor:this._options.axisLabelColor,axisLabelFontFamily:this._options.fontFamily,axisLabelFontSize:this._options.fontSize,axisLabelFontStyle:this._options.fontStyle}),this._axis.addToLayer(this._axisLayer),this._stage.add(this._axisLayer)},l.prototype._updateWaveform=function(t){var e;this._pixelLength<this._width?(t=0,e=this._width):e=this._pixelLength-this._width,t=a.clamp(t,0,e),this._frameOffset=t;var n=this._playheadLayer.getPlayheadPixel();this._playheadLayer.updatePlayheadTime(this.pixelsToTime(n)),this._waveformLayer.draw(),this._axisLayer.draw();var r=this.pixelsToTime(this._frameOffset),i=this.pixelsToTime(this._frameOffset+this._width);this._pointsLayer.updatePoints(r,i),this._segmentsLayer.updateSegments(r,i),this._peaks.emit("zoomview.displaying",r,i)},l.prototype.setWaveformColor=function(t){this._waveformShape.setWaveformColor(t),this._waveformLayer.draw()},l.prototype.showPlayheadTime=function(t){this._playheadLayer.showPlayheadTime(t)},l.prototype.setTimeLabelPrecision=function(t){this._timeLabelPrecision=t,this._playheadLayer.updatePlayheadText()},l.prototype.formatTime=function(t){return a.formatTime(t,this._timeLabelPrecision)},l.prototype.enableAutoScroll=function(t){this._enableAutoScroll=t},l.prototype.enableMarkerEditing=function(t){this._segmentsLayer.enableEditing(t),this._pointsLayer.enableEditing(t)},l.prototype.fitToContainer=function(){if(0!==this._container.clientWidth||0!==this._container.clientHeight){var t=!1;if(this._container.clientWidth!==this._width){this._width=this._container.clientWidth,this._stage.width(this._width);var e,n=!1;if(this._zoomLevelAuto?(n=!0,e={width:this._width}):null!==this._zoomLevelSeconds&&(n=!0,e={scale:this._getScale(this._zoomLevelSeconds)}),n)try{this._resampleData(e),t=!0}catch(r){}}this._height=this._container.clientHeight,this._stage.height(this._height),this._playheadLayer.fitToView(),this._segmentsLayer.fitToView(),this._pointsLayer.fitToView(),t&&this._updateWaveform(this._frameOffset),this._stage.draw()}},l.prototype.destroy=function(){this._resizeTimeoutId&&(clearTimeout(this._resizeTimeoutId),this._resizeTimeoutId=null),this._peaks.off("player.timeupdate",this._onTimeUpdate),this._peaks.off("player.play",this._onPlay),this._peaks.off("player.pause",this._onPause),this._peaks.off("window_resize",this._onWindowResize),this._peaks.off("keyboard.left",this._onKeyboardLeft),this._peaks.off("keyboard.right",this._onKeyboardRight),this._peaks.off("keyboard.shift_left",this._onKeyboardShiftLeft),this._peaks.off("keyboard.shift_right",this._onKeyboardShiftRight),this._playheadLayer.destroy(),this._segmentsLayer.destroy(),this._pointsLayer.destroy(),this._stage&&(this._stage.destroy(),this._stage=null)},l}(t("./mouse-drag-handler"),t("./playhead-layer"),t("./points-layer"),t("./segments-layer"),t("./waveform-axis"),t("./waveform-shape"),t("./utils"),t("konva"))},{"./mouse-drag-handler":77,"./playhead-layer":79,"./points-layer":82,"./segments-layer":86,"./utils":87,"./waveform-axis":89,"./waveform-shape":94,konva:42}],96:[function(t,e,n){e.exports=function(){"use strict";function t(t,e){this._peaks=t,this._zoomLevels=e,this._zoomLevelIndex=0}return t.prototype.setZoomLevels=function(t){this._zoomLevels=t,this.setZoom(0,!0)},t.prototype.zoomIn=function(){this.setZoom(this._zoomLevelIndex-1)},t.prototype.zoomOut=function(){this.setZoom(this._zoomLevelIndex+1)},t.prototype.setZoom=function(t,e){if(t>=this._zoomLevels.length&&(t=this._zoomLevels.length-1),t<0&&(t=0),e||t!==this._zoomLevelIndex){this._zoomLevelIndex=t;var n=this._peaks.views.getView("zoomview");n&&n.setZoom({scale:this._zoomLevels[t]})}},t.prototype.getZoom=function(){return this._zoomLevelIndex},t.prototype.getZoomLevel=function(){return this._zoomLevels[this._zoomLevelIndex]},t}()},{}]},{},[74])(74)}).call(this,n(18))},function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(6);var i=n(7);function o(t){return function(t){if(Array.isArray(t))return Object(r.a)(t)}(t)||function(t){if("undefined"!==typeof Symbol&&Symbol.iterator in Object(t))return Array.from(t)}(t)||Object(i.a)(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}},function(t,e,n){"use strict";n(8);var r=n(1),i=60103;if(e.Fragment=60107,"function"===typeof Symbol&&Symbol.for){var o=Symbol.for;i=o("react.element"),e.Fragment=o("react.fragment")}var a=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,s=Object.prototype.hasOwnProperty,l={key:!0,ref:!0,__self:!0,__source:!0};function u(t,e,n){var r,o={},u=null,h=null;for(r in void 0!==n&&(u=""+n),void 0!==e.key&&(u=""+e.key),void 0!==e.ref&&(h=e.ref),e)s.call(e,r)&&!l.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps)void 0===o[r]&&(o[r]=e[r]);return{$$typeof:i,type:t,key:u,ref:h,props:o,_owner:a.current}}e.jsx=u,e.jsxs=u},function(t,e,n){"use strict";var r=n(8),i=60103,o=60106;e.Fragment=60107,e.StrictMode=60108,e.Profiler=60114;var a=60109,s=60110,l=60112;e.Suspense=60113;var u=60115,h=60116;if("function"===typeof Symbol&&Symbol.for){var c=Symbol.for;i=c("react.element"),o=c("react.portal"),e.Fragment=c("react.fragment"),e.StrictMode=c("react.strict_mode"),e.Profiler=c("react.profiler"),a=c("react.provider"),s=c("react.context"),l=c("react.forward_ref"),e.Suspense=c("react.suspense"),u=c("react.memo"),h=c("react.lazy")}var d="function"===typeof Symbol&&Symbol.iterator;function f(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g={};function y(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}function m(){}function v(t,e,n){this.props=t,this.context=e,this.refs=g,this.updater=n||p}y.prototype.isReactComponent={},y.prototype.setState=function(t,e){if("object"!==typeof t&&"function"!==typeof t&&null!=t)throw Error(f(85));this.updater.enqueueSetState(this,t,e,"setState")},y.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},m.prototype=y.prototype;var _=v.prototype=new m;_.constructor=v,r(_,y.prototype),_.isPureReactComponent=!0;var b={current:null},w=Object.prototype.hasOwnProperty,S={key:!0,ref:!0,__self:!0,__source:!0};function x(t,e,n){var r,o={},a=null,s=null;if(null!=e)for(r in void 0!==e.ref&&(s=e.ref),void 0!==e.key&&(a=""+e.key),e)w.call(e,r)&&!S.hasOwnProperty(r)&&(o[r]=e[r]);var l=arguments.length-2;if(1===l)o.children=n;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];o.children=u}if(t&&t.defaultProps)for(r in l=t.defaultProps)void 0===o[r]&&(o[r]=l[r]);return{$$typeof:i,type:t,key:a,ref:s,props:o,_owner:b.current}}function k(t){return"object"===typeof t&&null!==t&&t.$$typeof===i}var C=/\/+/g;function P(t,e){return"object"===typeof t&&null!==t&&null!=t.key?function(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,(function(t){return e[t]}))}(""+t.key):e.toString(36)}function T(t,e,n,r,a){var s=typeof t;"undefined"!==s&&"boolean"!==s||(t=null);var l=!1;if(null===t)l=!0;else switch(s){case"string":case"number":l=!0;break;case"object":switch(t.$$typeof){case i:case o:l=!0}}if(l)return a=a(l=t),t=""===r?"."+P(l,0):r,Array.isArray(a)?(n="",null!=t&&(n=t.replace(C,"$&/")+"/"),T(a,e,n,"",(function(t){return t}))):null!=a&&(k(a)&&(a=function(t,e){return{$$typeof:i,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}(a,n+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+t)),e.push(a)),1;if(l=0,r=""===r?".":r+":",Array.isArray(t))for(var u=0;u<t.length;u++){var h=r+P(s=t[u],u);l+=T(s,e,n,h,a)}else if("function"===typeof(h=function(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=d&&t[d]||t["@@iterator"])?t:null}(t)))for(t=h.call(t),u=0;!(s=t.next()).done;)l+=T(s=s.value,e,n,h=r+P(s,u++),a);else if("object"===s)throw e=""+t,Error(f(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e));return l}function E(t,e,n){if(null==t)return t;var r=[],i=0;return T(t,r,"","",(function(t){return e.call(n,t,i++)})),r}function M(t){if(-1===t._status){var e=t._result;e=e(),t._status=0,t._result=e,e.then((function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)}),(function(e){0===t._status&&(t._status=2,t._result=e)}))}if(1===t._status)return t._result;throw t._result}var L={current:null};function F(){var t=L.current;if(null===t)throw Error(f(321));return t}var A={ReactCurrentDispatcher:L,ReactCurrentBatchConfig:{transition:0},ReactCurrentOwner:b,IsSomeRendererActing:{current:!1},assign:r};e.Children={map:E,forEach:function(t,e,n){E(t,(function(){e.apply(this,arguments)}),n)},count:function(t){var e=0;return E(t,(function(){e++})),e},toArray:function(t){return E(t,(function(t){return t}))||[]},only:function(t){if(!k(t))throw Error(f(143));return t}},e.Component=y,e.PureComponent=v,e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,e.cloneElement=function(t,e,n){if(null===t||void 0===t)throw Error(f(267,t));var o=r({},t.props),a=t.key,s=t.ref,l=t._owner;if(null!=e){if(void 0!==e.ref&&(s=e.ref,l=b.current),void 0!==e.key&&(a=""+e.key),t.type&&t.type.defaultProps)var u=t.type.defaultProps;for(h in e)w.call(e,h)&&!S.hasOwnProperty(h)&&(o[h]=void 0===e[h]&&void 0!==u?u[h]:e[h])}var h=arguments.length-2;if(1===h)o.children=n;else if(1<h){u=Array(h);for(var c=0;c<h;c++)u[c]=arguments[c+2];o.children=u}return{$$typeof:i,type:t.type,key:a,ref:s,props:o,_owner:l}},e.createContext=function(t,e){return void 0===e&&(e=null),(t={$$typeof:s,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null}).Provider={$$typeof:a,_context:t},t.Consumer=t},e.createElement=x,e.createFactory=function(t){var e=x.bind(null,t);return e.type=t,e},e.createRef=function(){return{current:null}},e.forwardRef=function(t){return{$$typeof:l,render:t}},e.isValidElement=k,e.lazy=function(t){return{$$typeof:h,_payload:{_status:-1,_result:t},_init:M}},e.memo=function(t,e){return{$$typeof:u,type:t,compare:void 0===e?null:e}},e.useCallback=function(t,e){return F().useCallback(t,e)},e.useContext=function(t,e){return F().useContext(t,e)},e.useDebugValue=function(){},e.useEffect=function(t,e){return F().useEffect(t,e)},e.useImperativeHandle=function(t,e,n){return F().useImperativeHandle(t,e,n)},e.useLayoutEffect=function(t,e){return F().useLayoutEffect(t,e)},e.useMemo=function(t,e){return F().useMemo(t,e)},e.useReducer=function(t,e,n){return F().useReducer(t,e,n)},e.useRef=function(t){return F().useRef(t)},e.useState=function(t){return F().useState(t)},e.version="17.0.1"},function(t,e,n){"use strict";var r=n(1),i=n(8),o=n(16);function a(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}if(!r)throw Error(a(227));var s=new Set,l={};function u(t,e){h(t,e),h(t+"Capture",e)}function h(t,e){for(l[t]=e,t=0;t<e.length;t++)s.add(e[t])}var c=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f=Object.prototype.hasOwnProperty,p={},g={};function y(t,e,n,r,i,o,a){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(t){m[t]=new y(t,0,!1,t,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(t){var e=t[0];m[e]=new y(e,1,!1,t[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(t){m[t]=new y(t,2,!1,t.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(t){m[t]=new y(t,2,!1,t,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(t){m[t]=new y(t,3,!1,t.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(t){m[t]=new y(t,3,!0,t,null,!1,!1)})),["capture","download"].forEach((function(t){m[t]=new y(t,4,!1,t,null,!1,!1)})),["cols","rows","size","span"].forEach((function(t){m[t]=new y(t,6,!1,t,null,!1,!1)})),["rowSpan","start"].forEach((function(t){m[t]=new y(t,5,!1,t.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function _(t){return t[1].toUpperCase()}function b(t,e,n,r){var i=m.hasOwnProperty(e)?m[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(function(t,e,n,r){if(null===e||"undefined"===typeof e||function(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}(e,n,i,r)&&(n=null),r||null===i?function(t){return!!f.call(g,t)||!f.call(p,t)&&(d.test(t)?g[t]=!0:(p[t]=!0,!1))}(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(t){var e=t.replace(v,_);m[e]=new y(e,1,!1,t,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(t){var e=t.replace(v,_);m[e]=new y(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(t){var e=t.replace(v,_);m[e]=new y(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(t){m[t]=new y(t,1,!1,t.toLowerCase(),null,!1,!1)})),m.xlinkHref=new y("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(t){m[t]=new y(t,1,!1,t.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,S=60103,x=60106,k=60107,C=60108,P=60114,T=60109,E=60110,M=60112,L=60113,F=60120,A=60115,O=60116,D=60121,N=60128,R=60129,U=60130,I=60131;if("function"===typeof Symbol&&Symbol.for){var z=Symbol.for;S=z("react.element"),x=z("react.portal"),k=z("react.fragment"),C=z("react.strict_mode"),P=z("react.profiler"),T=z("react.provider"),E=z("react.context"),M=z("react.forward_ref"),L=z("react.suspense"),F=z("react.suspense_list"),A=z("react.memo"),O=z("react.lazy"),D=z("react.block"),z("react.scope"),N=z("react.opaque.id"),R=z("react.debug_trace_mode"),U=z("react.offscreen"),I=z("react.legacy_hidden")}var G,V="function"===typeof Symbol&&Symbol.iterator;function j(t){return null===t||"object"!==typeof t?null:"function"===typeof(t=V&&t[V]||t["@@iterator"])?t:null}function H(t){if(void 0===G)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);G=e&&e[1]||""}return"\n"+G+t}var W=!1;function B(t,e){if(!t||W)return"";W=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(e,[])}catch(l){var r=l}Reflect.construct(t,[],e)}else{try{e.call()}catch(l){r=l}t.call(e.prototype)}else{try{throw Error()}catch(l){r=l}t()}}catch(l){if(l&&r&&"string"===typeof l.stack){for(var i=l.stack.split("\n"),o=r.stack.split("\n"),a=i.length-1,s=o.length-1;1<=a&&0<=s&&i[a]!==o[s];)s--;for(;1<=a&&0<=s;a--,s--)if(i[a]!==o[s]){if(1!==a||1!==s)do{if(a--,0>--s||i[a]!==o[s])return"\n"+i[a].replace(" at new "," at ")}while(1<=a&&0<=s);break}}}finally{W=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?H(t):""}function K(t){switch(t.tag){case 5:return H(t.type);case 16:return H("Lazy");case 13:return H("Suspense");case 19:return H("SuspenseList");case 0:case 2:case 15:return t=B(t.type,!1);case 11:return t=B(t.type.render,!1);case 22:return t=B(t.type._render,!1);case 1:return t=B(t.type,!0);default:return""}}function X(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case k:return"Fragment";case x:return"Portal";case P:return"Profiler";case C:return"StrictMode";case L:return"Suspense";case F:return"SuspenseList"}if("object"===typeof t)switch(t.$$typeof){case E:return(t.displayName||"Context")+".Consumer";case T:return(t._context.displayName||"Context")+".Provider";case M:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case A:return X(t.type);case D:return X(t._render);case O:e=t._payload,t=t._init;try{return X(t(e))}catch(n){}}return null}function Y(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function q(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function Q(t){t._valueTracker||(t._valueTracker=function(t){var e=q(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}(t))}function $(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=q(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function Z(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function J(t,e){var n=e.checked;return i({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function tt(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=Y(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function et(t,e){null!=(e=e.checked)&&b(t,"checked",e,!1)}function nt(t,e){et(t,e);var n=Y(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?it(t,e.type,n):e.hasOwnProperty("defaultValue")&&it(t,e.type,Y(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function rt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}""!==(n=t.name)&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function it(t,e,n){"number"===e&&Z(t.ownerDocument)===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function ot(t,e){return t=i({children:void 0},e),(e=function(t){var e="";return r.Children.forEach(t,(function(t){null!=t&&(e+=t)})),e}(e.children))&&(t.children=e),t}function at(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Y(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function st(t,e){if(null!=e.dangerouslySetInnerHTML)throw Error(a(91));return i({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lt(t,e){var n=e.value;if(null==n){if(n=e.children,e=e.defaultValue,null!=n){if(null!=e)throw Error(a(92));if(Array.isArray(n)){if(!(1>=n.length))throw Error(a(93));n=n[0]}e=n}null==e&&(e=""),n=e}t._wrapperState={initialValue:Y(n)}}function ut(t,e){var n=Y(e.value),r=Y(e.defaultValue);null!=n&&((n=""+n)!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ht(t){var e=t.textContent;e===t._wrapperState.initialValue&&""!==e&&null!==e&&(t.value=e)}var ct="http://www.w3.org/1999/xhtml",dt="http://www.w3.org/2000/svg";function ft(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function pt(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?ft(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}var gt,yt,mt=(yt=function(t,e){if(t.namespaceURI!==dt||"innerHTML"in t)t.innerHTML=e;else{for((gt=gt||document.createElement("div")).innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=gt.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,e,n,r){MSApp.execUnsafeLocalFunction((function(){return yt(t,e)}))}:yt);function vt(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}var _t={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bt=["Webkit","ms","Moz","O"];function wt(t,e,n){return null==e||"boolean"===typeof e||""===e?"":n||"number"!==typeof e||0===e||_t.hasOwnProperty(t)&&_t[t]?(""+e).trim():e+"px"}function St(t,e){for(var n in t=t.style,e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=wt(n,e[n],r);"float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}Object.keys(_t).forEach((function(t){bt.forEach((function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_t[e]=_t[t]}))}));var xt=i({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function kt(t,e){if(e){if(xt[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML))throw Error(a(137,t));if(null!=e.dangerouslySetInnerHTML){if(null!=e.children)throw Error(a(60));if("object"!==typeof e.dangerouslySetInnerHTML||!("__html"in e.dangerouslySetInnerHTML))throw Error(a(61))}if(null!=e.style&&"object"!==typeof e.style)throw Error(a(62))}}function Ct(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function Pt(t){return(t=t.target||t.srcElement||window).correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}var Tt=null,Et=null,Mt=null;function Lt(t){if(t=ti(t)){if("function"!==typeof Tt)throw Error(a(280));var e=t.stateNode;e&&(e=ni(e),Tt(t.stateNode,t.type,e))}}function Ft(t){Et?Mt?Mt.push(t):Mt=[t]:Et=t}function At(){if(Et){var t=Et,e=Mt;if(Mt=Et=null,Lt(t),e)for(t=0;t<e.length;t++)Lt(e[t])}}function Ot(t,e){return t(e)}function Dt(t,e,n,r,i){return t(e,n,r,i)}function Nt(){}var Rt=Ot,Ut=!1,It=!1;function zt(){null===Et&&null===Mt||(Nt(),At())}function Gt(t,e){var n=t.stateNode;if(null===n)return null;var r=ni(n);if(null===r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(t=t.type)||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}if(t)return null;if(n&&"function"!==typeof n)throw Error(a(231,e,typeof n));return n}var Vt=!1;if(c)try{var jt={};Object.defineProperty(jt,"passive",{get:function(){Vt=!0}}),window.addEventListener("test",jt,jt),window.removeEventListener("test",jt,jt)}catch(yt){Vt=!1}function Ht(t,e,n,r,i,o,a,s,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(h){this.onError(h)}}var Wt=!1,Bt=null,Kt=!1,Xt=null,Yt={onError:function(t){Wt=!0,Bt=t}};function qt(t,e,n,r,i,o,a,s,l){Wt=!1,Bt=null,Ht.apply(Yt,arguments)}function Qt(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do{0!==(1026&(e=t).flags)&&(n=e.return),t=e.return}while(t)}return 3===e.tag?n:null}function $t(t){if(13===t.tag){var e=t.memoizedState;if(null===e&&(null!==(t=t.alternate)&&(e=t.memoizedState)),null!==e)return e.dehydrated}return null}function Zt(t){if(Qt(t)!==t)throw Error(a(188))}function Jt(t){if(!(t=function(t){var e=t.alternate;if(!e){if(null===(e=Qt(t)))throw Error(a(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(null===i)break;var o=i.alternate;if(null===o){if(null!==(r=i.return)){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Zt(i),t;if(o===r)return Zt(i),e;o=o.sibling}throw Error(a(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,l=i.child;l;){if(l===n){s=!0,n=i,r=o;break}if(l===r){s=!0,r=i,n=o;break}l=l.sibling}if(!s){for(l=o.child;l;){if(l===n){s=!0,n=o,r=i;break}if(l===r){s=!0,r=o,n=i;break}l=l.sibling}if(!s)throw Error(a(189))}}if(n.alternate!==r)throw Error(a(190))}if(3!==n.tag)throw Error(a(188));return n.stateNode.current===n?t:e}(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function te(t,e){for(var n=t.alternate;null!==e;){if(e===t||e===n)return!0;e=e.return}return!1}var ee,ne,re,ie,oe=!1,ae=[],se=null,le=null,ue=null,he=new Map,ce=new Map,de=[],fe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function pe(t,e,n,r,i){return{blockedOn:t,domEventName:e,eventSystemFlags:16|n,nativeEvent:i,targetContainers:[r]}}function ge(t,e){switch(t){case"focusin":case"focusout":se=null;break;case"dragenter":case"dragleave":le=null;break;case"mouseover":case"mouseout":ue=null;break;case"pointerover":case"pointerout":he.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ce.delete(e.pointerId)}}function ye(t,e,n,r,i,o){return null===t||t.nativeEvent!==o?(t=pe(e,n,r,i,o),null!==e&&(null!==(e=ti(e))&&ne(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,null!==i&&-1===e.indexOf(i)&&e.push(i),t)}function me(t){var e=Jr(t.target);if(null!==e){var n=Qt(e);if(null!==n)if(13===(e=n.tag)){if(null!==(e=$t(n)))return t.blockedOn=e,void ie(t.lanePriority,(function(){o.unstable_runWithPriority(t.priority,(function(){re(n)}))}))}else if(3===e&&n.stateNode.hydrate)return void(t.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}t.blockedOn=null}function ve(t){if(null!==t.blockedOn)return!1;for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n)return null!==(e=ti(n))&&ne(e),t.blockedOn=n,!1;e.shift()}return!0}function _e(t,e,n){ve(t)&&n.delete(e)}function be(){for(oe=!1;0<ae.length;){var t=ae[0];if(null!==t.blockedOn){null!==(t=ti(t.blockedOn))&&ee(t);break}for(var e=t.targetContainers;0<e.length;){var n=Je(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(null!==n){t.blockedOn=n;break}e.shift()}null===t.blockedOn&&ae.shift()}null!==se&&ve(se)&&(se=null),null!==le&&ve(le)&&(le=null),null!==ue&&ve(ue)&&(ue=null),he.forEach(_e),ce.forEach(_e)}function we(t,e){t.blockedOn===e&&(t.blockedOn=null,oe||(oe=!0,o.unstable_scheduleCallback(o.unstable_NormalPriority,be)))}function Se(t){function e(e){return we(e,t)}if(0<ae.length){we(ae[0],t);for(var n=1;n<ae.length;n++){var r=ae[n];r.blockedOn===t&&(r.blockedOn=null)}}for(null!==se&&we(se,t),null!==le&&we(le,t),null!==ue&&we(ue,t),he.forEach(e),ce.forEach(e),n=0;n<de.length;n++)(r=de[n]).blockedOn===t&&(r.blockedOn=null);for(;0<de.length&&null===(n=de[0]).blockedOn;)me(n),null===n.blockedOn&&de.shift()}function xe(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var ke={animationend:xe("Animation","AnimationEnd"),animationiteration:xe("Animation","AnimationIteration"),animationstart:xe("Animation","AnimationStart"),transitionend:xe("Transition","TransitionEnd")},Ce={},Pe={};function Te(t){if(Ce[t])return Ce[t];if(!ke[t])return t;var e,n=ke[t];for(e in n)if(n.hasOwnProperty(e)&&e in Pe)return Ce[t]=n[e];return t}c&&(Pe=document.createElement("div").style,"AnimationEvent"in window||(delete ke.animationend.animation,delete ke.animationiteration.animation,delete ke.animationstart.animation),"TransitionEvent"in window||delete ke.transitionend.transition);var Ee=Te("animationend"),Me=Te("animationiteration"),Le=Te("animationstart"),Fe=Te("transitionend"),Ae=new Map,Oe=new Map,De=["abort","abort",Ee,"animationEnd",Me,"animationIteration",Le,"animationStart","canplay","canPlay","canplaythrough","canPlayThrough","durationchange","durationChange","emptied","emptied","encrypted","encrypted","ended","ended","error","error","gotpointercapture","gotPointerCapture","load","load","loadeddata","loadedData","loadedmetadata","loadedMetadata","loadstart","loadStart","lostpointercapture","lostPointerCapture","playing","playing","progress","progress","seeking","seeking","stalled","stalled","suspend","suspend","timeupdate","timeUpdate",Fe,"transitionEnd","waiting","waiting"];function Ne(t,e){for(var n=0;n<t.length;n+=2){var r=t[n],i=t[n+1];i="on"+(i[0].toUpperCase()+i.slice(1)),Oe.set(r,e),Ae.set(r,i),u(i,[r])}}(0,o.unstable_now)();var Re=8;function Ue(t){if(0!==(1&t))return Re=15,1;if(0!==(2&t))return Re=14,2;if(0!==(4&t))return Re=13,4;var e=24&t;return 0!==e?(Re=12,e):0!==(32&t)?(Re=11,32):0!==(e=192&t)?(Re=10,e):0!==(256&t)?(Re=9,256):0!==(e=3584&t)?(Re=8,e):0!==(4096&t)?(Re=7,4096):0!==(e=4186112&t)?(Re=6,e):0!==(e=62914560&t)?(Re=5,e):67108864&t?(Re=4,67108864):0!==(134217728&t)?(Re=3,134217728):0!==(e=805306368&t)?(Re=2,e):0!==(1073741824&t)?(Re=1,1073741824):(Re=8,t)}function Ie(t,e){var n=t.pendingLanes;if(0===n)return Re=0;var r=0,i=0,o=t.expiredLanes,a=t.suspendedLanes,s=t.pingedLanes;if(0!==o)r=o,i=Re=15;else if(0!==(o=134217727&n)){var l=o&~a;0!==l?(r=Ue(l),i=Re):0!==(s&=o)&&(r=Ue(s),i=Re)}else 0!==(o=n&~a)?(r=Ue(o),i=Re):0!==s&&(r=Ue(s),i=Re);if(0===r)return 0;if(r=n&((0>(r=31-We(r))?0:1<<r)<<1)-1,0!==e&&e!==r&&0===(e&a)){if(Ue(e),i<=Re)return e;Re=i}if(0!==(e=t.entangledLanes))for(t=t.entanglements,e&=r;0<e;)i=1<<(n=31-We(e)),r|=t[n],e&=~i;return r}function ze(t){return 0!==(t=-1073741825&t.pendingLanes)?t:1073741824&t?1073741824:0}function Ge(t,e){switch(t){case 15:return 1;case 14:return 2;case 12:return 0===(t=Ve(24&~e))?Ge(10,e):t;case 10:return 0===(t=Ve(192&~e))?Ge(8,e):t;case 8:return 0===(t=Ve(3584&~e))&&(0===(t=Ve(4186112&~e))&&(t=512)),t;case 2:return 0===(e=Ve(805306368&~e))&&(e=268435456),e}throw Error(a(358,t))}function Ve(t){return t&-t}function je(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function He(t,e,n){t.pendingLanes|=e;var r=e-1;t.suspendedLanes&=r,t.pingedLanes&=r,(t=t.eventTimes)[e=31-We(e)]=n}var We=Math.clz32?Math.clz32:function(t){return 0===t?32:31-(Be(t)/Ke|0)|0},Be=Math.log,Ke=Math.LN2;var Xe=o.unstable_UserBlockingPriority,Ye=o.unstable_runWithPriority,qe=!0;function Qe(t,e,n,r){Ut||Nt();var i=Ze,o=Ut;Ut=!0;try{Dt(i,t,e,n,r)}finally{(Ut=o)||zt()}}function $e(t,e,n,r){Ye(Xe,Ze.bind(null,t,e,n,r))}function Ze(t,e,n,r){var i;if(qe)if((i=0===(4&e))&&0<ae.length&&-1<fe.indexOf(t))t=pe(null,t,e,n,r),ae.push(t);else{var o=Je(t,e,n,r);if(null===o)i&&ge(t,r);else{if(i){if(-1<fe.indexOf(t))return t=pe(o,t,e,n,r),void ae.push(t);if(function(t,e,n,r,i){switch(e){case"focusin":return se=ye(se,t,e,n,r,i),!0;case"dragenter":return le=ye(le,t,e,n,r,i),!0;case"mouseover":return ue=ye(ue,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return he.set(o,ye(he.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,ce.set(o,ye(ce.get(o)||null,t,e,n,r,i)),!0}return!1}(o,t,e,n,r))return;ge(t,r)}Ar(t,e,r,null,n)}}}function Je(t,e,n,r){var i=Pt(r);if(null!==(i=Jr(i))){var o=Qt(i);if(null===o)i=null;else{var a=o.tag;if(13===a){if(null!==(i=$t(o)))return i;i=null}else if(3===a){if(o.stateNode.hydrate)return 3===o.tag?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null)}}return Ar(t,e,r,i,n),null}var tn=null,en=null,nn=null;function rn(){if(nn)return nn;var t,e,n=en,r=n.length,i="value"in tn?tn.value:tn.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return nn=i.slice(t,1<e?1-e:void 0)}function on(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function an(){return!0}function sn(){return!1}function ln(t){function e(e,n,r,i,o){for(var a in this._reactName=e,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=o,this.currentTarget=null,t)t.hasOwnProperty(a)&&(e=t[a],this[a]=e?e(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?an:sn,this.isPropagationStopped=sn,this}return i(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=an)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=an)},persist:function(){},isPersistent:an}),e}var un,hn,cn,dn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},fn=ln(dn),pn=i({},dn,{view:0,detail:0}),gn=ln(pn),yn=i({},pn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tn,button:0,buttons:0,relatedTarget:function(t){return void 0===t.relatedTarget?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==cn&&(cn&&"mousemove"===t.type?(un=t.screenX-cn.screenX,hn=t.screenY-cn.screenY):hn=un=0,cn=t),un)},movementY:function(t){return"movementY"in t?t.movementY:hn}}),mn=ln(yn),vn=ln(i({},yn,{dataTransfer:0})),_n=ln(i({},pn,{relatedTarget:0})),bn=ln(i({},dn,{animationName:0,elapsedTime:0,pseudoElement:0})),wn=ln(i({},dn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}})),Sn=ln(i({},dn,{data:0})),xn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Cn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pn(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=Cn[t])&&!!e[t]}function Tn(){return Pn}var En=ln(i({},pn,{key:function(t){if(t.key){var e=xn[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?13===(t=on(t))?"Enter":String.fromCharCode(t):"keydown"===t.type||"keyup"===t.type?kn[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tn,charCode:function(t){return"keypress"===t.type?on(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?on(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}})),Mn=ln(i({},yn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Ln=ln(i({},pn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tn})),Fn=ln(i({},dn,{propertyName:0,elapsedTime:0,pseudoElement:0})),An=ln(i({},yn,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0})),On=[9,13,27,32],Dn=c&&"CompositionEvent"in window,Nn=null;c&&"documentMode"in document&&(Nn=document.documentMode);var Rn=c&&"TextEvent"in window&&!Nn,Un=c&&(!Dn||Nn&&8<Nn&&11>=Nn),In=String.fromCharCode(32),zn=!1;function Gn(t,e){switch(t){case"keyup":return-1!==On.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(t){return"object"===typeof(t=t.detail)&&"data"in t?t.data:null}var jn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Wn(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Hn[t.type]:"textarea"===e}function Bn(t,e,n,r){Ft(r),0<(e=Dr(e,"onChange")).length&&(n=new fn("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Kn=null,Xn=null;function Yn(t){Pr(t,0)}function qn(t){if($(ei(t)))return t}function Qn(t,e){if("change"===t)return e}var $n=!1;if(c){var Zn;if(c){var Jn="oninput"in document;if(!Jn){var tr=document.createElement("div");tr.setAttribute("oninput","return;"),Jn="function"===typeof tr.oninput}Zn=Jn}else Zn=!1;$n=Zn&&(!document.documentMode||9<document.documentMode)}function er(){Kn&&(Kn.detachEvent("onpropertychange",nr),Xn=Kn=null)}function nr(t){if("value"===t.propertyName&&qn(Xn)){var e=[];if(Bn(e,Xn,t,Pt(t)),t=Yn,Ut)t(e);else{Ut=!0;try{Ot(t,e)}finally{Ut=!1,zt()}}}}function rr(t,e,n){"focusin"===t?(er(),Xn=n,(Kn=e).attachEvent("onpropertychange",nr)):"focusout"===t&&er()}function ir(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return qn(Xn)}function or(t,e){if("click"===t)return qn(e)}function ar(t,e){if("input"===t||"change"===t)return qn(e)}var sr="function"===typeof Object.is?Object.is:function(t,e){return t===e&&(0!==t||1/t===1/e)||t!==t&&e!==e},lr=Object.prototype.hasOwnProperty;function ur(t,e){if(sr(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!lr.call(e,n[r])||!sr(t[n[r]],e[n[r]]))return!1;return!0}function hr(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function cr(t,e){var n,r=hr(t);for(t=0;r;){if(3===r.nodeType){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=hr(r)}}function dr(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?dr(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function fr(){for(var t=window,e=Z();e instanceof t.HTMLIFrameElement;){try{var n="string"===typeof e.contentWindow.location.href}catch(r){n=!1}if(!n)break;e=Z((t=e.contentWindow).document)}return e}function pr(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}var gr=c&&"documentMode"in document&&11>=document.documentMode,yr=null,mr=null,vr=null,_r=!1;function br(t,e,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;_r||null==yr||yr!==Z(r)||("selectionStart"in(r=yr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&ur(vr,r)||(vr=r,0<(r=Dr(mr,"onSelect")).length&&(e=new fn("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yr)))}Ne("cancel cancel click click close close contextmenu contextMenu copy copy cut cut auxclick auxClick dblclick doubleClick dragend dragEnd dragstart dragStart drop drop focusin focus focusout blur input input invalid invalid keydown keyDown keypress keyPress keyup keyUp mousedown mouseDown mouseup mouseUp paste paste pause pause play play pointercancel pointerCancel pointerdown pointerDown pointerup pointerUp ratechange rateChange reset reset seeked seeked submit submit touchcancel touchCancel touchend touchEnd touchstart touchStart volumechange volumeChange".split(" "),0),Ne("drag drag dragenter dragEnter dragexit dragExit dragleave dragLeave dragover dragOver mousemove mouseMove mouseout mouseOut mouseover mouseOver pointermove pointerMove pointerout pointerOut pointerover pointerOver scroll scroll toggle toggle touchmove touchMove wheel wheel".split(" "),1),Ne(De,2);for(var wr="change selectionchange textInput compositionstart compositionend compositionupdate".split(" "),Sr=0;Sr<wr.length;Sr++)Oe.set(wr[Sr],0);h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var xr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kr=new Set("cancel close invalid load scroll toggle".split(" ").concat(xr));function Cr(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,function(t,e,n,r,i,o,s,l,u){if(qt.apply(this,arguments),Wt){if(!Wt)throw Error(a(198));var h=Bt;Wt=!1,Bt=null,Kt||(Kt=!0,Xt=h)}}(r,e,void 0,t),t.currentTarget=null}function Pr(t,e){e=0!==(4&e);for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;t:{var o=void 0;if(e)for(var a=r.length-1;0<=a;a--){var s=r[a],l=s.instance,u=s.currentTarget;if(s=s.listener,l!==o&&i.isPropagationStopped())break t;Cr(i,s,u),o=l}else for(a=0;a<r.length;a++){if(l=(s=r[a]).instance,u=s.currentTarget,s=s.listener,l!==o&&i.isPropagationStopped())break t;Cr(i,s,u),o=l}}}if(Kt)throw t=Xt,Kt=!1,Xt=null,t}function Tr(t,e){var n=ri(e),r=t+"__bubble";n.has(r)||(Fr(e,t,2,!1),n.add(r))}var Er="_reactListening"+Math.random().toString(36).slice(2);function Mr(t){t[Er]||(t[Er]=!0,s.forEach((function(e){kr.has(e)||Lr(e,!1,t,null),Lr(e,!0,t,null)})))}function Lr(t,e,n,r){var i=4<arguments.length&&void 0!==arguments[4]?arguments[4]:0,o=n;if("selectionchange"===t&&9!==n.nodeType&&(o=n.ownerDocument),null!==r&&!e&&kr.has(t)){if("scroll"!==t)return;i|=2,o=r}var a=ri(o),s=t+"__"+(e?"capture":"bubble");a.has(s)||(e&&(i|=4),Fr(o,t,i,e),a.add(s))}function Fr(t,e,n,r){var i=Oe.get(e);switch(void 0===i?2:i){case 0:i=Qe;break;case 1:i=$e;break;default:i=Ze}n=i.bind(null,e,n,t),i=void 0,!Vt||"touchstart"!==e&&"touchmove"!==e&&"wheel"!==e||(i=!0),r?void 0!==i?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):void 0!==i?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Ar(t,e,n,r,i){var o=r;if(0===(1&e)&&0===(2&e)&&null!==r)t:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var s=r.stateNode.containerInfo;if(s===i||8===s.nodeType&&s.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==s;){if(null===(a=Jr(s)))return;if(5===(l=a.tag)||6===l){r=o=a;continue t}s=s.parentNode}}r=r.return}!function(t,e,n){if(It)return t(e,n);It=!0;try{Rt(t,e,n)}finally{It=!1,zt()}}((function(){var r=o,i=Pt(n),a=[];t:{var s=Ae.get(t);if(void 0!==s){var l=fn,u=t;switch(t){case"keypress":if(0===on(n))break t;case"keydown":case"keyup":l=En;break;case"focusin":u="focus",l=_n;break;case"focusout":u="blur",l=_n;break;case"beforeblur":case"afterblur":l=_n;break;case"click":if(2===n.button)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=mn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=vn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Ln;break;case Ee:case Me:case Le:l=bn;break;case Fe:l=Fn;break;case"scroll":l=gn;break;case"wheel":l=An;break;case"copy":case"cut":case"paste":l=wn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Mn}var h=0!==(4&e),c=!h&&"scroll"===t,d=h?null!==s?s+"Capture":null:s;h=[];for(var f,p=r;null!==p;){var g=(f=p).stateNode;if(5===f.tag&&null!==g&&(f=g,null!==d&&(null!=(g=Gt(p,d))&&h.push(Or(p,g,f)))),c)break;p=p.return}0<h.length&&(s=new l(s,u,null,n,i),a.push({event:s,listeners:h}))}}if(0===(7&e)){if(l="mouseout"===t||"pointerout"===t,(!(s="mouseover"===t||"pointerover"===t)||0!==(16&e)||!(u=n.relatedTarget||n.fromElement)||!Jr(u)&&!u[$r])&&(l||s)&&(s=i.window===i?i:(s=i.ownerDocument)?s.defaultView||s.parentWindow:window,l?(l=r,null!==(u=(u=n.relatedTarget||n.toElement)?Jr(u):null)&&(u!==(c=Qt(u))||5!==u.tag&&6!==u.tag)&&(u=null)):(l=null,u=r),l!==u)){if(h=mn,g="onMouseLeave",d="onMouseEnter",p="mouse","pointerout"!==t&&"pointerover"!==t||(h=Mn,g="onPointerLeave",d="onPointerEnter",p="pointer"),c=null==l?s:ei(l),f=null==u?s:ei(u),(s=new h(g,p+"leave",l,n,i)).target=c,s.relatedTarget=f,g=null,Jr(i)===r&&((h=new h(d,p+"enter",u,n,i)).target=f,h.relatedTarget=c,g=h),c=g,l&&u)t:{for(d=u,p=0,f=h=l;f;f=Nr(f))p++;for(f=0,g=d;g;g=Nr(g))f++;for(;0<p-f;)h=Nr(h),p--;for(;0<f-p;)d=Nr(d),f--;for(;p--;){if(h===d||null!==d&&h===d.alternate)break t;h=Nr(h),d=Nr(d)}h=null}else h=null;null!==l&&Rr(a,s,l,h,!1),null!==u&&null!==c&&Rr(a,c,u,h,!0)}if("select"===(l=(s=r?ei(r):window).nodeName&&s.nodeName.toLowerCase())||"input"===l&&"file"===s.type)var y=Qn;else if(Wn(s))if($n)y=ar;else{y=ir;var m=rr}else(l=s.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===s.type||"radio"===s.type)&&(y=or);switch(y&&(y=y(t,r))?Bn(a,y,n,i):(m&&m(t,s,r),"focusout"===t&&(m=s._wrapperState)&&m.controlled&&"number"===s.type&&it(s,"number",s.value)),m=r?ei(r):window,t){case"focusin":(Wn(m)||"true"===m.contentEditable)&&(yr=m,mr=r,vr=null);break;case"focusout":vr=mr=yr=null;break;case"mousedown":_r=!0;break;case"contextmenu":case"mouseup":case"dragend":_r=!1,br(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":br(a,n,i)}var v;if(Dn)t:{switch(t){case"compositionstart":var _="onCompositionStart";break t;case"compositionend":_="onCompositionEnd";break t;case"compositionupdate":_="onCompositionUpdate";break t}_=void 0}else jn?Gn(t,n)&&(_="onCompositionEnd"):"keydown"===t&&229===n.keyCode&&(_="onCompositionStart");_&&(Un&&"ko"!==n.locale&&(jn||"onCompositionStart"!==_?"onCompositionEnd"===_&&jn&&(v=rn()):(en="value"in(tn=i)?tn.value:tn.textContent,jn=!0)),0<(m=Dr(r,_)).length&&(_=new Sn(_,t,null,n,i),a.push({event:_,listeners:m}),v?_.data=v:null!==(v=Vn(n))&&(_.data=v))),(v=Rn?function(t,e){switch(t){case"compositionend":return Vn(e);case"keypress":return 32!==e.which?null:(zn=!0,In);case"textInput":return(t=e.data)===In&&zn?null:t;default:return null}}(t,n):function(t,e){if(jn)return"compositionend"===t||!Dn&&Gn(t,e)?(t=rn(),nn=en=tn=null,jn=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Un&&"ko"!==e.locale?null:e.data;default:return null}}(t,n))&&(0<(r=Dr(r,"onBeforeInput")).length&&(i=new Sn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=v))}Pr(a,e)}))}function Or(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Dr(t,e){for(var n=e+"Capture",r=[];null!==t;){var i=t,o=i.stateNode;5===i.tag&&null!==o&&(i=o,null!=(o=Gt(t,n))&&r.unshift(Or(t,o,i)),null!=(o=Gt(t,e))&&r.push(Or(t,o,i))),t=t.return}return r}function Nr(t){if(null===t)return null;do{t=t.return}while(t&&5!==t.tag);return t||null}function Rr(t,e,n,r,i){for(var o=e._reactName,a=[];null!==n&&n!==r;){var s=n,l=s.alternate,u=s.stateNode;if(null!==l&&l===r)break;5===s.tag&&null!==u&&(s=u,i?null!=(l=Gt(n,o))&&a.unshift(Or(n,l,s)):i||null!=(l=Gt(n,o))&&a.push(Or(n,l,s))),n=n.return}0!==a.length&&t.push({event:e,listeners:a})}function Ur(){}var Ir=null,zr=null;function Gr(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function Vr(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}var jr="function"===typeof setTimeout?setTimeout:void 0,Hr="function"===typeof clearTimeout?clearTimeout:void 0;function Wr(t){1===t.nodeType?t.textContent="":9===t.nodeType&&(null!=(t=t.body)&&(t.textContent=""))}function Br(t){for(;null!=t;t=t.nextSibling){var e=t.nodeType;if(1===e||3===e)break}return t}function Kr(t){t=t.previousSibling;for(var e=0;t;){if(8===t.nodeType){var n=t.data;if("$"===n||"$!"===n||"$?"===n){if(0===e)return t;e--}else"/$"===n&&e++}t=t.previousSibling}return null}var Xr=0;var Yr=Math.random().toString(36).slice(2),qr="__reactFiber$"+Yr,Qr="__reactProps$"+Yr,$r="__reactContainer$"+Yr,Zr="__reactEvents$"+Yr;function Jr(t){var e=t[qr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[$r]||n[qr]){if(n=e.alternate,null!==e.child||null!==n&&null!==n.child)for(t=Kr(t);null!==t;){if(n=t[qr])return n;t=Kr(t)}return e}n=(t=n).parentNode}return null}function ti(t){return!(t=t[qr]||t[$r])||5!==t.tag&&6!==t.tag&&13!==t.tag&&3!==t.tag?null:t}function ei(t){if(5===t.tag||6===t.tag)return t.stateNode;throw Error(a(33))}function ni(t){return t[Qr]||null}function ri(t){var e=t[Zr];return void 0===e&&(e=t[Zr]=new Set),e}var ii=[],oi=-1;function ai(t){return{current:t}}function si(t){0>oi||(t.current=ii[oi],ii[oi]=null,oi--)}function li(t,e){oi++,ii[oi]=t.current,t.current=e}var ui={},hi=ai(ui),ci=ai(!1),di=ui;function fi(t,e){var n=t.type.contextTypes;if(!n)return ui;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function pi(t){return null!==(t=t.childContextTypes)&&void 0!==t}function gi(){si(ci),si(hi)}function yi(t,e,n){if(hi.current!==ui)throw Error(a(168));li(hi,e),li(ci,n)}function mi(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var o in r=r.getChildContext())if(!(o in t))throw Error(a(108,X(e)||"Unknown",o));return i({},n,r)}function vi(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ui,di=hi.current,li(hi,t),li(ci,ci.current),!0}function _i(t,e,n){var r=t.stateNode;if(!r)throw Error(a(169));n?(t=mi(t,e,di),r.__reactInternalMemoizedMergedChildContext=t,si(ci),si(hi),li(hi,t)):si(ci),li(ci,n)}var bi=null,wi=null,Si=o.unstable_runWithPriority,xi=o.unstable_scheduleCallback,ki=o.unstable_cancelCallback,Ci=o.unstable_shouldYield,Pi=o.unstable_requestPaint,Ti=o.unstable_now,Ei=o.unstable_getCurrentPriorityLevel,Mi=o.unstable_ImmediatePriority,Li=o.unstable_UserBlockingPriority,Fi=o.unstable_NormalPriority,Ai=o.unstable_LowPriority,Oi=o.unstable_IdlePriority,Di={},Ni=void 0!==Pi?Pi:function(){},Ri=null,Ui=null,Ii=!1,zi=Ti(),Gi=1e4>zi?Ti:function(){return Ti()-zi};function Vi(){switch(Ei()){case Mi:return 99;case Li:return 98;case Fi:return 97;case Ai:return 96;case Oi:return 95;default:throw Error(a(332))}}function ji(t){switch(t){case 99:return Mi;case 98:return Li;case 97:return Fi;case 96:return Ai;case 95:return Oi;default:throw Error(a(332))}}function Hi(t,e){return t=ji(t),Si(t,e)}function Wi(t,e,n){return t=ji(t),xi(t,e,n)}function Bi(){if(null!==Ui){var t=Ui;Ui=null,ki(t)}Ki()}function Ki(){if(!Ii&&null!==Ri){Ii=!0;var t=0;try{var e=Ri;Hi(99,(function(){for(;t<e.length;t++){var n=e[t];do{n=n(!0)}while(null!==n)}})),Ri=null}catch(n){throw null!==Ri&&(Ri=Ri.slice(t+1)),xi(Mi,Bi),n}finally{Ii=!1}}}var Xi=w.ReactCurrentBatchConfig;function Yi(t,e){if(t&&t.defaultProps){for(var n in e=i({},e),t=t.defaultProps)void 0===e[n]&&(e[n]=t[n]);return e}return e}var qi=ai(null),Qi=null,$i=null,Zi=null;function Ji(){Zi=$i=Qi=null}function to(t){var e=qi.current;si(qi),t.type._context._currentValue=e}function eo(t,e){for(;null!==t;){var n=t.alternate;if((t.childLanes&e)===e){if(null===n||(n.childLanes&e)===e)break;n.childLanes|=e}else t.childLanes|=e,null!==n&&(n.childLanes|=e);t=t.return}}function no(t,e){Qi=t,Zi=$i=null,null!==(t=t.dependencies)&&null!==t.firstContext&&(0!==(t.lanes&e)&&(Da=!0),t.firstContext=null)}function ro(t,e){if(Zi!==t&&!1!==e&&0!==e)if("number"===typeof e&&1073741823!==e||(Zi=t,e=1073741823),e={context:t,observedBits:e,next:null},null===$i){if(null===Qi)throw Error(a(308));$i=e,Qi.dependencies={lanes:0,firstContext:e,responders:null}}else $i=$i.next=e;return t._currentValue}var io=!1;function oo(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null},effects:null}}function ao(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function lo(t,e){if(null!==(t=t.updateQueue)){var n=(t=t.shared).pending;null===n?e.next=e:(e.next=n.next,n.next=e),t.pending=e}}function uo(t,e){var n=t.updateQueue,r=t.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,o=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===o?i=o=a:o=o.next=a,n=n.next}while(null!==n);null===o?i=o=e:o=o.next=e}else i=o=e;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},void(t.updateQueue=n)}null===(t=n.lastBaseUpdate)?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ho(t,e,n,r){var o=t.updateQueue;io=!1;var a=o.firstBaseUpdate,s=o.lastBaseUpdate,l=o.shared.pending;if(null!==l){o.shared.pending=null;var u=l,h=u.next;u.next=null,null===s?a=h:s.next=h,s=u;var c=t.alternate;if(null!==c){var d=(c=c.updateQueue).lastBaseUpdate;d!==s&&(null===d?c.firstBaseUpdate=h:d.next=h,c.lastBaseUpdate=u)}}if(null!==a){for(d=o.baseState,s=0,c=h=u=null;;){l=a.lane;var f=a.eventTime;if((r&l)===l){null!==c&&(c=c.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});t:{var p=t,g=a;switch(l=e,f=n,g.tag){case 1:if("function"===typeof(p=g.payload)){d=p.call(f,d,l);break t}d=p;break t;case 3:p.flags=-4097&p.flags|64;case 0:if(null===(l="function"===typeof(p=g.payload)?p.call(f,d,l):p)||void 0===l)break t;d=i({},d,l);break t;case 2:io=!0}}null!==a.callback&&(t.flags|=32,null===(l=o.effects)?o.effects=[a]:l.push(a))}else f={eventTime:f,lane:l,tag:a.tag,payload:a.payload,callback:a.callback,next:null},null===c?(h=c=f,u=d):c=c.next=f,s|=l;if(null===(a=a.next)){if(null===(l=o.shared.pending))break;a=l.next,l.next=null,o.lastBaseUpdate=l,o.shared.pending=null}}null===c&&(u=d),o.baseState=u,o.firstBaseUpdate=h,o.lastBaseUpdate=c,Is|=s,t.lanes=s,t.memoizedState=d}}function co(t,e,n){if(t=e.effects,e.effects=null,null!==t)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(a(191,i));i.call(r)}}}var fo=(new r.Component).refs;function po(t,e,n,r){n=null===(n=n(r,e=t.memoizedState))||void 0===n?e:i({},e,n),t.memoizedState=n,0===t.lanes&&(t.updateQueue.baseState=n)}var go={isMounted:function(t){return!!(t=t._reactInternals)&&Qt(t)===t},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ul(),i=hl(t),o=so(r,i);o.payload=e,void 0!==n&&null!==n&&(o.callback=n),lo(t,o),cl(t,i,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ul(),i=hl(t),o=so(r,i);o.tag=1,o.payload=e,void 0!==n&&null!==n&&(o.callback=n),lo(t,o),cl(t,i,r)},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ul(),r=hl(t),i=so(n,r);i.tag=2,void 0!==e&&null!==e&&(i.callback=e),lo(t,i),cl(t,r,n)}};function yo(t,e,n,r,i,o,a){return"function"===typeof(t=t.stateNode).shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!ur(n,r)||!ur(i,o))}function mo(t,e,n){var r=!1,i=ui,o=e.contextType;return"object"===typeof o&&null!==o?o=ro(o):(i=pi(e)?di:hi.current,o=(r=null!==(r=e.contextTypes)&&void 0!==r)?fi(t,i):ui),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=go,t.stateNode=e,e._reactInternals=t,r&&((t=t.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function vo(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&go.enqueueReplaceState(e,e.state,null)}function _o(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=fo,oo(t);var o=e.contextType;"object"===typeof o&&null!==o?i.context=ro(o):(o=pi(e)?di:hi.current,i.context=fi(t,o)),ho(t,n,i,r),i.state=t.memoizedState,"function"===typeof(o=e.getDerivedStateFromProps)&&(po(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&go.enqueueReplaceState(i,i.state,null),ho(t,n,i,r),i.state=t.memoizedState),"function"===typeof i.componentDidMount&&(t.flags|=4)}var bo=Array.isArray;function wo(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(a(309));var r=n.stateNode}if(!r)throw Error(a(147,t));var i=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===i?e.ref:((e=function(t){var e=r.refs;e===fo&&(e=r.refs={}),null===t?delete e[i]:e[i]=t})._stringRef=i,e)}if("string"!==typeof t)throw Error(a(284));if(!n._owner)throw Error(a(290,t))}return t}function So(t,e){if("textarea"!==t.type)throw Error(a(31,"[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e))}function xo(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.flags=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function i(t,e){return(t=Hl(t,e)).index=0,t.sibling=null,t}function o(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index)<n?(e.flags=2,n):r:(e.flags=2,n):n}function s(e){return t&&null===e.alternate&&(e.flags=2),e}function l(t,e,n,r){return null===e||6!==e.tag?((e=Xl(n,t.mode,r)).return=t,e):((e=i(e,n)).return=t,e)}function u(t,e,n,r){return null!==e&&e.elementType===n.type?((r=i(e,n.props)).ref=wo(t,e,n),r.return=t,r):((r=Wl(n.type,n.key,n.props,null,t.mode,r)).ref=wo(t,e,n),r.return=t,r)}function h(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?((e=Yl(n,t.mode,r)).return=t,e):((e=i(e,n.children||[])).return=t,e)}function c(t,e,n,r,o){return null===e||7!==e.tag?((e=Bl(n,t.mode,r,o)).return=t,e):((e=i(e,n)).return=t,e)}function d(t,e,n){if("string"===typeof e||"number"===typeof e)return(e=Xl(""+e,t.mode,n)).return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case S:return(n=Wl(e.type,e.key,e.props,null,t.mode,n)).ref=wo(t,null,e),n.return=t,n;case x:return(e=Yl(e,t.mode,n)).return=t,e}if(bo(e)||j(e))return(e=Bl(e,t.mode,n,null)).return=t,e;So(t,e)}return null}function f(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:l(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case S:return n.key===i?n.type===k?c(t,e,n.props.children,r,i):u(t,e,n,r):null;case x:return n.key===i?h(t,e,n,r):null}if(bo(n)||j(n))return null!==i?null:c(t,e,n,r,null);So(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return l(e,t=t.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case S:return t=t.get(null===r.key?n:r.key)||null,r.type===k?c(e,t,r.props.children,i,r.key):u(e,t,r,i);case x:return h(e,t=t.get(null===r.key?n:r.key)||null,r,i)}if(bo(r)||j(r))return c(e,t=t.get(n)||null,r,i,null);So(e,r)}return null}function g(i,a,s,l){for(var u=null,h=null,c=a,g=a=0,y=null;null!==c&&g<s.length;g++){c.index>g?(y=c,c=null):y=c.sibling;var m=f(i,c,s[g],l);if(null===m){null===c&&(c=y);break}t&&c&&null===m.alternate&&e(i,c),a=o(m,a,g),null===h?u=m:h.sibling=m,h=m,c=y}if(g===s.length)return n(i,c),u;if(null===c){for(;g<s.length;g++)null!==(c=d(i,s[g],l))&&(a=o(c,a,g),null===h?u=c:h.sibling=c,h=c);return u}for(c=r(i,c);g<s.length;g++)null!==(y=p(c,i,g,s[g],l))&&(t&&null!==y.alternate&&c.delete(null===y.key?g:y.key),a=o(y,a,g),null===h?u=y:h.sibling=y,h=y);return t&&c.forEach((function(t){return e(i,t)})),u}function y(i,s,l,u){var h=j(l);if("function"!==typeof h)throw Error(a(150));if(null==(l=h.call(l)))throw Error(a(151));for(var c=h=null,g=s,y=s=0,m=null,v=l.next();null!==g&&!v.done;y++,v=l.next()){g.index>y?(m=g,g=null):m=g.sibling;var _=f(i,g,v.value,u);if(null===_){null===g&&(g=m);break}t&&g&&null===_.alternate&&e(i,g),s=o(_,s,y),null===c?h=_:c.sibling=_,c=_,g=m}if(v.done)return n(i,g),h;if(null===g){for(;!v.done;y++,v=l.next())null!==(v=d(i,v.value,u))&&(s=o(v,s,y),null===c?h=v:c.sibling=v,c=v);return h}for(g=r(i,g);!v.done;y++,v=l.next())null!==(v=p(g,i,y,v.value,u))&&(t&&null!==v.alternate&&g.delete(null===v.key?y:v.key),s=o(v,s,y),null===c?h=v:c.sibling=v,c=v);return t&&g.forEach((function(t){return e(i,t)})),h}return function(t,r,o,l){var u="object"===typeof o&&null!==o&&o.type===k&&null===o.key;u&&(o=o.props.children);var h="object"===typeof o&&null!==o;if(h)switch(o.$$typeof){case S:t:{for(h=o.key,u=r;null!==u;){if(u.key===h){switch(u.tag){case 7:if(o.type===k){n(t,u.sibling),(r=i(u,o.props.children)).return=t,t=r;break t}break;default:if(u.elementType===o.type){n(t,u.sibling),(r=i(u,o.props)).ref=wo(t,u,o),r.return=t,t=r;break t}}n(t,u);break}e(t,u),u=u.sibling}o.type===k?((r=Bl(o.props.children,t.mode,l,o.key)).return=t,t=r):((l=Wl(o.type,o.key,o.props,null,t.mode,l)).ref=wo(t,r,o),l.return=t,t=l)}return s(t);case x:t:{for(u=o.key;null!==r;){if(r.key===u){if(4===r.tag&&r.stateNode.containerInfo===o.containerInfo&&r.stateNode.implementation===o.implementation){n(t,r.sibling),(r=i(r,o.children||[])).return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}(r=Yl(o,t.mode,l)).return=t,t=r}return s(t)}if("string"===typeof o||"number"===typeof o)return o=""+o,null!==r&&6===r.tag?(n(t,r.sibling),(r=i(r,o)).return=t,t=r):(n(t,r),(r=Xl(o,t.mode,l)).return=t,t=r),s(t);if(bo(o))return g(t,r,o,l);if(j(o))return y(t,r,o,l);if(h&&So(t,o),"undefined"===typeof o&&!u)switch(t.tag){case 1:case 22:case 0:case 11:case 15:throw Error(a(152,X(t.type)||"Component"))}return n(t,r)}}var ko=xo(!0),Co=xo(!1),Po={},To=ai(Po),Eo=ai(Po),Mo=ai(Po);function Lo(t){if(t===Po)throw Error(a(174));return t}function Fo(t,e){switch(li(Mo,e),li(Eo,t),li(To,Po),t=e.nodeType){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:pt(null,"");break;default:e=pt(e=(t=8===t?e.parentNode:e).namespaceURI||null,t=t.tagName)}si(To),li(To,e)}function Ao(){si(To),si(Eo),si(Mo)}function Oo(t){Lo(Mo.current);var e=Lo(To.current),n=pt(e,t.type);e!==n&&(li(Eo,t),li(To,n))}function Do(t){Eo.current===t&&(si(To),si(Eo))}var No=ai(0);function Ro(t){for(var e=t;null!==e;){if(13===e.tag){var n=e.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return e}else if(19===e.tag&&void 0!==e.memoizedProps.revealOrder){if(0!==(64&e.flags))return e}else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Uo=null,Io=null,zo=!1;function Go(t,e){var n=Vl(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.flags=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function Vo(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);case 13:default:return!1}}function jo(t){if(zo){var e=Io;if(e){var n=e;if(!Vo(t,e)){if(!(e=Br(n.nextSibling))||!Vo(t,e))return t.flags=-1025&t.flags|2,zo=!1,void(Uo=t);Go(Uo,n)}Uo=t,Io=Br(e.firstChild)}else t.flags=-1025&t.flags|2,zo=!1,Uo=t}}function Ho(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag&&13!==t.tag;)t=t.return;Uo=t}function Wo(t){if(t!==Uo)return!1;if(!zo)return Ho(t),zo=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!Vr(e,t.memoizedProps))for(e=Io;e;)Go(t,e),e=Br(e.nextSibling);if(Ho(t),13===t.tag){if(!(t=null!==(t=t.memoizedState)?t.dehydrated:null))throw Error(a(317));t:{for(t=t.nextSibling,e=0;t;){if(8===t.nodeType){var n=t.data;if("/$"===n){if(0===e){Io=Br(t.nextSibling);break t}e--}else"$"!==n&&"$!"!==n&&"$?"!==n||e++}t=t.nextSibling}Io=null}}else Io=Uo?Br(t.stateNode.nextSibling):null;return!0}function Bo(){Io=Uo=null,zo=!1}var Ko=[];function Xo(){for(var t=0;t<Ko.length;t++)Ko[t]._workInProgressVersionPrimary=null;Ko.length=0}var Yo=w.ReactCurrentDispatcher,qo=w.ReactCurrentBatchConfig,Qo=0,$o=null,Zo=null,Jo=null,ta=!1,ea=!1;function na(){throw Error(a(321))}function ra(t,e){if(null===e)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!sr(t[n],e[n]))return!1;return!0}function ia(t,e,n,r,i,o){if(Qo=o,$o=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yo.current=null===t||null===t.memoizedState?La:Fa,t=n(r,i),ea){o=0;do{if(ea=!1,!(25>o))throw Error(a(301));o+=1,Jo=Zo=null,e.updateQueue=null,Yo.current=Aa,t=n(r,i)}while(ea)}if(Yo.current=Ma,e=null!==Zo&&null!==Zo.next,Qo=0,Jo=Zo=$o=null,ta=!1,e)throw Error(a(300));return t}function oa(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===Jo?$o.memoizedState=Jo=t:Jo=Jo.next=t,Jo}function aa(){if(null===Zo){var t=$o.alternate;t=null!==t?t.memoizedState:null}else t=Zo.next;var e=null===Jo?$o.memoizedState:Jo.next;if(null!==e)Jo=e,Zo=t;else{if(null===t)throw Error(a(310));t={memoizedState:(Zo=t).memoizedState,baseState:Zo.baseState,baseQueue:Zo.baseQueue,queue:Zo.queue,next:null},null===Jo?$o.memoizedState=Jo=t:Jo=Jo.next=t}return Jo}function sa(t,e){return"function"===typeof e?e(t):e}function la(t){var e=aa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=Zo,i=r.baseQueue,o=n.pending;if(null!==o){if(null!==i){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(null!==i){i=i.next,r=r.baseState;var l=s=o=null,u=i;do{var h=u.lane;if((Qo&h)===h)null!==l&&(l=l.next={lane:0,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null}),r=u.eagerReducer===t?u.eagerState:t(r,u.action);else{var c={lane:h,action:u.action,eagerReducer:u.eagerReducer,eagerState:u.eagerState,next:null};null===l?(s=l=c,o=r):l=l.next=c,$o.lanes|=h,Is|=h}u=u.next}while(null!==u&&u!==i);null===l?o=r:l.next=s,sr(r,e.memoizedState)||(Da=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}return[e.memoizedState,n.dispatch]}function ua(t){var e=aa(),n=e.queue;if(null===n)throw Error(a(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(null!==i){n.pending=null;var s=i=i.next;do{o=t(o,s.action),s=s.next}while(s!==i);sr(o,e.memoizedState)||(Da=!0),e.memoizedState=o,null===e.baseQueue&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function ha(t,e,n){var r=e._getVersion;r=r(e._source);var i=e._workInProgressVersionPrimary;if(null!==i?t=i===r:(t=t.mutableReadLanes,(t=(Qo&t)===t)&&(e._workInProgressVersionPrimary=r,Ko.push(e))),t)return n(e._source);throw Ko.push(e),Error(a(350))}function ca(t,e,n,r){var i=Ls;if(null===i)throw Error(a(349));var o=e._getVersion,s=o(e._source),l=Yo.current,u=l.useState((function(){return ha(i,e,n)})),h=u[1],c=u[0];u=Jo;var d=t.memoizedState,f=d.refs,p=f.getSnapshot,g=d.source;d=d.subscribe;var y=$o;return t.memoizedState={refs:f,source:e,subscribe:r},l.useEffect((function(){f.getSnapshot=n,f.setSnapshot=h;var t=o(e._source);if(!sr(s,t)){t=n(e._source),sr(c,t)||(h(t),t=hl(y),i.mutableReadLanes|=t&i.pendingLanes),t=i.mutableReadLanes,i.entangledLanes|=t;for(var r=i.entanglements,a=t;0<a;){var l=31-We(a),u=1<<l;r[l]|=t,a&=~u}}}),[n,e,r]),l.useEffect((function(){return r(e._source,(function(){var t=f.getSnapshot,n=f.setSnapshot;try{n(t(e._source));var r=hl(y);i.mutableReadLanes|=r&i.pendingLanes}catch(o){n((function(){throw o}))}}))}),[e,r]),sr(p,n)&&sr(g,e)&&sr(d,r)||((t={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:c}).dispatch=h=Ea.bind(null,$o,t),u.queue=t,u.baseQueue=null,c=ha(i,e,n),u.memoizedState=u.baseState=c),c}function da(t,e,n){return ca(aa(),t,e,n)}function fa(t){var e=oa();return"function"===typeof t&&(t=t()),e.memoizedState=e.baseState=t,t=(t=e.queue={pending:null,dispatch:null,lastRenderedReducer:sa,lastRenderedState:t}).dispatch=Ea.bind(null,$o,t),[e.memoizedState,t]}function pa(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},null===(e=$o.updateQueue)?(e={lastEffect:null},$o.updateQueue=e,e.lastEffect=t.next=t):null===(n=e.lastEffect)?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t),t}function ga(t){return t={current:t},oa().memoizedState=t}function ya(){return aa().memoizedState}function ma(t,e,n,r){var i=oa();$o.flags|=t,i.memoizedState=pa(1|e,n,void 0,void 0===r?null:r)}function va(t,e,n,r){var i=aa();r=void 0===r?null:r;var o=void 0;if(null!==Zo){var a=Zo.memoizedState;if(o=a.destroy,null!==r&&ra(r,a.deps))return void pa(e,n,o,r)}$o.flags|=t,i.memoizedState=pa(1|e,n,o,r)}function _a(t,e){return ma(516,4,t,e)}function ba(t,e){return va(516,4,t,e)}function wa(t,e){return va(4,2,t,e)}function Sa(t,e){return"function"===typeof e?(t=t(),e(t),function(){e(null)}):null!==e&&void 0!==e?(t=t(),e.current=t,function(){e.current=null}):void 0}function xa(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,va(4,2,Sa.bind(null,e,t),n)}function ka(){}function Ca(t,e){var n=aa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ra(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Pa(t,e){var n=aa();e=void 0===e?null:e;var r=n.memoizedState;return null!==r&&null!==e&&ra(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Ta(t,e){var n=Vi();Hi(98>n?98:n,(function(){t(!0)})),Hi(97<n?97:n,(function(){var n=qo.transition;qo.transition=1;try{t(!1),e()}finally{qo.transition=n}}))}function Ea(t,e,n){var r=ul(),i=hl(t),o={lane:i,action:n,eagerReducer:null,eagerState:null,next:null},a=e.pending;if(null===a?o.next=o:(o.next=a.next,a.next=o),e.pending=o,a=t.alternate,t===$o||null!==a&&a===$o)ea=ta=!0;else{if(0===t.lanes&&(null===a||0===a.lanes)&&null!==(a=e.lastRenderedReducer))try{var s=e.lastRenderedState,l=a(s,n);if(o.eagerReducer=a,o.eagerState=l,sr(l,s))return}catch(u){}cl(t,i,r)}}var Ma={readContext:ro,useCallback:na,useContext:na,useEffect:na,useImperativeHandle:na,useLayoutEffect:na,useMemo:na,useReducer:na,useRef:na,useState:na,useDebugValue:na,useDeferredValue:na,useTransition:na,useMutableSource:na,useOpaqueIdentifier:na,unstable_isNewReconciler:!1},La={readContext:ro,useCallback:function(t,e){return oa().memoizedState=[t,void 0===e?null:e],t},useContext:ro,useEffect:_a,useImperativeHandle:function(t,e,n){return n=null!==n&&void 0!==n?n.concat([t]):null,ma(4,2,Sa.bind(null,e,t),n)},useLayoutEffect:function(t,e){return ma(4,2,t,e)},useMemo:function(t,e){var n=oa();return e=void 0===e?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=oa();return e=void 0!==n?n(e):e,r.memoizedState=r.baseState=e,t=(t=r.queue={pending:null,dispatch:null,lastRenderedReducer:t,lastRenderedState:e}).dispatch=Ea.bind(null,$o,t),[r.memoizedState,t]},useRef:ga,useState:fa,useDebugValue:ka,useDeferredValue:function(t){var e=fa(t),n=e[0],r=e[1];return _a((function(){var e=qo.transition;qo.transition=1;try{r(t)}finally{qo.transition=e}}),[t]),n},useTransition:function(){var t=fa(!1),e=t[0];return ga(t=Ta.bind(null,t[1])),[t,e]},useMutableSource:function(t,e,n){var r=oa();return r.memoizedState={refs:{getSnapshot:e,setSnapshot:null},source:t,subscribe:n},ca(r,t,e,n)},useOpaqueIdentifier:function(){if(zo){var t=!1,e=function(t){return{$$typeof:N,toString:t,valueOf:t}}((function(){throw t||(t=!0,n("r:"+(Xr++).toString(36))),Error(a(355))})),n=fa(e)[1];return 0===(2&$o.mode)&&($o.flags|=516,pa(5,(function(){n("r:"+(Xr++).toString(36))}),void 0,null)),e}return fa(e="r:"+(Xr++).toString(36)),e},unstable_isNewReconciler:!1},Fa={readContext:ro,useCallback:Ca,useContext:ro,useEffect:ba,useImperativeHandle:xa,useLayoutEffect:wa,useMemo:Pa,useReducer:la,useRef:ya,useState:function(){return la(sa)},useDebugValue:ka,useDeferredValue:function(t){var e=la(sa),n=e[0],r=e[1];return ba((function(){var e=qo.transition;qo.transition=1;try{r(t)}finally{qo.transition=e}}),[t]),n},useTransition:function(){var t=la(sa)[0];return[ya().current,t]},useMutableSource:da,useOpaqueIdentifier:function(){return la(sa)[0]},unstable_isNewReconciler:!1},Aa={readContext:ro,useCallback:Ca,useContext:ro,useEffect:ba,useImperativeHandle:xa,useLayoutEffect:wa,useMemo:Pa,useReducer:ua,useRef:ya,useState:function(){return ua(sa)},useDebugValue:ka,useDeferredValue:function(t){var e=ua(sa),n=e[0],r=e[1];return ba((function(){var e=qo.transition;qo.transition=1;try{r(t)}finally{qo.transition=e}}),[t]),n},useTransition:function(){var t=ua(sa)[0];return[ya().current,t]},useMutableSource:da,useOpaqueIdentifier:function(){return ua(sa)[0]},unstable_isNewReconciler:!1},Oa=w.ReactCurrentOwner,Da=!1;function Na(t,e,n,r){e.child=null===t?Co(e,null,n,r):ko(e,t.child,n,r)}function Ra(t,e,n,r,i){n=n.render;var o=e.ref;return no(e,i),r=ia(t,e,n,r,o,i),null===t||Da?(e.flags|=1,Na(t,e,r,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function Ua(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||jl(a)||void 0!==a.defaultProps||null!==n.compare||void 0!==n.defaultProps?((t=Wl(n.type,null,r,e,e.mode,o)).ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,Ia(t,e,a,r,i,o))}return a=t.child,0===(i&o)&&(i=a.memoizedProps,(n=null!==(n=n.compare)?n:ur)(i,r)&&t.ref===e.ref)?ns(t,e,o):(e.flags|=1,(t=Hl(a,r)).ref=e.ref,t.return=e,e.child=t)}function Ia(t,e,n,r,i,o){if(null!==t&&ur(t.memoizedProps,r)&&t.ref===e.ref){if(Da=!1,0===(o&i))return e.lanes=t.lanes,ns(t,e,o);0!==(16384&t.flags)&&(Da=!0)}return Va(t,e,n,r,o)}function za(t,e,n){var r=e.pendingProps,i=r.children,o=null!==t?t.memoizedState:null;if("hidden"===r.mode||"unstable-defer-without-hiding"===r.mode)if(0===(4&e.mode))e.memoizedState={baseLanes:0},_l(e,n);else{if(0===(1073741824&n))return t=null!==o?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t},_l(e,t),null;e.memoizedState={baseLanes:0},_l(e,null!==o?o.baseLanes:n)}else null!==o?(r=o.baseLanes|n,e.memoizedState=null):r=n,_l(e,r);return Na(t,e,i,n),e.child}function Ga(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.flags|=128)}function Va(t,e,n,r,i){var o=pi(n)?di:hi.current;return o=fi(e,o),no(e,i),n=ia(t,e,n,r,o,i),null===t||Da?(e.flags|=1,Na(t,e,n,i),e.child):(e.updateQueue=t.updateQueue,e.flags&=-517,t.lanes&=~i,ns(t,e,i))}function ja(t,e,n,r,i){if(pi(n)){var o=!0;vi(e)}else o=!1;if(no(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),mo(e,n,r),_o(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var l=a.context,u=n.contextType;"object"===typeof u&&null!==u?u=ro(u):u=fi(e,u=pi(n)?di:hi.current);var h=n.getDerivedStateFromProps,c="function"===typeof h||"function"===typeof a.getSnapshotBeforeUpdate;c||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||l!==u)&&vo(e,a,r,u),io=!1;var d=e.memoizedState;a.state=d,ho(e,r,a,i),l=e.memoizedState,s!==r||d!==l||ci.current||io?("function"===typeof h&&(po(e,n,h,r),l=e.memoizedState),(s=io||yo(e,n,s,r,d,l,u))?(c||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.flags|=4)):("function"===typeof a.componentDidMount&&(e.flags|=4),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=u,r=s):("function"===typeof a.componentDidMount&&(e.flags|=4),r=!1)}else{a=e.stateNode,ao(t,e),s=e.memoizedProps,u=e.type===e.elementType?s:Yi(e.type,s),a.props=u,c=e.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=ro(l):l=fi(e,l=pi(n)?di:hi.current);var f=n.getDerivedStateFromProps;(h="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==c||d!==l)&&vo(e,a,r,l),io=!1,d=e.memoizedState,a.state=d,ho(e,r,a,i);var p=e.memoizedState;s!==c||d!==p||ci.current||io?("function"===typeof f&&(po(e,n,f,r),p=e.memoizedState),(u=io||yo(e,n,u,r,d,p,l))?(h||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,p,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,p,l)),"function"===typeof a.componentDidUpdate&&(e.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.flags|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),e.memoizedProps=r,e.memoizedState=p),a.props=r,a.state=p,a.context=l,r=u):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&d===t.memoizedState||(e.flags|=256),r=!1)}return Ha(t,e,n,r,o,i)}function Ha(t,e,n,r,i,o){Ga(t,e);var a=0!==(64&e.flags);if(!r&&!a)return i&&_i(e,n,!1),ns(t,e,o);r=e.stateNode,Oa.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.flags|=1,null!==t&&a?(e.child=ko(e,t.child,null,o),e.child=ko(e,null,s,o)):Na(t,e,s,o),e.memoizedState=r.state,i&&_i(e,n,!0),e.child}function Wa(t){var e=t.stateNode;e.pendingContext?yi(0,e.pendingContext,e.pendingContext!==e.context):e.context&&yi(0,e.context,!1),Fo(t,e.containerInfo)}var Ba,Ka,Xa,Ya={dehydrated:null,retryLane:0};function qa(t,e,n){var r,i=e.pendingProps,o=No.current,a=!1;return(r=0!==(64&e.flags))||(r=(null===t||null!==t.memoizedState)&&0!==(2&o)),r?(a=!0,e.flags&=-65):null!==t&&null===t.memoizedState||void 0===i.fallback||!0===i.unstable_avoidThisFallback||(o|=1),li(No,1&o),null===t?(void 0!==i.fallback&&jo(e),t=i.children,o=i.fallback,a?(t=Qa(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ya,t):"number"===typeof i.unstable_expectedLoadTime?(t=Qa(e,t,o,n),e.child.memoizedState={baseLanes:n},e.memoizedState=Ya,e.lanes=33554432,t):((n=Kl({mode:"visible",children:t},e.mode,n,null)).return=e,e.child=n)):(t.memoizedState,a?(i=Za(t,e,i.children,i.fallback,n),a=e.child,o=t.child.memoizedState,a.memoizedState=null===o?{baseLanes:n}:{baseLanes:o.baseLanes|n},a.childLanes=t.childLanes&~n,e.memoizedState=Ya,i):(n=$a(t,e,i.children,n),e.memoizedState=null,n))}function Qa(t,e,n,r){var i=t.mode,o=t.child;return e={mode:"hidden",children:e},0===(2&i)&&null!==o?(o.childLanes=0,o.pendingProps=e):o=Kl(e,i,0,null),n=Bl(n,i,r,null),o.return=t,n.return=t,o.sibling=n,t.child=o,n}function $a(t,e,n,r){var i=t.child;return t=i.sibling,n=Hl(i,{mode:"visible",children:n}),0===(2&e.mode)&&(n.lanes=r),n.return=e,n.sibling=null,null!==t&&(t.nextEffect=null,t.flags=8,e.firstEffect=e.lastEffect=t),e.child=n}function Za(t,e,n,r,i){var o=e.mode,a=t.child;t=a.sibling;var s={mode:"hidden",children:n};return 0===(2&o)&&e.child!==a?((n=e.child).childLanes=0,n.pendingProps=s,null!==(a=n.lastEffect)?(e.firstEffect=n.firstEffect,e.lastEffect=a,a.nextEffect=null):e.firstEffect=e.lastEffect=null):n=Hl(a,s),null!==t?r=Hl(t,r):(r=Bl(r,o,i,null)).flags|=2,r.return=e,n.return=e,n.sibling=r,e.child=n,r}function Ja(t,e){t.lanes|=e;var n=t.alternate;null!==n&&(n.lanes|=e),eo(t.return,e)}function ts(t,e,n,r,i,o){var a=t.memoizedState;null===a?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i,lastEffect:o}:(a.isBackwards=e,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=i,a.lastEffect=o)}function es(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Na(t,e,r.children,n),0!==(2&(r=No.current)))r=1&r|2,e.flags|=64;else{if(null!==t&&0!==(64&t.flags))t:for(t=e.child;null!==t;){if(13===t.tag)null!==t.memoizedState&&Ja(t,n);else if(19===t.tag)Ja(t,n);else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break t;for(;null===t.sibling;){if(null===t.return||t.return===e)break t;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(li(No,r),0===(2&e.mode))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;null!==n;)null!==(t=n.alternate)&&null===Ro(t)&&(i=n),n=n.sibling;null===(n=i)?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),ts(e,!1,i,n,o,e.lastEffect);break;case"backwards":for(n=null,i=e.child,e.child=null;null!==i;){if(null!==(t=i.alternate)&&null===Ro(t)){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}ts(e,!0,n,null,o,e.lastEffect);break;case"together":ts(e,!1,null,null,void 0,e.lastEffect);break;default:e.memoizedState=null}return e.child}function ns(t,e,n){if(null!==t&&(e.dependencies=t.dependencies),Is|=e.lanes,0!==(n&e.childLanes)){if(null!==t&&e.child!==t.child)throw Error(a(153));if(null!==e.child){for(n=Hl(t=e.child,t.pendingProps),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,(n=n.sibling=Hl(t,t.pendingProps)).return=e;n.sibling=null}return e.child}return null}function rs(t,e){if(!zo)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;null!==e;)null!==e.alternate&&(n=e),e=e.sibling;null===n?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?e||null===t.tail?t.tail=null:t.tail.sibling=null:r.sibling=null}}function is(t,e,n){var r=e.pendingProps;switch(e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return null;case 1:return pi(e.type)&&gi(),null;case 3:return Ao(),si(ci),si(hi),Xo(),(r=e.stateNode).pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==t&&null!==t.child||(Wo(e)?e.flags|=4:r.hydrate||(e.flags|=256)),null;case 5:Do(e);var o=Lo(Mo.current);if(n=e.type,null!==t&&null!=e.stateNode)Ka(t,e,n,r),t.ref!==e.ref&&(e.flags|=128);else{if(!r){if(null===e.stateNode)throw Error(a(166));return null}if(t=Lo(To.current),Wo(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[qr]=e,r[Qr]=s,n){case"dialog":Tr("cancel",r),Tr("close",r);break;case"iframe":case"object":case"embed":Tr("load",r);break;case"video":case"audio":for(t=0;t<xr.length;t++)Tr(xr[t],r);break;case"source":Tr("error",r);break;case"img":case"image":case"link":Tr("error",r),Tr("load",r);break;case"details":Tr("toggle",r);break;case"input":tt(r,s),Tr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Tr("invalid",r);break;case"textarea":lt(r,s),Tr("invalid",r)}for(var u in kt(n,s),t=null,s)s.hasOwnProperty(u)&&(o=s[u],"children"===u?"string"===typeof o?r.textContent!==o&&(t=["children",o]):"number"===typeof o&&r.textContent!==""+o&&(t=["children",""+o]):l.hasOwnProperty(u)&&null!=o&&"onScroll"===u&&Tr("scroll",r));switch(n){case"input":Q(r),rt(r,s,!0);break;case"textarea":Q(r),ht(r);break;case"select":case"option":break;default:"function"===typeof s.onClick&&(r.onclick=Ur)}r=t,e.updateQueue=r,null!==r&&(e.flags|=4)}else{switch(u=9===o.nodeType?o:o.ownerDocument,t===ct&&(t=ft(n)),t===ct?"script"===n?((t=u.createElement("div")).innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):"string"===typeof r.is?t=u.createElement(n,{is:r.is}):(t=u.createElement(n),"select"===n&&(u=t,r.multiple?u.multiple=!0:r.size&&(u.size=r.size))):t=u.createElementNS(t,n),t[qr]=e,t[Qr]=r,Ba(t,e),e.stateNode=t,u=Ct(n,r),n){case"dialog":Tr("cancel",t),Tr("close",t),o=r;break;case"iframe":case"object":case"embed":Tr("load",t),o=r;break;case"video":case"audio":for(o=0;o<xr.length;o++)Tr(xr[o],t);o=r;break;case"source":Tr("error",t),o=r;break;case"img":case"image":case"link":Tr("error",t),Tr("load",t),o=r;break;case"details":Tr("toggle",t),o=r;break;case"input":tt(t,r),o=J(t,r),Tr("invalid",t);break;case"option":o=ot(t,r);break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=i({},r,{value:void 0}),Tr("invalid",t);break;case"textarea":lt(t,r),o=st(t,r),Tr("invalid",t);break;default:o=r}kt(n,o);var h=o;for(s in h)if(h.hasOwnProperty(s)){var c=h[s];"style"===s?St(t,c):"dangerouslySetInnerHTML"===s?null!=(c=c?c.__html:void 0)&&mt(t,c):"children"===s?"string"===typeof c?("textarea"!==n||""!==c)&&vt(t,c):"number"===typeof c&&vt(t,""+c):"suppressContentEditableWarning"!==s&&"suppressHydrationWarning"!==s&&"autoFocus"!==s&&(l.hasOwnProperty(s)?null!=c&&"onScroll"===s&&Tr("scroll",t):null!=c&&b(t,s,c,u))}switch(n){case"input":Q(t),rt(t,r,!1);break;case"textarea":Q(t),ht(t);break;case"option":null!=r.value&&t.setAttribute("value",""+Y(r.value));break;case"select":t.multiple=!!r.multiple,null!=(s=r.value)?at(t,!!r.multiple,s,!1):null!=r.defaultValue&&at(t,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof o.onClick&&(t.onclick=Ur)}Gr(n,r)&&(e.flags|=4)}null!==e.ref&&(e.flags|=128)}return null;case 6:if(t&&null!=e.stateNode)Xa(0,e,t.memoizedProps,r);else{if("string"!==typeof r&&null===e.stateNode)throw Error(a(166));n=Lo(Mo.current),Lo(To.current),Wo(e)?(r=e.stateNode,n=e.memoizedProps,r[qr]=e,r.nodeValue!==n&&(e.flags|=4)):((r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[qr]=e,e.stateNode=r)}return null;case 13:return si(No),r=e.memoizedState,0!==(64&e.flags)?(e.lanes=n,e):(r=null!==r,n=!1,null===t?void 0!==e.memoizedProps.fallback&&Wo(e):n=null!==t.memoizedState,r&&!n&&0!==(2&e.mode)&&(null===t&&!0!==e.memoizedProps.unstable_avoidThisFallback||0!==(1&No.current)?0===Ns&&(Ns=3):(0!==Ns&&3!==Ns||(Ns=4),null===Ls||0===(134217727&Is)&&0===(134217727&zs)||gl(Ls,As))),(r||n)&&(e.flags|=4),null);case 4:return Ao(),null===t&&Mr(e.stateNode.containerInfo),null;case 10:return to(e),null;case 17:return pi(e.type)&&gi(),null;case 19:if(si(No),null===(r=e.memoizedState))return null;if(s=0!==(64&e.flags),null===(u=r.rendering))if(s)rs(r,!1);else{if(0!==Ns||null!==t&&0!==(64&t.flags))for(t=e.child;null!==t;){if(null!==(u=Ro(t))){for(e.flags|=64,rs(r,!1),null!==(s=u.updateQueue)&&(e.updateQueue=s,e.flags|=4),null===r.lastEffect&&(e.firstEffect=null),e.lastEffect=r.lastEffect,r=n,n=e.child;null!==n;)t=r,(s=n).flags&=2,s.nextEffect=null,s.firstEffect=null,s.lastEffect=null,null===(u=s.alternate)?(s.childLanes=0,s.lanes=t,s.child=null,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=u.childLanes,s.lanes=u.lanes,s.child=u.child,s.memoizedProps=u.memoizedProps,s.memoizedState=u.memoizedState,s.updateQueue=u.updateQueue,s.type=u.type,t=u.dependencies,s.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return li(No,1&No.current|2),e.child}t=t.sibling}null!==r.tail&&Gi()>Hs&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432)}else{if(!s)if(null!==(t=Ro(u))){if(e.flags|=64,s=!0,null!==(n=t.updateQueue)&&(e.updateQueue=n,e.flags|=4),rs(r,!0),null===r.tail&&"hidden"===r.tailMode&&!u.alternate&&!zo)return null!==(e=e.lastEffect=r.lastEffect)&&(e.nextEffect=null),null}else 2*Gi()-r.renderingStartTime>Hs&&1073741824!==n&&(e.flags|=64,s=!0,rs(r,!1),e.lanes=33554432);r.isBackwards?(u.sibling=e.child,e.child=u):(null!==(n=r.last)?n.sibling=u:e.child=u,r.last=u)}return null!==r.tail?(n=r.tail,r.rendering=n,r.tail=n.sibling,r.lastEffect=e.lastEffect,r.renderingStartTime=Gi(),n.sibling=null,e=No.current,li(No,s?1&e|2:1&e),n):null;case 23:case 24:return bl(),null!==t&&null!==t.memoizedState!==(null!==e.memoizedState)&&"unstable-defer-without-hiding"!==r.mode&&(e.flags|=4),null}throw Error(a(156,e.tag))}function os(t){switch(t.tag){case 1:pi(t.type)&&gi();var e=t.flags;return 4096&e?(t.flags=-4097&e|64,t):null;case 3:if(Ao(),si(ci),si(hi),Xo(),0!==(64&(e=t.flags)))throw Error(a(285));return t.flags=-4097&e|64,t;case 5:return Do(t),null;case 13:return si(No),4096&(e=t.flags)?(t.flags=-4097&e|64,t):null;case 19:return si(No),null;case 4:return Ao(),null;case 10:return to(t),null;case 23:case 24:return bl(),null;default:return null}}function as(t,e){try{var n="",r=e;do{n+=K(r),r=r.return}while(r);var i=n}catch(o){i="\nError generating stack: "+o.message+"\n"+o.stack}return{value:t,source:e,stack:i}}function ss(t,e){try{console.error(e.value)}catch(n){setTimeout((function(){throw n}))}}Ba=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ka=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,Lo(To.current);var a,s=null;switch(n){case"input":o=J(t,o),r=J(t,r),s=[];break;case"option":o=ot(t,o),r=ot(t,r),s=[];break;case"select":o=i({},o,{value:void 0}),r=i({},r,{value:void 0}),s=[];break;case"textarea":o=st(t,o),r=st(t,r),s=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(t.onclick=Ur)}for(c in kt(n,r),n=null,o)if(!r.hasOwnProperty(c)&&o.hasOwnProperty(c)&&null!=o[c])if("style"===c){var u=o[c];for(a in u)u.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else"dangerouslySetInnerHTML"!==c&&"children"!==c&&"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(l.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var h=r[c];if(u=null!=o?o[c]:void 0,r.hasOwnProperty(c)&&h!==u&&(null!=h||null!=u))if("style"===c)if(u){for(a in u)!u.hasOwnProperty(a)||h&&h.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in h)h.hasOwnProperty(a)&&u[a]!==h[a]&&(n||(n={}),n[a]=h[a])}else n||(s||(s=[]),s.push(c,n)),n=h;else"dangerouslySetInnerHTML"===c?(h=h?h.__html:void 0,u=u?u.__html:void 0,null!=h&&u!==h&&(s=s||[]).push(c,h)):"children"===c?"string"!==typeof h&&"number"!==typeof h||(s=s||[]).push(c,""+h):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&(l.hasOwnProperty(c)?(null!=h&&"onScroll"===c&&Tr("scroll",t),s||u===h||(s=[])):"object"===typeof h&&null!==h&&h.$$typeof===N?h.toString():(s=s||[]).push(c,h))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}},Xa=function(t,e,n,r){n!==r&&(e.flags|=4)};var ls="function"===typeof WeakMap?WeakMap:Map;function us(t,e,n){(n=so(-1,n)).tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Xs||(Xs=!0,Ys=r),ss(0,e)},n}function hs(t,e,n){(n=so(-1,n)).tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return ss(0,e),r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===qs?qs=new Set([this]):qs.add(this),ss(0,e));var t=e.stack;this.componentDidCatch(e.value,{componentStack:null!==t?t:""})}),n}var cs="function"===typeof WeakSet?WeakSet:Set;function ds(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(n){Ul(t,n)}else e.current=null}function fs(t,e){switch(e.tag){case 0:case 11:case 15:case 22:return;case 1:if(256&e.flags&&null!==t){var n=t.memoizedProps,r=t.memoizedState;e=(t=e.stateNode).getSnapshotBeforeUpdate(e.elementType===e.type?n:Yi(e.type,n),r),t.__reactInternalSnapshotBeforeUpdate=e}return;case 3:return void(256&e.flags&&Wr(e.stateNode.containerInfo));case 5:case 6:case 4:case 17:return}throw Error(a(163))}function ps(t,e,n){switch(n.tag){case 0:case 11:case 15:case 22:if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{if(3===(3&t.tag)){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}if(null!==(e=null!==(e=n.updateQueue)?e.lastEffect:null)){t=e=e.next;do{var i=t;r=i.next,0!==(4&(i=i.tag))&&0!==(1&i)&&(Dl(n,t),Ol(n,t)),t=r}while(t!==e)}return;case 1:return t=n.stateNode,4&n.flags&&(null===e?t.componentDidMount():(r=n.elementType===n.type?e.memoizedProps:Yi(n.type,e.memoizedProps),t.componentDidUpdate(r,e.memoizedState,t.__reactInternalSnapshotBeforeUpdate))),void(null!==(e=n.updateQueue)&&co(n,e,t));case 3:if(null!==(e=n.updateQueue)){if(t=null,null!==n.child)switch(n.child.tag){case 5:t=n.child.stateNode;break;case 1:t=n.child.stateNode}co(n,e,t)}return;case 5:return t=n.stateNode,void(null===e&&4&n.flags&&Gr(n.type,n.memoizedProps)&&t.focus());case 6:case 4:case 12:return;case 13:return void(null===n.memoizedState&&(n=n.alternate,null!==n&&(n=n.memoizedState,null!==n&&(n=n.dehydrated,null!==n&&Se(n)))));case 19:case 17:case 20:case 21:case 23:case 24:return}throw Error(a(163))}function gs(t,e){for(var n=t;;){if(5===n.tag){var r=n.stateNode;if(e)"function"===typeof(r=r.style).setProperty?r.setProperty("display","none","important"):r.display="none";else{r=n.stateNode;var i=n.memoizedProps.style;i=void 0!==i&&null!==i&&i.hasOwnProperty("display")?i.display:null,r.style.display=wt("display",i)}}else if(6===n.tag)n.stateNode.nodeValue=e?"":n.memoizedProps;else if((23!==n.tag&&24!==n.tag||null===n.memoizedState||n===t)&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}}function ys(t,e){if(wi&&"function"===typeof wi.onCommitFiberUnmount)try{wi.onCommitFiberUnmount(bi,e)}catch(o){}switch(e.tag){case 0:case 11:case 14:case 15:case 22:if(null!==(t=e.updateQueue)&&null!==(t=t.lastEffect)){var n=t=t.next;do{var r=n,i=r.destroy;if(r=r.tag,void 0!==i)if(0!==(4&r))Dl(e,n);else{r=e;try{i()}catch(o){Ul(r,o)}}n=n.next}while(n!==t)}break;case 1:if(ds(e),"function"===typeof(t=e.stateNode).componentWillUnmount)try{t.props=e.memoizedProps,t.state=e.memoizedState,t.componentWillUnmount()}catch(o){Ul(e,o)}break;case 5:ds(e);break;case 4:Ss(t,e)}}function ms(t){t.alternate=null,t.child=null,t.dependencies=null,t.firstEffect=null,t.lastEffect=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.return=null,t.updateQueue=null}function vs(t){return 5===t.tag||3===t.tag||4===t.tag}function _s(t){t:{for(var e=t.return;null!==e;){if(vs(e))break t;e=e.return}throw Error(a(160))}var n=e;switch(e=n.stateNode,n.tag){case 5:var r=!1;break;case 3:case 4:e=e.containerInfo,r=!0;break;default:throw Error(a(161))}16&n.flags&&(vt(e,""),n.flags&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||vs(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag&&18!==n.tag;){if(2&n.flags)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.flags)){n=n.stateNode;break t}}r?bs(t,n,e):ws(t,n,e)}function bs(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?8===n.nodeType?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(8===n.nodeType?(e=n.parentNode).insertBefore(t,n):(e=n).appendChild(t),null!==(n=n._reactRootContainer)&&void 0!==n||null!==e.onclick||(e.onclick=Ur));else if(4!==r&&null!==(t=t.child))for(bs(t,e,n),t=t.sibling;null!==t;)bs(t,e,n),t=t.sibling}function ws(t,e,n){var r=t.tag,i=5===r||6===r;if(i)t=i?t.stateNode:t.stateNode.instance,e?n.insertBefore(t,e):n.appendChild(t);else if(4!==r&&null!==(t=t.child))for(ws(t,e,n),t=t.sibling;null!==t;)ws(t,e,n),t=t.sibling}function Ss(t,e){for(var n,r,i=e,o=!1;;){if(!o){o=i.return;t:for(;;){if(null===o)throw Error(a(160));switch(n=o.stateNode,o.tag){case 5:r=!1;break t;case 3:case 4:n=n.containerInfo,r=!0;break t}o=o.return}o=!0}if(5===i.tag||6===i.tag){t:for(var s=t,l=i,u=l;;)if(ys(s,u),null!==u.child&&4!==u.tag)u.child.return=u,u=u.child;else{if(u===l)break t;for(;null===u.sibling;){if(null===u.return||u.return===l)break t;u=u.return}u.sibling.return=u.return,u=u.sibling}r?(s=n,l=i.stateNode,8===s.nodeType?s.parentNode.removeChild(l):s.removeChild(l)):n.removeChild(i.stateNode)}else if(4===i.tag){if(null!==i.child){n=i.stateNode.containerInfo,r=!0,i.child.return=i,i=i.child;continue}}else if(ys(t,i),null!==i.child){i.child.return=i,i=i.child;continue}if(i===e)break;for(;null===i.sibling;){if(null===i.return||i.return===e)return;4===(i=i.return).tag&&(o=!1)}i.sibling.return=i.return,i=i.sibling}}function xs(t,e){switch(e.tag){case 0:case 11:case 14:case 15:case 22:var n=e.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var r=n=n.next;do{3===(3&r.tag)&&(t=r.destroy,r.destroy=void 0,void 0!==t&&t()),r=r.next}while(r!==n)}return;case 1:return;case 5:if(null!=(n=e.stateNode)){r=e.memoizedProps;var i=null!==t?t.memoizedProps:r;t=e.type;var o=e.updateQueue;if(e.updateQueue=null,null!==o){for(n[Qr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&et(n,r),Ct(t,i),e=Ct(t,r),i=0;i<o.length;i+=2){var s=o[i],l=o[i+1];"style"===s?St(n,l):"dangerouslySetInnerHTML"===s?mt(n,l):"children"===s?vt(n,l):b(n,s,l,e)}switch(t){case"input":nt(n,r);break;case"textarea":ut(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,null!=(o=r.value)?at(n,!!r.multiple,o,!1):t!==!!r.multiple&&(null!=r.defaultValue?at(n,!!r.multiple,r.defaultValue,!0):at(n,!!r.multiple,r.multiple?[]:"",!1))}}}return;case 6:if(null===e.stateNode)throw Error(a(162));return void(e.stateNode.nodeValue=e.memoizedProps);case 3:return void((n=e.stateNode).hydrate&&(n.hydrate=!1,Se(n.containerInfo)));case 12:return;case 13:return null!==e.memoizedState&&(js=Gi(),gs(e.child,!0)),void ks(e);case 19:return void ks(e);case 17:return;case 23:case 24:return void gs(e,null!==e.memoizedState)}throw Error(a(163))}function ks(t){var e=t.updateQueue;if(null!==e){t.updateQueue=null;var n=t.stateNode;null===n&&(n=t.stateNode=new cs),e.forEach((function(e){var r=zl.bind(null,t,e);n.has(e)||(n.add(e),e.then(r,r))}))}}function Cs(t,e){return null!==t&&(null===(t=t.memoizedState)||null!==t.dehydrated)&&(null!==(e=e.memoizedState)&&null===e.dehydrated)}var Ps=Math.ceil,Ts=w.ReactCurrentDispatcher,Es=w.ReactCurrentOwner,Ms=0,Ls=null,Fs=null,As=0,Os=0,Ds=ai(0),Ns=0,Rs=null,Us=0,Is=0,zs=0,Gs=0,Vs=null,js=0,Hs=1/0;function Ws(){Hs=Gi()+500}var Bs,Ks=null,Xs=!1,Ys=null,qs=null,Qs=!1,$s=null,Zs=90,Js=[],tl=[],el=null,nl=0,rl=null,il=-1,ol=0,al=0,sl=null,ll=!1;function ul(){return 0!==(48&Ms)?Gi():-1!==il?il:il=Gi()}function hl(t){if(0===(2&(t=t.mode)))return 1;if(0===(4&t))return 99===Vi()?1:2;if(0===ol&&(ol=Us),0!==Xi.transition){0!==al&&(al=null!==Vs?Vs.pendingLanes:0),t=ol;var e=4186112&~al;return 0===(e&=-e)&&(0===(e=(t=4186112&~t)&-t)&&(e=8192)),e}return t=Vi(),0!==(4&Ms)&&98===t?t=Ge(12,ol):t=Ge(t=function(t){switch(t){case 99:return 15;case 98:return 10;case 97:case 96:return 8;case 95:return 2;default:return 0}}(t),ol),t}function cl(t,e,n){if(50<nl)throw nl=0,rl=null,Error(a(185));if(null===(t=dl(t,e)))return null;He(t,e,n),t===Ls&&(zs|=e,4===Ns&&gl(t,As));var r=Vi();1===e?0!==(8&Ms)&&0===(48&Ms)?yl(t):(fl(t,n),0===Ms&&(Ws(),Bi())):(0===(4&Ms)||98!==r&&99!==r||(null===el?el=new Set([t]):el.add(t)),fl(t,n)),Vs=t}function dl(t,e){t.lanes|=e;var n=t.alternate;for(null!==n&&(n.lanes|=e),n=t,t=t.return;null!==t;)t.childLanes|=e,null!==(n=t.alternate)&&(n.childLanes|=e),n=t,t=t.return;return 3===n.tag?n.stateNode:null}function fl(t,e){for(var n=t.callbackNode,r=t.suspendedLanes,i=t.pingedLanes,o=t.expirationTimes,s=t.pendingLanes;0<s;){var l=31-We(s),u=1<<l,h=o[l];if(-1===h){if(0===(u&r)||0!==(u&i)){h=e,Ue(u);var c=Re;o[l]=10<=c?h+250:6<=c?h+5e3:-1}}else h<=e&&(t.expiredLanes|=u);s&=~u}if(r=Ie(t,t===Ls?As:0),e=Re,0===r)null!==n&&(n!==Di&&ki(n),t.callbackNode=null,t.callbackPriority=0);else{if(null!==n){if(t.callbackPriority===e)return;n!==Di&&ki(n)}15===e?(n=yl.bind(null,t),null===Ri?(Ri=[n],Ui=xi(Mi,Ki)):Ri.push(n),n=Di):14===e?n=Wi(99,yl.bind(null,t)):n=Wi(n=function(t){switch(t){case 15:case 14:return 99;case 13:case 12:case 11:case 10:return 98;case 9:case 8:case 7:case 6:case 4:case 5:return 97;case 3:case 2:case 1:return 95;case 0:return 90;default:throw Error(a(358,t))}}(e),pl.bind(null,t)),t.callbackPriority=e,t.callbackNode=n}}function pl(t){if(il=-1,al=ol=0,0!==(48&Ms))throw Error(a(327));var e=t.callbackNode;if(Al()&&t.callbackNode!==e)return null;var n=Ie(t,t===Ls?As:0);if(0===n)return null;var r=n,i=Ms;Ms|=16;var o=xl();for(Ls===t&&As===r||(Ws(),wl(t,r));;)try{Pl();break}catch(l){Sl(t,l)}if(Ji(),Ts.current=o,Ms=i,null!==Fs?r=0:(Ls=null,As=0,r=Ns),0!==(Us&zs))wl(t,0);else if(0!==r){if(2===r&&(Ms|=64,t.hydrate&&(t.hydrate=!1,Wr(t.containerInfo)),0!==(n=ze(t))&&(r=kl(t,n))),1===r)throw e=Rs,wl(t,0),gl(t,n),fl(t,Gi()),e;switch(t.finishedWork=t.current.alternate,t.finishedLanes=n,r){case 0:case 1:throw Error(a(345));case 2:Ml(t);break;case 3:if(gl(t,n),(62914560&n)===n&&10<(r=js+500-Gi())){if(0!==Ie(t,0))break;if(((i=t.suspendedLanes)&n)!==n){ul(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=jr(Ml.bind(null,t),r);break}Ml(t);break;case 4:if(gl(t,n),(4186112&n)===n)break;for(r=t.eventTimes,i=-1;0<n;){var s=31-We(n);o=1<<s,(s=r[s])>i&&(i=s),n&=~o}if(n=i,10<(n=(120>(n=Gi()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Ps(n/1960))-n)){t.timeoutHandle=jr(Ml.bind(null,t),n);break}Ml(t);break;case 5:Ml(t);break;default:throw Error(a(329))}}return fl(t,Gi()),t.callbackNode===e?pl.bind(null,t):null}function gl(t,e){for(e&=~Gs,e&=~zs,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-We(e),r=1<<n;t[n]=-1,e&=~r}}function yl(t){if(0!==(48&Ms))throw Error(a(327));if(Al(),t===Ls&&0!==(t.expiredLanes&As)){var e=As,n=kl(t,e);0!==(Us&zs)&&(n=kl(t,e=Ie(t,e)))}else n=kl(t,e=Ie(t,0));if(0!==t.tag&&2===n&&(Ms|=64,t.hydrate&&(t.hydrate=!1,Wr(t.containerInfo)),0!==(e=ze(t))&&(n=kl(t,e))),1===n)throw n=Rs,wl(t,0),gl(t,e),fl(t,Gi()),n;return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ml(t),fl(t,Gi()),null}function ml(t,e){var n=Ms;Ms|=1;try{return t(e)}finally{0===(Ms=n)&&(Ws(),Bi())}}function vl(t,e){var n=Ms;Ms&=-2,Ms|=8;try{return t(e)}finally{0===(Ms=n)&&(Ws(),Bi())}}function _l(t,e){li(Ds,Os),Os|=e,Us|=e}function bl(){Os=Ds.current,si(Ds)}function wl(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(-1!==n&&(t.timeoutHandle=-1,Hr(n)),null!==Fs)for(n=Fs.return;null!==n;){var r=n;switch(r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&gi();break;case 3:Ao(),si(ci),si(hi),Xo();break;case 5:Do(r);break;case 4:Ao();break;case 13:case 19:si(No);break;case 10:to(r);break;case 23:case 24:bl()}n=n.return}Ls=t,Fs=Hl(t.current,null),As=Os=Us=e,Ns=0,Rs=null,Gs=zs=Is=0}function Sl(t,e){for(;;){var n=Fs;try{if(Ji(),Yo.current=Ma,ta){for(var r=$o.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ta=!1}if(Qo=0,Jo=Zo=$o=null,ea=!1,Es.current=null,null===n||null===n.return){Ns=1,Rs=e,Fs=null;break}t:{var o=t,a=n.return,s=n,l=e;if(e=As,s.flags|=2048,s.firstEffect=s.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var u=l;if(0===(2&s.mode)){var h=s.alternate;h?(s.updateQueue=h.updateQueue,s.memoizedState=h.memoizedState,s.lanes=h.lanes):(s.updateQueue=null,s.memoizedState=null)}var c=0!==(1&No.current),d=a;do{var f;if(f=13===d.tag){var p=d.memoizedState;if(null!==p)f=null!==p.dehydrated;else{var g=d.memoizedProps;f=void 0!==g.fallback&&(!0!==g.unstable_avoidThisFallback||!c)}}if(f){var y=d.updateQueue;if(null===y){var m=new Set;m.add(u),d.updateQueue=m}else y.add(u);if(0===(2&d.mode)){if(d.flags|=64,s.flags|=16384,s.flags&=-2981,1===s.tag)if(null===s.alternate)s.tag=17;else{var v=so(-1,1);v.tag=2,lo(s,v)}s.lanes|=1;break t}l=void 0,s=e;var _=o.pingCache;if(null===_?(_=o.pingCache=new ls,l=new Set,_.set(u,l)):void 0===(l=_.get(u))&&(l=new Set,_.set(u,l)),!l.has(s)){l.add(s);var b=Il.bind(null,o,u,s);u.then(b,b)}d.flags|=4096,d.lanes=e;break t}d=d.return}while(null!==d);l=Error((X(s.type)||"A React component")+" suspended while rendering, but no fallback UI was specified.\n\nAdd a <Suspense fallback=...> component higher in the tree to provide a loading indicator or placeholder to display.")}5!==Ns&&(Ns=2),l=as(l,s),d=a;do{switch(d.tag){case 3:o=l,d.flags|=4096,e&=-e,d.lanes|=e,uo(d,us(0,o,e));break t;case 1:o=l;var w=d.type,S=d.stateNode;if(0===(64&d.flags)&&("function"===typeof w.getDerivedStateFromError||null!==S&&"function"===typeof S.componentDidCatch&&(null===qs||!qs.has(S)))){d.flags|=4096,e&=-e,d.lanes|=e,uo(d,hs(d,o,e));break t}}d=d.return}while(null!==d)}El(n)}catch(x){e=x,Fs===n&&null!==n&&(Fs=n=n.return);continue}break}}function xl(){var t=Ts.current;return Ts.current=Ma,null===t?Ma:t}function kl(t,e){var n=Ms;Ms|=16;var r=xl();for(Ls===t&&As===e||wl(t,e);;)try{Cl();break}catch(i){Sl(t,i)}if(Ji(),Ms=n,Ts.current=r,null!==Fs)throw Error(a(261));return Ls=null,As=0,Ns}function Cl(){for(;null!==Fs;)Tl(Fs)}function Pl(){for(;null!==Fs&&!Ci();)Tl(Fs)}function Tl(t){var e=Bs(t.alternate,t,Os);t.memoizedProps=t.pendingProps,null===e?El(t):Fs=e,Es.current=null}function El(t){var e=t;do{var n=e.alternate;if(t=e.return,0===(2048&e.flags)){if(null!==(n=is(n,e,Os)))return void(Fs=n);if(24!==(n=e).tag&&23!==n.tag||null===n.memoizedState||0!==(1073741824&Os)||0===(4&n.mode)){for(var r=0,i=n.child;null!==i;)r|=i.lanes|i.childLanes,i=i.sibling;n.childLanes=r}null!==t&&0===(2048&t.flags)&&(null===t.firstEffect&&(t.firstEffect=e.firstEffect),null!==e.lastEffect&&(null!==t.lastEffect&&(t.lastEffect.nextEffect=e.firstEffect),t.lastEffect=e.lastEffect),1<e.flags&&(null!==t.lastEffect?t.lastEffect.nextEffect=e:t.firstEffect=e,t.lastEffect=e))}else{if(null!==(n=os(e)))return n.flags&=2047,void(Fs=n);null!==t&&(t.firstEffect=t.lastEffect=null,t.flags|=2048)}if(null!==(e=e.sibling))return void(Fs=e);Fs=e=t}while(null!==e);0===Ns&&(Ns=5)}function Ml(t){var e=Vi();return Hi(99,Ll.bind(null,t,e)),null}function Ll(t,e){do{Al()}while(null!==$s);if(0!==(48&Ms))throw Error(a(327));var n=t.finishedWork;if(null===n)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(a(177));t.callbackNode=null;var r=n.lanes|n.childLanes,i=r,o=t.pendingLanes&~i;t.pendingLanes=i,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=i,t.mutableReadLanes&=i,t.entangledLanes&=i,i=t.entanglements;for(var s=t.eventTimes,l=t.expirationTimes;0<o;){var u=31-We(o),h=1<<u;i[u]=0,s[u]=-1,l[u]=-1,o&=~h}if(null!==el&&0===(24&r)&&el.has(t)&&el.delete(t),t===Ls&&(Fs=Ls=null,As=0),1<n.flags?null!==n.lastEffect?(n.lastEffect.nextEffect=n,r=n.firstEffect):r=n:r=n.firstEffect,null!==r){if(i=Ms,Ms|=32,Es.current=null,Ir=qe,pr(s=fr())){if("selectionStart"in s)l={start:s.selectionStart,end:s.selectionEnd};else t:if(l=(l=s.ownerDocument)&&l.defaultView||window,(h=l.getSelection&&l.getSelection())&&0!==h.rangeCount){l=h.anchorNode,o=h.anchorOffset,u=h.focusNode,h=h.focusOffset;try{l.nodeType,u.nodeType}catch(P){l=null;break t}var c=0,d=-1,f=-1,p=0,g=0,y=s,m=null;e:for(;;){for(var v;y!==l||0!==o&&3!==y.nodeType||(d=c+o),y!==u||0!==h&&3!==y.nodeType||(f=c+h),3===y.nodeType&&(c+=y.nodeValue.length),null!==(v=y.firstChild);)m=y,y=v;for(;;){if(y===s)break e;if(m===l&&++p===o&&(d=c),m===u&&++g===h&&(f=c),null!==(v=y.nextSibling))break;m=(y=m).parentNode}y=v}l=-1===d||-1===f?null:{start:d,end:f}}else l=null;l=l||{start:0,end:0}}else l=null;zr={focusedElem:s,selectionRange:l},qe=!1,sl=null,ll=!1,Ks=r;do{try{Fl()}catch(P){if(null===Ks)throw Error(a(330));Ul(Ks,P),Ks=Ks.nextEffect}}while(null!==Ks);sl=null,Ks=r;do{try{for(s=t;null!==Ks;){var _=Ks.flags;if(16&_&&vt(Ks.stateNode,""),128&_){var b=Ks.alternate;if(null!==b){var w=b.ref;null!==w&&("function"===typeof w?w(null):w.current=null)}}switch(1038&_){case 2:_s(Ks),Ks.flags&=-3;break;case 6:_s(Ks),Ks.flags&=-3,xs(Ks.alternate,Ks);break;case 1024:Ks.flags&=-1025;break;case 1028:Ks.flags&=-1025,xs(Ks.alternate,Ks);break;case 4:xs(Ks.alternate,Ks);break;case 8:Ss(s,l=Ks);var S=l.alternate;ms(l),null!==S&&ms(S)}Ks=Ks.nextEffect}}catch(P){if(null===Ks)throw Error(a(330));Ul(Ks,P),Ks=Ks.nextEffect}}while(null!==Ks);if(w=zr,b=fr(),_=w.focusedElem,s=w.selectionRange,b!==_&&_&&_.ownerDocument&&dr(_.ownerDocument.documentElement,_)){null!==s&&pr(_)&&(b=s.start,void 0===(w=s.end)&&(w=b),"selectionStart"in _?(_.selectionStart=b,_.selectionEnd=Math.min(w,_.value.length)):(w=(b=_.ownerDocument||document)&&b.defaultView||window).getSelection&&(w=w.getSelection(),l=_.textContent.length,S=Math.min(s.start,l),s=void 0===s.end?S:Math.min(s.end,l),!w.extend&&S>s&&(l=s,s=S,S=l),l=cr(_,S),o=cr(_,s),l&&o&&(1!==w.rangeCount||w.anchorNode!==l.node||w.anchorOffset!==l.offset||w.focusNode!==o.node||w.focusOffset!==o.offset)&&((b=b.createRange()).setStart(l.node,l.offset),w.removeAllRanges(),S>s?(w.addRange(b),w.extend(o.node,o.offset)):(b.setEnd(o.node,o.offset),w.addRange(b))))),b=[];for(w=_;w=w.parentNode;)1===w.nodeType&&b.push({element:w,left:w.scrollLeft,top:w.scrollTop});for("function"===typeof _.focus&&_.focus(),_=0;_<b.length;_++)(w=b[_]).element.scrollLeft=w.left,w.element.scrollTop=w.top}qe=!!Ir,zr=Ir=null,t.current=n,Ks=r;do{try{for(_=t;null!==Ks;){var x=Ks.flags;if(36&x&&ps(_,Ks.alternate,Ks),128&x){b=void 0;var k=Ks.ref;if(null!==k){var C=Ks.stateNode;switch(Ks.tag){case 5:b=C;break;default:b=C}"function"===typeof k?k(b):k.current=b}}Ks=Ks.nextEffect}}catch(P){if(null===Ks)throw Error(a(330));Ul(Ks,P),Ks=Ks.nextEffect}}while(null!==Ks);Ks=null,Ni(),Ms=i}else t.current=n;if(Qs)Qs=!1,$s=t,Zs=e;else for(Ks=r;null!==Ks;)e=Ks.nextEffect,Ks.nextEffect=null,8&Ks.flags&&((x=Ks).sibling=null,x.stateNode=null),Ks=e;if(0===(r=t.pendingLanes)&&(qs=null),1===r?t===rl?nl++:(nl=0,rl=t):nl=0,n=n.stateNode,wi&&"function"===typeof wi.onCommitFiberRoot)try{wi.onCommitFiberRoot(bi,n,void 0,64===(64&n.current.flags))}catch(P){}if(fl(t,Gi()),Xs)throw Xs=!1,t=Ys,Ys=null,t;return 0!==(8&Ms)||Bi(),null}function Fl(){for(;null!==Ks;){var t=Ks.alternate;ll||null===sl||(0!==(8&Ks.flags)?te(Ks,sl)&&(ll=!0):13===Ks.tag&&Cs(t,Ks)&&te(Ks,sl)&&(ll=!0));var e=Ks.flags;0!==(256&e)&&fs(t,Ks),0===(512&e)||Qs||(Qs=!0,Wi(97,(function(){return Al(),null}))),Ks=Ks.nextEffect}}function Al(){if(90!==Zs){var t=97<Zs?97:Zs;return Zs=90,Hi(t,Nl)}return!1}function Ol(t,e){Js.push(e,t),Qs||(Qs=!0,Wi(97,(function(){return Al(),null})))}function Dl(t,e){tl.push(e,t),Qs||(Qs=!0,Wi(97,(function(){return Al(),null})))}function Nl(){if(null===$s)return!1;var t=$s;if($s=null,0!==(48&Ms))throw Error(a(331));var e=Ms;Ms|=32;var n=tl;tl=[];for(var r=0;r<n.length;r+=2){var i=n[r],o=n[r+1],s=i.destroy;if(i.destroy=void 0,"function"===typeof s)try{s()}catch(u){if(null===o)throw Error(a(330));Ul(o,u)}}for(n=Js,Js=[],r=0;r<n.length;r+=2){i=n[r],o=n[r+1];try{var l=i.create;i.destroy=l()}catch(u){if(null===o)throw Error(a(330));Ul(o,u)}}for(l=t.current.firstEffect;null!==l;)t=l.nextEffect,l.nextEffect=null,8&l.flags&&(l.sibling=null,l.stateNode=null),l=t;return Ms=e,Bi(),!0}function Rl(t,e,n){lo(t,e=us(0,e=as(n,e),1)),e=ul(),null!==(t=dl(t,1))&&(He(t,1,e),fl(t,e))}function Ul(t,e){if(3===t.tag)Rl(t,t,e);else for(var n=t.return;null!==n;){if(3===n.tag){Rl(n,t,e);break}if(1===n.tag){var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r))){var i=hs(n,t=as(e,t),1);if(lo(n,i),i=ul(),null!==(n=dl(n,1)))He(n,1,i),fl(n,i);else if("function"===typeof r.componentDidCatch&&(null===qs||!qs.has(r)))try{r.componentDidCatch(e,t)}catch(o){}break}}n=n.return}}function Il(t,e,n){var r=t.pingCache;null!==r&&r.delete(e),e=ul(),t.pingedLanes|=t.suspendedLanes&n,Ls===t&&(As&n)===n&&(4===Ns||3===Ns&&(62914560&As)===As&&500>Gi()-js?wl(t,0):Gs|=n),fl(t,e)}function zl(t,e){var n=t.stateNode;null!==n&&n.delete(e),0===(e=0)&&(0===(2&(e=t.mode))?e=1:0===(4&e)?e=99===Vi()?1:2:(0===ol&&(ol=Us),0===(e=Ve(62914560&~ol))&&(e=4194304))),n=ul(),null!==(t=dl(t,e))&&(He(t,e,n),fl(t,n))}function Gl(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.flags=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childLanes=this.lanes=0,this.alternate=null}function Vl(t,e,n,r){return new Gl(t,e,n,r)}function jl(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Hl(t,e){var n=t.alternate;return null===n?((n=Vl(t.tag,e,t.key,t.mode)).elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Wl(t,e,n,r,i,o){var s=2;if(r=t,"function"===typeof t)jl(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case k:return Bl(n.children,i,o,e);case R:s=8,i|=16;break;case C:s=8,i|=1;break;case P:return(t=Vl(12,n,e,8|i)).elementType=P,t.type=P,t.lanes=o,t;case L:return(t=Vl(13,n,e,i)).type=L,t.elementType=L,t.lanes=o,t;case F:return(t=Vl(19,n,e,i)).elementType=F,t.lanes=o,t;case U:return Kl(n,i,o,e);case I:return(t=Vl(24,n,e,i)).elementType=I,t.lanes=o,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case T:s=10;break t;case E:s=9;break t;case M:s=11;break t;case A:s=14;break t;case O:s=16,r=null;break t;case D:s=22;break t}throw Error(a(130,null==t?t:typeof t,""))}return(e=Vl(s,n,e,i)).elementType=t,e.type=r,e.lanes=o,e}function Bl(t,e,n,r){return(t=Vl(7,t,r,e)).lanes=n,t}function Kl(t,e,n,r){return(t=Vl(23,t,r,e)).elementType=U,t.lanes=n,t}function Xl(t,e,n){return(t=Vl(6,t,null,e)).lanes=n,t}function Yl(t,e,n){return(e=Vl(4,null!==t.children?t.children:[],t.key,e)).lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ql(t,e,n){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.pendingContext=this.context=null,this.hydrate=n,this.callbackNode=null,this.callbackPriority=0,this.eventTimes=je(0),this.expirationTimes=je(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=je(0),this.mutableSourceEagerHydrationData=null}function Ql(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:x,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function $l(t,e,n,r){var i=e.current,o=ul(),s=hl(i);t:if(n){e:{if(Qt(n=n._reactInternals)!==n||1!==n.tag)throw Error(a(170));var l=n;do{switch(l.tag){case 3:l=l.stateNode.context;break e;case 1:if(pi(l.type)){l=l.stateNode.__reactInternalMemoizedMergedChildContext;break e}}l=l.return}while(null!==l);throw Error(a(171))}if(1===n.tag){var u=n.type;if(pi(u)){n=mi(n,u,l);break t}}n=l}else n=ui;return null===e.context?e.context=n:e.pendingContext=n,(e=so(o,s)).payload={element:t},null!==(r=void 0===r?null:r)&&(e.callback=r),lo(i,e),cl(i,s,o),s}function Zl(t){if(!(t=t.current).child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Jl(t,e){if(null!==(t=t.memoizedState)&&null!==t.dehydrated){var n=t.retryLane;t.retryLane=0!==n&&n<e?n:e}}function tu(t,e){Jl(t,e),(t=t.alternate)&&Jl(t,e)}function eu(t,e,n){var r=null!=n&&null!=n.hydrationOptions&&n.hydrationOptions.mutableSources||null;if(n=new ql(t,e,null!=n&&!0===n.hydrate),e=Vl(3,null,null,2===e?7:1===e?3:0),n.current=e,e.stateNode=n,oo(e),t[$r]=n.current,Mr(8===t.nodeType?t.parentNode:t),r)for(t=0;t<r.length;t++){var i=(e=r[t])._getVersion;i=i(e._source),null==n.mutableSourceEagerHydrationData?n.mutableSourceEagerHydrationData=[e,i]:n.mutableSourceEagerHydrationData.push(e,i)}this._internalRoot=n}function nu(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function ru(t,e,n,r,i){var o=n._reactRootContainer;if(o){var a=o._internalRoot;if("function"===typeof i){var s=i;i=function(){var t=Zl(a);s.call(t)}}$l(e,a,t,i)}else{if(o=n._reactRootContainer=function(t,e){if(e||(e=!(!(e=t?9===t.nodeType?t.documentElement:t.firstChild:null)||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new eu(t,0,e?{hydrate:!0}:void 0)}(n,r),a=o._internalRoot,"function"===typeof i){var l=i;i=function(){var t=Zl(a);l.call(t)}}vl((function(){$l(e,a,t,i)}))}return Zl(a)}function iu(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!nu(e))throw Error(a(200));return Ql(t,e,null,n)}Bs=function(t,e,n){var r=e.lanes;if(null!==t)if(t.memoizedProps!==e.pendingProps||ci.current)Da=!0;else{if(0===(n&r)){switch(Da=!1,e.tag){case 3:Wa(e),Bo();break;case 5:Oo(e);break;case 1:pi(e.type)&&vi(e);break;case 4:Fo(e,e.stateNode.containerInfo);break;case 10:r=e.memoizedProps.value;var i=e.type._context;li(qi,i._currentValue),i._currentValue=r;break;case 13:if(null!==e.memoizedState)return 0!==(n&e.child.childLanes)?qa(t,e,n):(li(No,1&No.current),null!==(e=ns(t,e,n))?e.sibling:null);li(No,1&No.current);break;case 19:if(r=0!==(n&e.childLanes),0!==(64&t.flags)){if(r)return es(t,e,n);e.flags|=64}if(null!==(i=e.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),li(No,No.current),r)break;return null;case 23:case 24:return e.lanes=0,za(t,e,n)}return ns(t,e,n)}Da=0!==(16384&t.flags)}else Da=!1;switch(e.lanes=0,e.tag){case 2:if(r=e.type,null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=fi(e,hi.current),no(e,n),i=ia(null,e,r,t,i,n),e.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof){if(e.tag=1,e.memoizedState=null,e.updateQueue=null,pi(r)){var o=!0;vi(e)}else o=!1;e.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,oo(e);var s=r.getDerivedStateFromProps;"function"===typeof s&&po(e,r,s,t),i.updater=go,e.stateNode=i,i._reactInternals=e,_o(e,r,t,n),e=Ha(null,e,r,!0,o,n)}else e.tag=0,Na(null,e,i,n),e=e.child;return e;case 16:i=e.elementType;t:{switch(null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),t=e.pendingProps,i=(o=i._init)(i._payload),e.type=i,o=e.tag=function(t){if("function"===typeof t)return jl(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===M)return 11;if(t===A)return 14}return 2}(i),t=Yi(i,t),o){case 0:e=Va(null,e,i,t,n);break t;case 1:e=ja(null,e,i,t,n);break t;case 11:e=Ra(null,e,i,t,n);break t;case 14:e=Ua(null,e,i,Yi(i.type,t),r,n);break t}throw Error(a(306,i,""))}return e;case 0:return r=e.type,i=e.pendingProps,Va(t,e,r,i=e.elementType===r?i:Yi(r,i),n);case 1:return r=e.type,i=e.pendingProps,ja(t,e,r,i=e.elementType===r?i:Yi(r,i),n);case 3:if(Wa(e),r=e.updateQueue,null===t||null===r)throw Error(a(282));if(r=e.pendingProps,i=null!==(i=e.memoizedState)?i.element:null,ao(t,e),ho(e,r,null,n),(r=e.memoizedState.element)===i)Bo(),e=ns(t,e,n);else{if((o=(i=e.stateNode).hydrate)&&(Io=Br(e.stateNode.containerInfo.firstChild),Uo=e,o=zo=!0),o){if(null!=(t=i.mutableSourceEagerHydrationData))for(i=0;i<t.length;i+=2)(o=t[i])._workInProgressVersionPrimary=t[i+1],Ko.push(o);for(n=Co(e,null,r,n),e.child=n;n;)n.flags=-3&n.flags|1024,n=n.sibling}else Na(t,e,r,n),Bo();e=e.child}return e;case 5:return Oo(e),null===t&&jo(e),r=e.type,i=e.pendingProps,o=null!==t?t.memoizedProps:null,s=i.children,Vr(r,i)?s=null:null!==o&&Vr(r,o)&&(e.flags|=16),Ga(t,e),Na(t,e,s,n),e.child;case 6:return null===t&&jo(e),null;case 13:return qa(t,e,n);case 4:return Fo(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=ko(e,null,r,n):Na(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,Ra(t,e,r,i=e.elementType===r?i:Yi(r,i),n);case 7:return Na(t,e,e.pendingProps,n),e.child;case 8:case 12:return Na(t,e,e.pendingProps.children,n),e.child;case 10:t:{r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value;var l=e.type._context;if(li(qi,l._currentValue),l._currentValue=o,null!==s)if(l=s.value,0===(o=sr(l,o)?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(l,o):1073741823))){if(s.children===i.children&&!ci.current){e=ns(t,e,n);break t}}else for(null!==(l=e.child)&&(l.return=e);null!==l;){var u=l.dependencies;if(null!==u){s=l.child;for(var h=u.firstContext;null!==h;){if(h.context===r&&0!==(h.observedBits&o)){1===l.tag&&((h=so(-1,n&-n)).tag=2,lo(l,h)),l.lanes|=n,null!==(h=l.alternate)&&(h.lanes|=n),eo(l.return,n),u.lanes|=n;break}h=h.next}}else s=10===l.tag&&l.type===e.type?null:l.child;if(null!==s)s.return=l;else for(s=l;null!==s;){if(s===e){s=null;break}if(null!==(l=s.sibling)){l.return=s.return,s=l;break}s=s.return}l=s}Na(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=(o=e.pendingProps).children,no(e,n),r=r(i=ro(i,o.unstable_observedBits)),e.flags|=1,Na(t,e,r,n),e.child;case 14:return o=Yi(i=e.type,e.pendingProps),Ua(t,e,i,o=Yi(i.type,o),r,n);case 15:return Ia(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Yi(r,i),null!==t&&(t.alternate=null,e.alternate=null,e.flags|=2),e.tag=1,pi(r)?(t=!0,vi(e)):t=!1,no(e,n),mo(e,r,i),_o(e,r,i,n),Ha(null,e,r,!0,t,n);case 19:return es(t,e,n);case 23:case 24:return za(t,e,n)}throw Error(a(156,e.tag))},eu.prototype.render=function(t){$l(t,this._internalRoot,null,null)},eu.prototype.unmount=function(){var t=this._internalRoot,e=t.containerInfo;$l(null,t,null,(function(){e[$r]=null}))},ee=function(t){13===t.tag&&(cl(t,4,ul()),tu(t,4))},ne=function(t){13===t.tag&&(cl(t,67108864,ul()),tu(t,67108864))},re=function(t){if(13===t.tag){var e=ul(),n=hl(t);cl(t,n,e),tu(t,n)}},ie=function(t,e){return e()},Tt=function(t,e,n){switch(e){case"input":if(nt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=ni(r);if(!i)throw Error(a(90));$(r),nt(r,i)}}}break;case"textarea":ut(t,n);break;case"select":null!=(e=n.value)&&at(t,!!n.multiple,e,!1)}},Ot=ml,Dt=function(t,e,n,r,i){var o=Ms;Ms|=4;try{return Hi(98,t.bind(null,e,n,r,i))}finally{0===(Ms=o)&&(Ws(),Bi())}},Nt=function(){0===(49&Ms)&&(function(){if(null!==el){var t=el;el=null,t.forEach((function(t){t.expiredLanes|=24&t.pendingLanes,fl(t,Gi())}))}Bi()}(),Al())},Rt=function(t,e){var n=Ms;Ms|=2;try{return t(e)}finally{0===(Ms=n)&&(Ws(),Bi())}};var ou={Events:[ti,ei,ni,Ft,At,Al,{current:!1}]},au={findFiberByHostInstance:Jr,bundleType:0,version:"17.0.1",rendererPackageName:"react-dom"},su={bundleType:au.bundleType,version:au.version,rendererPackageName:au.rendererPackageName,rendererConfig:au.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return null===(t=Jt(t))?null:t.stateNode},findFiberByHostInstance:au.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var lu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!lu.isDisabled&&lu.supportsFiber)try{bi=lu.inject(su),wi=lu}catch(yt){}}e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ou,e.createPortal=iu,e.findDOMNode=function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternals;if(void 0===e){if("function"===typeof t.render)throw Error(a(188));throw Error(a(268,Object.keys(t)))}return t=null===(t=Jt(e))?null:t.stateNode},e.flushSync=function(t,e){var n=Ms;if(0!==(48&n))return t(e);Ms|=1;try{if(t)return Hi(99,t.bind(null,e))}finally{Ms=n,Bi()}},e.hydrate=function(t,e,n){if(!nu(e))throw Error(a(200));return ru(null,t,e,!0,n)},e.render=function(t,e,n){if(!nu(e))throw Error(a(200));return ru(null,t,e,!1,n)},e.unmountComponentAtNode=function(t){if(!nu(t))throw Error(a(40));return!!t._reactRootContainer&&(vl((function(){ru(null,null,t,!1,(function(){t._reactRootContainer=null,t[$r]=null}))})),!0)},e.unstable_batchedUpdates=ml,e.unstable_createPortal=function(t,e){return iu(t,e,2<arguments.length&&void 0!==arguments[2]?arguments[2]:null)},e.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!nu(n))throw Error(a(200));if(null==t||void 0===t._reactInternals)throw Error(a(38));return ru(t,e,n,!1,r)},e.version="17.0.1"},function(t,e,n){"use strict";t.exports=n(17)},function(t,e,n){"use strict";var r,i,o,a;if("object"===typeof performance&&"function"===typeof performance.now){var s=performance;e.unstable_now=function(){return s.now()}}else{var l=Date,u=l.now();e.unstable_now=function(){return l.now()-u}}if("undefined"===typeof window||"function"!==typeof MessageChannel){var h=null,c=null,d=function t(){if(null!==h)try{var n=e.unstable_now();h(!0,n),h=null}catch(r){throw setTimeout(t,0),r}};r=function(t){null!==h?setTimeout(r,0,t):(h=t,setTimeout(d,0))},i=function(t,e){c=setTimeout(t,e)},o=function(){clearTimeout(c)},e.unstable_shouldYield=function(){return!1},a=e.unstable_forceFrameRate=function(){}}else{var f=window.setTimeout,p=window.clearTimeout;if("undefined"!==typeof console){var g=window.cancelAnimationFrame;"function"!==typeof window.requestAnimationFrame&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills"),"function"!==typeof g&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://reactjs.org/link/react-polyfills")}var y=!1,m=null,v=-1,_=5,b=0;e.unstable_shouldYield=function(){return e.unstable_now()>=b},a=function(){},e.unstable_forceFrameRate=function(t){0>t||125<t?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):_=0<t?Math.floor(1e3/t):5};var w=new MessageChannel,S=w.port2;w.port1.onmessage=function(){if(null!==m){var t=e.unstable_now();b=t+_;try{m(!0,t)?S.postMessage(null):(y=!1,m=null)}catch(n){throw S.postMessage(null),n}}else y=!1},r=function(t){m=t,y||(y=!0,S.postMessage(null))},i=function(t,n){v=f((function(){t(e.unstable_now())}),n)},o=function(){p(v),v=-1}}function x(t,e){var n=t.length;t.push(e);t:for(;;){var r=n-1>>>1,i=t[r];if(!(void 0!==i&&0<P(i,e)))break t;t[r]=e,t[n]=i,n=r}}function k(t){return void 0===(t=t[0])?null:t}function C(t){var e=t[0];if(void 0!==e){var n=t.pop();if(n!==e){t[0]=n;t:for(var r=0,i=t.length;r<i;){var o=2*(r+1)-1,a=t[o],s=o+1,l=t[s];if(void 0!==a&&0>P(a,n))void 0!==l&&0>P(l,a)?(t[r]=l,t[s]=n,r=s):(t[r]=a,t[o]=n,r=o);else{if(!(void 0!==l&&0>P(l,n)))break t;t[r]=l,t[s]=n,r=s}}}return e}return null}function P(t,e){var n=t.sortIndex-e.sortIndex;return 0!==n?n:t.id-e.id}var T=[],E=[],M=1,L=null,F=3,A=!1,O=!1,D=!1;function N(t){for(var e=k(E);null!==e;){if(null===e.callback)C(E);else{if(!(e.startTime<=t))break;C(E),e.sortIndex=e.expirationTime,x(T,e)}e=k(E)}}function R(t){if(D=!1,N(t),!O)if(null!==k(T))O=!0,r(U);else{var e=k(E);null!==e&&i(R,e.startTime-t)}}function U(t,n){O=!1,D&&(D=!1,o()),A=!0;var r=F;try{for(N(n),L=k(T);null!==L&&(!(L.expirationTime>n)||t&&!e.unstable_shouldYield());){var a=L.callback;if("function"===typeof a){L.callback=null,F=L.priorityLevel;var s=a(L.expirationTime<=n);n=e.unstable_now(),"function"===typeof s?L.callback=s:L===k(T)&&C(T),N(n)}else C(T);L=k(T)}if(null!==L)var l=!0;else{var u=k(E);null!==u&&i(R,u.startTime-n),l=!1}return l}finally{L=null,F=r,A=!1}}var I=a;e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(t){t.callback=null},e.unstable_continueExecution=function(){O||A||(O=!0,r(U))},e.unstable_getCurrentPriorityLevel=function(){return F},e.unstable_getFirstCallbackNode=function(){return k(T)},e.unstable_next=function(t){switch(F){case 1:case 2:case 3:var e=3;break;default:e=F}var n=F;F=e;try{return t()}finally{F=n}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=I,e.unstable_runWithPriority=function(t,e){switch(t){case 1:case 2:case 3:case 4:case 5:break;default:t=3}var n=F;F=t;try{return e()}finally{F=n}},e.unstable_scheduleCallback=function(t,n,a){var s=e.unstable_now();switch("object"===typeof a&&null!==a?a="number"===typeof(a=a.delay)&&0<a?s+a:s:a=s,t){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return t={id:M++,callback:n,priorityLevel:t,startTime:a,expirationTime:l=a+l,sortIndex:-1},a>s?(t.sortIndex=a,x(E,t),null===k(T)&&t===k(E)&&(D?o():D=!0,i(R,a-s))):(t.sortIndex=l,x(T,t),O||A||(O=!0,r(U))),t},e.unstable_wrapCallback=function(t){var e=F;return function(){var n=F;F=e;try{return t.apply(this,arguments)}finally{F=n}}}},function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(r){"object"===typeof window&&(n=window)}t.exports=n}]]);
//# sourceMappingURL=2.f57f2e56.chunk.js.map